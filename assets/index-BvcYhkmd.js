(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Nn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ae={},as=[],pt=()=>{},yl=()=>!1,Cr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Un=t=>t.startsWith("onUpdate:"),Ee=Object.assign,Fn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},_l=Object.prototype.hasOwnProperty,ne=(t,e)=>_l.call(t,e),G=Array.isArray,ls=t=>Ys(t)==="[object Map]",Pr=t=>Ys(t)==="[object Set]",mi=t=>Ys(t)==="[object Date]",V=t=>typeof t=="function",we=t=>typeof t=="string",ot=t=>typeof t=="symbol",he=t=>t!==null&&typeof t=="object",Oo=t=>(he(t)||V(t))&&V(t.then)&&V(t.catch),Ao=Object.prototype.toString,Ys=t=>Ao.call(t),bl=t=>Ys(t).slice(8,-1),Ro=t=>Ys(t)==="[object Object]",Bn=t=>we(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Os=Nn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},wl=/-(\w)/g,Ye=Tr(t=>t.replace(wl,(e,s)=>s?s.toUpperCase():"")),xl=/\B([A-Z])/g,Nt=Tr(t=>t.replace(xl,"-$1").toLowerCase()),$r=Tr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Jr=Tr(t=>t?`on${$r(t)}`:""),Lt=(t,e)=>!Object.is(t,e),ur=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Io=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},gr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let vi;const Or=()=>vi||(vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Hn(t){if(G(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=we(r)?Cl(r):Hn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(we(t)||he(t))return t}const kl=/;(?![^(]*\))/g,Sl=/:([^]+)/,El=/\/\*[^]*?\*\//g;function Cl(t){const e={};return t.replace(El,"").split(kl).forEach(s=>{if(s){const r=s.split(Sl);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function nt(t){let e="";if(we(t))e=t;else if(G(t))for(let s=0;s<t.length;s++){const r=nt(t[s]);r&&(e+=r+" ")}else if(he(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Pl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Tl=Nn(Pl);function jo(t){return!!t||t===""}function $l(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=Ar(t[r],e[r]);return s}function Ar(t,e){if(t===e)return!0;let s=mi(t),r=mi(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=ot(t),r=ot(e),s||r)return t===e;if(s=G(t),r=G(e),s||r)return s&&r?$l(t,e):!1;if(s=he(t),r=he(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ar(t[o],e[o]))return!1}}return String(t)===String(e)}function Ol(t,e){return t.findIndex(s=>Ar(s,e))}const Mo=t=>!!(t&&t.__v_isRef===!0),F=t=>we(t)?t:t==null?"":G(t)||he(t)&&(t.toString===Ao||!V(t.toString))?Mo(t)?F(t.value):JSON.stringify(t,Lo,2):String(t),Lo=(t,e)=>Mo(e)?Lo(t,e.value):ls(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Qr(r,i)+" =>"]=n,s),{})}:Pr(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Qr(s))}:ot(e)?Qr(e):he(e)&&!G(e)&&!Ro(e)?String(e):e,Qr=(t,e="")=>{var s;return ot(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ve;class Al{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ve,!e&&Ve&&(this.index=(Ve.scopes||(Ve.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Ve;try{return Ve=this,e()}finally{Ve=s}}}on(){Ve=this}off(){Ve=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Rl(){return Ve}let de;const Yr=new WeakSet;class Do{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ve&&Ve.active&&Ve.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yr.has(this)&&(Yr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Uo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,yi(this),Fo(this);const e=de,s=it;de=this,it=!0;try{return this.fn()}finally{Bo(this),de=e,it=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Kn(e);this.deps=this.depsTail=void 0,yi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){gn(this)&&this.run()}get dirty(){return gn(this)}}let No=0,As,Rs;function Uo(t,e=!1){if(t.flags|=8,e){t.next=Rs,Rs=t;return}t.next=As,As=t}function zn(){No++}function Gn(){if(--No>0)return;if(Rs){let e=Rs;for(Rs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;As;){let e=As;for(As=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Fo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Bo(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Kn(r),Il(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function gn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ho(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ho(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Fs))return;t.globalVersion=Fs;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!gn(t)){t.flags&=-3;return}const s=de,r=it;de=t,it=!0;try{Fo(t);const n=t.fn(t._value);(e.version===0||Lt(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{de=s,it=r,Bo(t),t.flags&=-3}}function Kn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Kn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Il(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let it=!0;const zo=[];function Ut(){zo.push(it),it=!1}function Ft(){const t=zo.pop();it=t===void 0?!0:t}function yi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=de;de=void 0;try{e()}finally{de=s}}}let Fs=0;class jl{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!de||!it||de===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==de)s=this.activeLink=new jl(de,this),de.deps?(s.prevDep=de.depsTail,de.depsTail.nextDep=s,de.depsTail=s):de.deps=de.depsTail=s,Go(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=de.depsTail,s.nextDep=void 0,de.depsTail.nextDep=s,de.depsTail=s,de.deps===s&&(de.deps=r)}return s}trigger(e){this.version++,Fs++,this.notify(e)}notify(e){zn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Gn()}}}function Go(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Go(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const mn=new WeakMap,Wt=Symbol(""),vn=Symbol(""),Bs=Symbol("");function Oe(t,e,s){if(it&&de){let r=mn.get(t);r||mn.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new qn),n.map=r,n.key=s),n.track()}}function bt(t,e,s,r,n,i){const o=mn.get(t);if(!o){Fs++;return}const a=l=>{l&&l.trigger()};if(zn(),e==="clear")o.forEach(a);else{const l=G(t),c=l&&Bn(s);if(l&&s==="length"){const u=Number(r);o.forEach((d,h)=>{(h==="length"||h===Bs||!ot(h)&&h>=u)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(Bs)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Wt)),ls(t)&&a(o.get(vn)));break;case"delete":l||(a(o.get(Wt)),ls(t)&&a(o.get(vn)));break;case"set":ls(t)&&a(o.get(Wt));break}}Gn()}function es(t){const e=re(t);return e===t?e:(Oe(e,"iterate",Bs),Qe(t)?e:e.map(Ae))}function Rr(t){return Oe(t=re(t),"iterate",Bs),t}const Ml={__proto__:null,[Symbol.iterator](){return Xr(this,Symbol.iterator,Ae)},concat(...t){return es(this).concat(...t.map(e=>G(e)?es(e):e))},entries(){return Xr(this,"entries",t=>(t[1]=Ae(t[1]),t))},every(t,e){return vt(this,"every",t,e,void 0,arguments)},filter(t,e){return vt(this,"filter",t,e,s=>s.map(Ae),arguments)},find(t,e){return vt(this,"find",t,e,Ae,arguments)},findIndex(t,e){return vt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return vt(this,"findLast",t,e,Ae,arguments)},findLastIndex(t,e){return vt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return vt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Zr(this,"includes",t)},indexOf(...t){return Zr(this,"indexOf",t)},join(t){return es(this).join(t)},lastIndexOf(...t){return Zr(this,"lastIndexOf",t)},map(t,e){return vt(this,"map",t,e,void 0,arguments)},pop(){return ks(this,"pop")},push(...t){return ks(this,"push",t)},reduce(t,...e){return _i(this,"reduce",t,e)},reduceRight(t,...e){return _i(this,"reduceRight",t,e)},shift(){return ks(this,"shift")},some(t,e){return vt(this,"some",t,e,void 0,arguments)},splice(...t){return ks(this,"splice",t)},toReversed(){return es(this).toReversed()},toSorted(t){return es(this).toSorted(t)},toSpliced(...t){return es(this).toSpliced(...t)},unshift(...t){return ks(this,"unshift",t)},values(){return Xr(this,"values",Ae)}};function Xr(t,e,s){const r=Rr(t),n=r[e]();return r!==t&&!Qe(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Ll=Array.prototype;function vt(t,e,s,r,n,i){const o=Rr(t),a=o!==t&&!Qe(t),l=o[e];if(l!==Ll[e]){const d=l.apply(t,i);return a?Ae(d):d}let c=s;o!==t&&(a?c=function(d,h){return s.call(this,Ae(d),h,t)}:s.length>2&&(c=function(d,h){return s.call(this,d,h,t)}));const u=l.call(o,c,r);return a&&n?n(u):u}function _i(t,e,s,r){const n=Rr(t);let i=s;return n!==t&&(Qe(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Ae(a),l,t)}),n[e](i,...r)}function Zr(t,e,s){const r=re(t);Oe(r,"iterate",Bs);const n=r[e](...s);return(n===-1||n===!1)&&Jn(s[0])?(s[0]=re(s[0]),r[e](...s)):n}function ks(t,e,s=[]){Ut(),zn();const r=re(t)[e].apply(t,s);return Gn(),Ft(),r}const Dl=Nn("__proto__,__v_isRef,__isVue"),Ko=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ot));function Nl(t){ot(t)||(t=String(t));const e=re(this);return Oe(e,"has",t),e.hasOwnProperty(t)}class qo{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Wl:Qo:i?Jo:Wo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=G(e);if(!n){let l;if(o&&(l=Ml[s]))return l;if(s==="hasOwnProperty")return Nl}const a=Reflect.get(e,s,je(e)?e:r);return(ot(s)?Ko.has(s):Dl(s))||(n||Oe(e,"get",s),i)?a:je(a)?o&&Bn(s)?a:a.value:he(a)?n?Xo(a):Ir(a):a}}class Vo extends qo{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Jt(i);if(!Qe(r)&&!Jt(r)&&(i=re(i),r=re(r)),!G(e)&&je(i)&&!je(r))return l?!1:(i.value=r,!0)}const o=G(e)&&Bn(s)?Number(s)<e.length:ne(e,s),a=Reflect.set(e,s,r,je(e)?e:n);return e===re(n)&&(o?Lt(r,i)&&bt(e,"set",s,r):bt(e,"add",s,r)),a}deleteProperty(e,s){const r=ne(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&bt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!ot(s)||!Ko.has(s))&&Oe(e,"has",s),r}ownKeys(e){return Oe(e,"iterate",G(e)?"length":Wt),Reflect.ownKeys(e)}}class Ul extends qo{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Fl=new Vo,Bl=new Ul,Hl=new Vo(!0);const yn=t=>t,rr=t=>Reflect.getPrototypeOf(t);function zl(t,e,s){return function(...r){const n=this.__v_raw,i=re(n),o=ls(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...r),u=s?yn:e?_n:Ae;return!e&&Oe(i,"iterate",l?vn:Wt),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function nr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Gl(t,e){const s={get(n){const i=this.__v_raw,o=re(i),a=re(n);t||(Lt(n,a)&&Oe(o,"get",n),Oe(o,"get",a));const{has:l}=rr(o),c=e?yn:t?_n:Ae;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&Oe(re(n),"iterate",Wt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=re(i),a=re(n);return t||(Lt(n,a)&&Oe(o,"has",n),Oe(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=re(a),c=e?yn:t?_n:Ae;return!t&&Oe(l,"iterate",Wt),a.forEach((u,d)=>n.call(i,c(u),c(d),o))}};return Ee(s,t?{add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear")}:{add(n){!e&&!Qe(n)&&!Jt(n)&&(n=re(n));const i=re(this);return rr(i).has.call(i,n)||(i.add(n),bt(i,"add",n,n)),this},set(n,i){!e&&!Qe(i)&&!Jt(i)&&(i=re(i));const o=re(this),{has:a,get:l}=rr(o);let c=a.call(o,n);c||(n=re(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?Lt(i,u)&&bt(o,"set",n,i):bt(o,"add",n,i),this},delete(n){const i=re(this),{has:o,get:a}=rr(i);let l=o.call(i,n);l||(n=re(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&bt(i,"delete",n,void 0),c},clear(){const n=re(this),i=n.size!==0,o=n.clear();return i&&bt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=zl(n,t,e)}),s}function Vn(t,e){const s=Gl(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(ne(s,n)&&n in r?s:r,n,i)}const Kl={get:Vn(!1,!1)},ql={get:Vn(!1,!0)},Vl={get:Vn(!0,!1)};const Wo=new WeakMap,Jo=new WeakMap,Qo=new WeakMap,Wl=new WeakMap;function Jl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ql(t){return t.__v_skip||!Object.isExtensible(t)?0:Jl(bl(t))}function Ir(t){return Jt(t)?t:Wn(t,!1,Fl,Kl,Wo)}function Yo(t){return Wn(t,!1,Hl,ql,Jo)}function Xo(t){return Wn(t,!0,Bl,Vl,Qo)}function Wn(t,e,s,r,n){if(!he(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=Ql(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function cs(t){return Jt(t)?cs(t.__v_raw):!!(t&&t.__v_isReactive)}function Jt(t){return!!(t&&t.__v_isReadonly)}function Qe(t){return!!(t&&t.__v_isShallow)}function Jn(t){return t?!!t.__v_raw:!1}function re(t){const e=t&&t.__v_raw;return e?re(e):t}function Yl(t){return!ne(t,"__v_skip")&&Object.isExtensible(t)&&Io(t,"__v_skip",!0),t}const Ae=t=>he(t)?Ir(t):t,_n=t=>he(t)?Xo(t):t;function je(t){return t?t.__v_isRef===!0:!1}function Y(t){return Zo(t,!1)}function Xl(t){return Zo(t,!0)}function Zo(t,e){return je(t)?t:new Zl(t,e)}class Zl{constructor(e,s){this.dep=new qn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:re(e),this._value=s?e:Ae(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Qe(e)||Jt(e);e=r?e:re(e),Lt(e,s)&&(this._rawValue=e,this._value=r?e:Ae(e),this.dep.trigger())}}function Se(t){return je(t)?t.value:t}const ec={get:(t,e,s)=>e==="__v_raw"?t:Se(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return je(n)&&!je(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function ea(t){return cs(t)?t:new Proxy(t,ec)}class tc{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new qn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&de!==this)return Uo(this,!0),!0}get value(){const e=this.dep.track();return Ho(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function sc(t,e,s=!1){let r,n;return V(t)?r=t:(r=t.get,n=t.set),new tc(r,n,s)}const ir={},mr=new WeakMap;let Gt;function rc(t,e=!1,s=Gt){if(s){let r=mr.get(s);r||mr.set(s,r=[]),r.push(t)}}function nc(t,e,s=ae){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,c=x=>n?x:Qe(x)||n===!1||n===0?wt(x,1):wt(x);let u,d,h,p,w=!1,b=!1;if(je(t)?(d=()=>t.value,w=Qe(t)):cs(t)?(d=()=>c(t),w=!0):G(t)?(b=!0,w=t.some(x=>cs(x)||Qe(x)),d=()=>t.map(x=>{if(je(x))return x.value;if(cs(x))return c(x);if(V(x))return l?l(x,2):x()})):V(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){Ut();try{h()}finally{Ft()}}const x=Gt;Gt=u;try{return l?l(t,3,[p]):t(p)}finally{Gt=x}}:d=pt,e&&n){const x=d,L=n===!0?1/0:n;d=()=>wt(x(),L)}const C=Rl(),$=()=>{u.stop(),C&&C.active&&Fn(C.effects,u)};if(i&&e){const x=e;e=(...L)=>{x(...L),$()}}let R=b?new Array(t.length).fill(ir):ir;const E=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const L=u.run();if(n||w||(b?L.some((J,W)=>Lt(J,R[W])):Lt(L,R))){h&&h();const J=Gt;Gt=u;try{const W=[L,R===ir?void 0:b&&R[0]===ir?[]:R,p];l?l(e,3,W):e(...W),R=L}finally{Gt=J}}}else u.run()};return a&&a(E),u=new Do(d),u.scheduler=o?()=>o(E,!1):E,p=x=>rc(x,!1,u),h=u.onStop=()=>{const x=mr.get(u);if(x){if(l)l(x,4);else for(const L of x)L();mr.delete(u)}},e?r?E(!0):R=u.run():o?o(E.bind(null,!0),!0):u.run(),$.pause=u.pause.bind(u),$.resume=u.resume.bind(u),$.stop=$,$}function wt(t,e=1/0,s){if(e<=0||!he(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,je(t))wt(t.value,e,s);else if(G(t))for(let r=0;r<t.length;r++)wt(t[r],e,s);else if(Pr(t)||ls(t))t.forEach(r=>{wt(r,e,s)});else if(Ro(t)){for(const r in t)wt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&wt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xs(t,e,s,r){try{return r?t(...r):t()}catch(n){jr(n,e,s)}}function mt(t,e,s,r){if(V(t)){const n=Xs(t,e,s,r);return n&&Oo(n)&&n.catch(i=>{jr(i,e,s)}),n}if(G(t)){const n=[];for(let i=0;i<t.length;i++)n.push(mt(t[i],e,s,r));return n}}function jr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ae;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){Ut(),Xs(i,null,10,[t,l,c]),Ft();return}}ic(t,s,n,r,o)}function ic(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const De=[];let dt=-1;const us=[];let Ot=null,ns=0;const ta=Promise.resolve();let vr=null;function Mr(t){const e=vr||ta;return t?e.then(this?t.bind(this):t):e}function oc(t){let e=dt+1,s=De.length;for(;e<s;){const r=e+s>>>1,n=De[r],i=Hs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function Qn(t){if(!(t.flags&1)){const e=Hs(t),s=De[De.length-1];!s||!(t.flags&2)&&e>=Hs(s)?De.push(t):De.splice(oc(e),0,t),t.flags|=1,sa()}}function sa(){vr||(vr=ta.then(na))}function ac(t){G(t)?us.push(...t):Ot&&t.id===-1?Ot.splice(ns+1,0,t):t.flags&1||(us.push(t),t.flags|=1),sa()}function bi(t,e,s=dt+1){for(;s<De.length;s++){const r=De[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;De.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ra(t){if(us.length){const e=[...new Set(us)].sort((s,r)=>Hs(s)-Hs(r));if(us.length=0,Ot){Ot.push(...e);return}for(Ot=e,ns=0;ns<Ot.length;ns++){const s=Ot[ns];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ot=null,ns=0}}const Hs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function na(t){try{for(dt=0;dt<De.length;dt++){const e=De[dt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Xs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;dt<De.length;dt++){const e=De[dt];e&&(e.flags&=-2)}dt=-1,De.length=0,ra(),vr=null,(De.length||us.length)&&na()}}let Pe=null,ia=null;function yr(t){const e=Pe;return Pe=t,ia=t&&t.type.__scopeId||null,e}function At(t,e=Pe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Ai(-1);const i=yr(e);let o;try{o=t(...n)}finally{yr(i),r._d&&Ai(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function _r(t,e){if(Pe===null)return t;const s=Ur(Pe),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ae]=e[n];i&&(V(i)&&(i={mounted:i,updated:i}),i.deep&&wt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Bt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Ut(),mt(l,s,8,[t.el,a,t,e]),Ft())}}const lc=Symbol("_vte"),cc=t=>t.__isTeleport;function Yn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Yn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function kt(t,e){return V(t)?Ee({name:t.name},e,{setup:t}):t}function oa(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function br(t,e,s,r,n=!1){if(G(t)){t.forEach((w,b)=>br(w,e&&(G(e)?e[b]:e),s,r,n));return}if(ds(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&br(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Ur(r.component):r.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ae?a.refs={}:a.refs,d=a.setupState,h=re(d),p=d===ae?()=>!1:w=>ne(h,w);if(c!=null&&c!==l&&(we(c)?(u[c]=null,p(c)&&(d[c]=null)):je(c)&&(c.value=null)),V(l))Xs(l,a,12,[o,u]);else{const w=we(l),b=je(l);if(w||b){const C=()=>{if(t.f){const $=w?p(l)?d[l]:u[l]:l.value;n?G($)&&Fn($,i):G($)?$.includes(i)||$.push(i):w?(u[l]=[i],p(l)&&(d[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else w?(u[l]=o,p(l)&&(d[l]=o)):b&&(l.value=o,t.k&&(u[t.k]=o))};o?(C.id=-1,Ke(C,s)):C()}}}Or().requestIdleCallback;Or().cancelIdleCallback;const ds=t=>!!t.type.__asyncLoader,aa=t=>t.type.__isKeepAlive;function uc(t,e){la(t,"a",e)}function dc(t,e){la(t,"da",e)}function la(t,e,s=Re){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Lr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)aa(n.parent.vnode)&&hc(r,e,s,n),n=n.parent}}function hc(t,e,s,r){const n=Lr(e,t,r,!0);Zn(()=>{Fn(r[e],n)},s)}function Lr(t,e,s=Re,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ut();const a=Zs(s),l=mt(e,s,t,o);return a(),Ft(),l});return r?n.unshift(i):n.push(i),i}}const St=t=>(e,s=Re)=>{(!qs||t==="sp")&&Lr(t,(...r)=>e(...r),s)},fc=St("bm"),lt=St("m"),pc=St("bu"),Xn=St("u"),gc=St("bum"),Zn=St("um"),mc=St("sp"),vc=St("rtg"),yc=St("rtc");function _c(t,e=Re){Lr("ec",t,e)}const bc="components";function wi(t,e){return xc(bc,t,!0,e)||t}const wc=Symbol.for("v-ndc");function xc(t,e,s=!0,r=!1){const n=Pe||Re;if(n){const i=n.type;{const a=cu(i,!1);if(a&&(a===e||a===Ye(e)||a===$r(Ye(e))))return i}const o=xi(n[t]||i[t],e)||xi(n.appContext[t],e);return!o&&r?i:o}}function xi(t,e){return t&&(t[e]||t[Ye(e)]||t[$r(Ye(e))])}function me(t,e,s,r){let n;const i=s,o=G(t);if(o||we(t)){const a=o&&cs(t);let l=!1;a&&(l=!Qe(t),t=Rr(t)),n=new Array(t.length);for(let c=0,u=t.length;c<u;c++)n[c]=e(l?Ae(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(he(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,i)}}else n=[];return n}function ki(t,e,s={},r,n){if(Pe.ce||Pe.parent&&ds(Pe.parent)&&Pe.parent.ce)return e!=="default"&&(s.name=e),A(),Gs(X,null,[le("slot",s,r)],64);let i=t[e];i&&i._c&&(i._d=!1),A();const o=i&&ca(i(s)),a=s.key||o&&o.key,l=Gs(X,{key:(a&&!ot(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||[],o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function ca(t){return t.some(e=>Ks(e)?!(e.type===Dt||e.type===X&&!ca(e.children)):!0)?t:null}const bn=t=>t?$a(t)?Ur(t):bn(t.parent):null,Is=Ee(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>bn(t.parent),$root:t=>bn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ei(t),$forceUpdate:t=>t.f||(t.f=()=>{Qn(t.update)}),$nextTick:t=>t.n||(t.n=Mr.bind(t.proxy)),$watch:t=>Gc.bind(t)}),en=(t,e)=>t!==ae&&!t.__isScriptSetup&&ne(t,e),kc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(en(r,e))return o[e]=1,r[e];if(n!==ae&&ne(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&ne(c,e))return o[e]=3,i[e];if(s!==ae&&ne(s,e))return o[e]=4,s[e];wn&&(o[e]=0)}}const u=Is[e];let d,h;if(u)return e==="$attrs"&&Oe(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==ae&&ne(s,e))return o[e]=4,s[e];if(h=l.config.globalProperties,ne(h,e))return h[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return en(n,e)?(n[e]=s,!0):r!==ae&&ne(r,e)?(r[e]=s,!0):ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==ae&&ne(t,o)||en(e,o)||(a=i[0])&&ne(a,o)||ne(r,o)||ne(Is,o)||ne(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ne(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Si(t){return G(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let wn=!0;function Sc(t){const e=ei(t),s=t.proxy,r=t.ctx;wn=!1,e.beforeCreate&&Ei(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:p,updated:w,activated:b,deactivated:C,beforeDestroy:$,beforeUnmount:R,destroyed:E,unmounted:x,render:L,renderTracked:J,renderTriggered:W,errorCaptured:ye,serverPrefetch:pe,expose:Ce,inheritAttrs:be,components:_e,directives:xe,filters:Ze}=e;if(c&&Ec(c,r,null),o)for(const Z in o){const ee=o[Z];V(ee)&&(r[Z]=ee.bind(s))}if(n){const Z=n.call(s,s);he(Z)&&(t.data=Ir(Z))}if(wn=!0,i)for(const Z in i){const ee=i[Z],Me=V(ee)?ee.bind(s,s):V(ee.get)?ee.get.bind(s,s):pt,et=!V(ee)&&V(ee.set)?ee.set.bind(s):pt,Je=Ie({get:Me,set:et});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>Je.value,set:Te=>Je.value=Te})}if(a)for(const Z in a)ua(a[Z],r,s,Z);if(l){const Z=V(l)?l.call(s):l;Reflect.ownKeys(Z).forEach(ee=>{dr(ee,Z[ee])})}u&&Ei(u,t,"c");function fe(Z,ee){G(ee)?ee.forEach(Me=>Z(Me.bind(s))):ee&&Z(ee.bind(s))}if(fe(fc,d),fe(lt,h),fe(pc,p),fe(Xn,w),fe(uc,b),fe(dc,C),fe(_c,ye),fe(yc,J),fe(vc,W),fe(gc,R),fe(Zn,x),fe(mc,pe),G(Ce))if(Ce.length){const Z=t.exposed||(t.exposed={});Ce.forEach(ee=>{Object.defineProperty(Z,ee,{get:()=>s[ee],set:Me=>s[ee]=Me})})}else t.exposed||(t.exposed={});L&&t.render===pt&&(t.render=L),be!=null&&(t.inheritAttrs=be),_e&&(t.components=_e),xe&&(t.directives=xe),pe&&oa(t)}function Ec(t,e,s=pt){G(t)&&(t=xn(t));for(const r in t){const n=t[r];let i;he(n)?"default"in n?i=gt(n.from||r,n.default,!0):i=gt(n.from||r):i=gt(n),je(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ei(t,e,s){mt(G(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function ua(t,e,s,r){let n=r.includes(".")?ka(s,r):()=>s[r];if(we(t)){const i=e[t];V(i)&&js(n,i)}else if(V(t))js(n,t.bind(s));else if(he(t))if(G(t))t.forEach(i=>ua(i,e,s,r));else{const i=V(t.handler)?t.handler.bind(s):e[t.handler];V(i)&&js(n,i,t)}}function ei(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(c=>wr(l,c,o,!0)),wr(l,e,o)),he(e)&&i.set(e,l),l}function wr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&wr(t,i,s,!0),n&&n.forEach(o=>wr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Cc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Cc={data:Ci,props:Pi,emits:Pi,methods:Ts,computed:Ts,beforeCreate:Le,created:Le,beforeMount:Le,mounted:Le,beforeUpdate:Le,updated:Le,beforeDestroy:Le,beforeUnmount:Le,destroyed:Le,unmounted:Le,activated:Le,deactivated:Le,errorCaptured:Le,serverPrefetch:Le,components:Ts,directives:Ts,watch:Tc,provide:Ci,inject:Pc};function Ci(t,e){return e?t?function(){return Ee(V(t)?t.call(this,this):t,V(e)?e.call(this,this):e)}:e:t}function Pc(t,e){return Ts(xn(t),xn(e))}function xn(t){if(G(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Le(t,e){return t?[...new Set([].concat(t,e))]:e}function Ts(t,e){return t?Ee(Object.create(null),t,e):e}function Pi(t,e){return t?G(t)&&G(e)?[...new Set([...t,...e])]:Ee(Object.create(null),Si(t),Si(e??{})):e}function Tc(t,e){if(!t)return e;if(!e)return t;const s=Ee(Object.create(null),t);for(const r in e)s[r]=Le(t[r],e[r]);return s}function da(){return{app:null,config:{isNativeTag:yl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $c=0;function Oc(t,e){return function(r,n=null){V(r)||(r=Ee({},r)),n!=null&&!he(n)&&(n=null);const i=da(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:$c++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:du,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&V(u.install)?(o.add(u),u.install(c,...d)):V(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,h){if(!l){const p=c._ceVNode||le(r,n);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),d&&e?e(p,u):t(p,u,h),l=!0,c._container=u,u.__vue_app__=c,Ur(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(mt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=hs;hs=c;try{return u()}finally{hs=d}}};return c}}let hs=null;function dr(t,e){if(Re){let s=Re.provides;const r=Re.parent&&Re.parent.provides;r===s&&(s=Re.provides=Object.create(r)),s[t]=e}}function gt(t,e,s=!1){const r=Re||Pe;if(r||hs){const n=hs?hs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&V(e)?e.call(r&&r.proxy):e}}const ha={},fa=()=>Object.create(ha),pa=t=>Object.getPrototypeOf(t)===ha;function Ac(t,e,s,r=!1){const n={},i=fa();t.propsDefaults=Object.create(null),ga(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Yo(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Rc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=re(n),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Dr(t.emitsOptions,h))continue;const p=e[h];if(l)if(ne(i,h))p!==i[h]&&(i[h]=p,c=!0);else{const w=Ye(h);n[w]=kn(l,a,w,p,t,!1)}else p!==i[h]&&(i[h]=p,c=!0)}}}else{ga(t,e,n,i)&&(c=!0);let u;for(const d in a)(!e||!ne(e,d)&&((u=Nt(d))===d||!ne(e,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(n[d]=kn(l,a,d,void 0,t,!0)):delete n[d]);if(i!==a)for(const d in i)(!e||!ne(e,d))&&(delete i[d],c=!0)}c&&bt(t.attrs,"set","")}function ga(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Os(l))continue;const c=e[l];let u;n&&ne(n,u=Ye(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:Dr(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=re(s),c=a||ae;for(let u=0;u<i.length;u++){const d=i[u];s[d]=kn(n,l,d,c[d],t,!ne(c,d))}}return o}function kn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=ne(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&V(l)){const{propsDefaults:c}=n;if(s in c)r=c[s];else{const u=Zs(n);r=c[s]=l.call(null,e),u()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Nt(s))&&(r=!0))}return r}const Ic=new WeakMap;function ma(t,e,s=!1){const r=s?Ic:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!V(t)){const u=d=>{l=!0;const[h,p]=ma(d,e,!0);Ee(o,h),p&&a.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return he(t)&&r.set(t,as),as;if(G(i))for(let u=0;u<i.length;u++){const d=Ye(i[u]);Ti(d)&&(o[d]=ae)}else if(i)for(const u in i){const d=Ye(u);if(Ti(d)){const h=i[u],p=o[d]=G(h)||V(h)?{type:h}:Ee({},h),w=p.type;let b=!1,C=!0;if(G(w))for(let $=0;$<w.length;++$){const R=w[$],E=V(R)&&R.name;if(E==="Boolean"){b=!0;break}else E==="String"&&(C=!1)}else b=V(w)&&w.name==="Boolean";p[0]=b,p[1]=C,(b||ne(p,"default"))&&a.push(d)}}const c=[o,a];return he(t)&&r.set(t,c),c}function Ti(t){return t[0]!=="$"&&!Os(t)}const va=t=>t[0]==="_"||t==="$stable",ti=t=>G(t)?t.map(ht):[ht(t)],jc=(t,e,s)=>{if(e._n)return e;const r=At((...n)=>ti(e(...n)),s);return r._c=!1,r},ya=(t,e,s)=>{const r=t._ctx;for(const n in t){if(va(n))continue;const i=t[n];if(V(i))e[n]=jc(n,i,r);else if(i!=null){const o=ti(i);e[n]=()=>o}}},_a=(t,e)=>{const s=ti(e);t.slots.default=()=>s},ba=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},Mc=(t,e,s)=>{const r=t.slots=fa();if(t.vnode.shapeFlag&32){const n=e._;n?(ba(r,e,s),s&&Io(r,"_",n,!0)):ya(e,r)}else e&&_a(t,e)},Lc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=ae;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:ba(n,e,s):(i=!e.$stable,ya(e,n)),o=e}else e&&(_a(t,e),o={default:1});if(i)for(const a in n)!va(a)&&o[a]==null&&delete n[a]},Ke=Yc;function Dc(t){return Nc(t)}function Nc(t,e){const s=Or();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:p=pt,insertStaticContent:w}=t,b=(f,g,_,P=null,k=null,T=null,N=void 0,D=null,M=!!g.dynamicChildren)=>{if(f===g)return;f&&!Ss(f,g)&&(P=v(f),Te(f,k,T,!0),f=null),g.patchFlag===-2&&(M=!1,g.dynamicChildren=null);const{type:O,ref:z,shapeFlag:U}=g;switch(O){case Nr:C(f,g,_,P);break;case Dt:$(f,g,_,P);break;case hr:f==null&&R(g,_,P,N);break;case X:_e(f,g,_,P,k,T,N,D,M);break;default:U&1?L(f,g,_,P,k,T,N,D,M):U&6?xe(f,g,_,P,k,T,N,D,M):(U&64||U&128)&&O.process(f,g,_,P,k,T,N,D,M,j)}z!=null&&k&&br(z,f&&f.ref,T,g||f,!g)},C=(f,g,_,P)=>{if(f==null)r(g.el=a(g.children),_,P);else{const k=g.el=f.el;g.children!==f.children&&c(k,g.children)}},$=(f,g,_,P)=>{f==null?r(g.el=l(g.children||""),_,P):g.el=f.el},R=(f,g,_,P)=>{[f.el,f.anchor]=w(f.children,g,_,P,f.el,f.anchor)},E=({el:f,anchor:g},_,P)=>{let k;for(;f&&f!==g;)k=h(f),r(f,_,P),f=k;r(g,_,P)},x=({el:f,anchor:g})=>{let _;for(;f&&f!==g;)_=h(f),n(f),f=_;n(g)},L=(f,g,_,P,k,T,N,D,M)=>{g.type==="svg"?N="svg":g.type==="math"&&(N="mathml"),f==null?J(g,_,P,k,T,N,D,M):pe(f,g,k,T,N,D,M)},J=(f,g,_,P,k,T,N,D)=>{let M,O;const{props:z,shapeFlag:U,transition:H,dirs:K}=f;if(M=f.el=o(f.type,T,z&&z.is,z),U&8?u(M,f.children):U&16&&ye(f.children,M,null,P,k,tn(f,T),N,D),K&&Bt(f,null,P,"created"),W(M,f,f.scopeId,N,P),z){for(const ce in z)ce!=="value"&&!Os(ce)&&i(M,ce,null,z[ce],T,P);"value"in z&&i(M,"value",null,z.value,T),(O=z.onVnodeBeforeMount)&&ut(O,P,f)}K&&Bt(f,null,P,"beforeMount");const se=Uc(k,H);se&&H.beforeEnter(M),r(M,g,_),((O=z&&z.onVnodeMounted)||se||K)&&Ke(()=>{O&&ut(O,P,f),se&&H.enter(M),K&&Bt(f,null,P,"mounted")},k)},W=(f,g,_,P,k)=>{if(_&&p(f,_),P)for(let T=0;T<P.length;T++)p(f,P[T]);if(k){let T=k.subTree;if(g===T||Ea(T.type)&&(T.ssContent===g||T.ssFallback===g)){const N=k.vnode;W(f,N,N.scopeId,N.slotScopeIds,k.parent)}}},ye=(f,g,_,P,k,T,N,D,M=0)=>{for(let O=M;O<f.length;O++){const z=f[O]=D?Rt(f[O]):ht(f[O]);b(null,z,g,_,P,k,T,N,D)}},pe=(f,g,_,P,k,T,N)=>{const D=g.el=f.el;let{patchFlag:M,dynamicChildren:O,dirs:z}=g;M|=f.patchFlag&16;const U=f.props||ae,H=g.props||ae;let K;if(_&&Ht(_,!1),(K=H.onVnodeBeforeUpdate)&&ut(K,_,g,f),z&&Bt(g,f,_,"beforeUpdate"),_&&Ht(_,!0),(U.innerHTML&&H.innerHTML==null||U.textContent&&H.textContent==null)&&u(D,""),O?Ce(f.dynamicChildren,O,D,_,P,tn(g,k),T):N||ee(f,g,D,null,_,P,tn(g,k),T,!1),M>0){if(M&16)be(D,U,H,_,k);else if(M&2&&U.class!==H.class&&i(D,"class",null,H.class,k),M&4&&i(D,"style",U.style,H.style,k),M&8){const se=g.dynamicProps;for(let ce=0;ce<se.length;ce++){const ie=se[ce],He=U[ie],$e=H[ie];($e!==He||ie==="value")&&i(D,ie,He,$e,k,_)}}M&1&&f.children!==g.children&&u(D,g.children)}else!N&&O==null&&be(D,U,H,_,k);((K=H.onVnodeUpdated)||z)&&Ke(()=>{K&&ut(K,_,g,f),z&&Bt(g,f,_,"updated")},P)},Ce=(f,g,_,P,k,T,N)=>{for(let D=0;D<g.length;D++){const M=f[D],O=g[D],z=M.el&&(M.type===X||!Ss(M,O)||M.shapeFlag&70)?d(M.el):_;b(M,O,z,null,P,k,T,N,!0)}},be=(f,g,_,P,k)=>{if(g!==_){if(g!==ae)for(const T in g)!Os(T)&&!(T in _)&&i(f,T,g[T],null,k,P);for(const T in _){if(Os(T))continue;const N=_[T],D=g[T];N!==D&&T!=="value"&&i(f,T,D,N,k,P)}"value"in _&&i(f,"value",g.value,_.value,k)}},_e=(f,g,_,P,k,T,N,D,M)=>{const O=g.el=f?f.el:a(""),z=g.anchor=f?f.anchor:a("");let{patchFlag:U,dynamicChildren:H,slotScopeIds:K}=g;K&&(D=D?D.concat(K):K),f==null?(r(O,_,P),r(z,_,P),ye(g.children||[],_,z,k,T,N,D,M)):U>0&&U&64&&H&&f.dynamicChildren?(Ce(f.dynamicChildren,H,_,k,T,N,D),(g.key!=null||k&&g===k.subTree)&&wa(f,g,!0)):ee(f,g,_,z,k,T,N,D,M)},xe=(f,g,_,P,k,T,N,D,M)=>{g.slotScopeIds=D,f==null?g.shapeFlag&512?k.ctx.activate(g,_,P,N,M):Ze(g,_,P,k,T,N,M):Ne(f,g,M)},Ze=(f,g,_,P,k,T,N)=>{const D=f.component=nu(f,P,k);if(aa(f)&&(D.ctx.renderer=j),iu(D,!1,N),D.asyncDep){if(k&&k.registerDep(D,fe,N),!f.el){const M=D.subTree=le(Dt);$(null,M,g,_)}}else fe(D,f,g,_,k,T,N)},Ne=(f,g,_)=>{const P=g.component=f.component;if(Jc(f,g,_))if(P.asyncDep&&!P.asyncResolved){Z(P,g,_);return}else P.next=g,P.update();else g.el=f.el,P.vnode=g},fe=(f,g,_,P,k,T,N)=>{const D=()=>{if(f.isMounted){let{next:U,bu:H,u:K,parent:se,vnode:ce}=f;{const ze=xa(f);if(ze){U&&(U.el=ce.el,Z(f,U,N)),ze.asyncDep.then(()=>{f.isUnmounted||D()});return}}let ie=U,He;Ht(f,!1),U?(U.el=ce.el,Z(f,U,N)):U=ce,H&&ur(H),(He=U.props&&U.props.onVnodeBeforeUpdate)&&ut(He,se,U,ce),Ht(f,!0);const $e=sn(f),tt=f.subTree;f.subTree=$e,b(tt,$e,d(tt.el),v(tt),f,k,T),U.el=$e.el,ie===null&&Qc(f,$e.el),K&&Ke(K,k),(He=U.props&&U.props.onVnodeUpdated)&&Ke(()=>ut(He,se,U,ce),k)}else{let U;const{el:H,props:K}=g,{bm:se,m:ce,parent:ie,root:He,type:$e}=f,tt=ds(g);if(Ht(f,!1),se&&ur(se),!tt&&(U=K&&K.onVnodeBeforeMount)&&ut(U,ie,g),Ht(f,!0),H&&ge){const ze=()=>{f.subTree=sn(f),ge(H,f.subTree,f,k,null)};tt&&$e.__asyncHydrate?$e.__asyncHydrate(H,f,ze):ze()}else{He.ce&&He.ce._injectChildStyle($e);const ze=f.subTree=sn(f);b(null,ze,_,P,f,k,T),g.el=ze.el}if(ce&&Ke(ce,k),!tt&&(U=K&&K.onVnodeMounted)){const ze=g;Ke(()=>ut(U,ie,ze),k)}(g.shapeFlag&256||ie&&ds(ie.vnode)&&ie.vnode.shapeFlag&256)&&f.a&&Ke(f.a,k),f.isMounted=!0,g=_=P=null}};f.scope.on();const M=f.effect=new Do(D);f.scope.off();const O=f.update=M.run.bind(M),z=f.job=M.runIfDirty.bind(M);z.i=f,z.id=f.uid,M.scheduler=()=>Qn(z),Ht(f,!0),O()},Z=(f,g,_)=>{g.component=f;const P=f.vnode.props;f.vnode=g,f.next=null,Rc(f,g.props,P,_),Lc(f,g.children,_),Ut(),bi(f),Ft()},ee=(f,g,_,P,k,T,N,D,M=!1)=>{const O=f&&f.children,z=f?f.shapeFlag:0,U=g.children,{patchFlag:H,shapeFlag:K}=g;if(H>0){if(H&128){et(O,U,_,P,k,T,N,D,M);return}else if(H&256){Me(O,U,_,P,k,T,N,D,M);return}}K&8?(z&16&&B(O,k,T),U!==O&&u(_,U)):z&16?K&16?et(O,U,_,P,k,T,N,D,M):B(O,k,T,!0):(z&8&&u(_,""),K&16&&ye(U,_,P,k,T,N,D,M))},Me=(f,g,_,P,k,T,N,D,M)=>{f=f||as,g=g||as;const O=f.length,z=g.length,U=Math.min(O,z);let H;for(H=0;H<U;H++){const K=g[H]=M?Rt(g[H]):ht(g[H]);b(f[H],K,_,null,k,T,N,D,M)}O>z?B(f,k,T,!0,!1,U):ye(g,_,P,k,T,N,D,M,U)},et=(f,g,_,P,k,T,N,D,M)=>{let O=0;const z=g.length;let U=f.length-1,H=z-1;for(;O<=U&&O<=H;){const K=f[O],se=g[O]=M?Rt(g[O]):ht(g[O]);if(Ss(K,se))b(K,se,_,null,k,T,N,D,M);else break;O++}for(;O<=U&&O<=H;){const K=f[U],se=g[H]=M?Rt(g[H]):ht(g[H]);if(Ss(K,se))b(K,se,_,null,k,T,N,D,M);else break;U--,H--}if(O>U){if(O<=H){const K=H+1,se=K<z?g[K].el:P;for(;O<=H;)b(null,g[O]=M?Rt(g[O]):ht(g[O]),_,se,k,T,N,D,M),O++}}else if(O>H)for(;O<=U;)Te(f[O],k,T,!0),O++;else{const K=O,se=O,ce=new Map;for(O=se;O<=H;O++){const Ge=g[O]=M?Rt(g[O]):ht(g[O]);Ge.key!=null&&ce.set(Ge.key,O)}let ie,He=0;const $e=H-se+1;let tt=!1,ze=0;const xs=new Array($e);for(O=0;O<$e;O++)xs[O]=0;for(O=K;O<=U;O++){const Ge=f[O];if(He>=$e){Te(Ge,k,T,!0);continue}let ct;if(Ge.key!=null)ct=ce.get(Ge.key);else for(ie=se;ie<=H;ie++)if(xs[ie-se]===0&&Ss(Ge,g[ie])){ct=ie;break}ct===void 0?Te(Ge,k,T,!0):(xs[ct-se]=O+1,ct>=ze?ze=ct:tt=!0,b(Ge,g[ct],_,null,k,T,N,D,M),He++)}const pi=tt?Fc(xs):as;for(ie=pi.length-1,O=$e-1;O>=0;O--){const Ge=se+O,ct=g[Ge],gi=Ge+1<z?g[Ge+1].el:P;xs[O]===0?b(null,ct,_,gi,k,T,N,D,M):tt&&(ie<0||O!==pi[ie]?Je(ct,_,gi,2):ie--)}}},Je=(f,g,_,P,k=null)=>{const{el:T,type:N,transition:D,children:M,shapeFlag:O}=f;if(O&6){Je(f.component.subTree,g,_,P);return}if(O&128){f.suspense.move(g,_,P);return}if(O&64){N.move(f,g,_,j);return}if(N===X){r(T,g,_);for(let U=0;U<M.length;U++)Je(M[U],g,_,P);r(f.anchor,g,_);return}if(N===hr){E(f,g,_);return}if(P!==2&&O&1&&D)if(P===0)D.beforeEnter(T),r(T,g,_),Ke(()=>D.enter(T),k);else{const{leave:U,delayLeave:H,afterLeave:K}=D,se=()=>r(T,g,_),ce=()=>{U(T,()=>{se(),K&&K()})};H?H(T,se,ce):ce()}else r(T,g,_)},Te=(f,g,_,P=!1,k=!1)=>{const{type:T,props:N,ref:D,children:M,dynamicChildren:O,shapeFlag:z,patchFlag:U,dirs:H,cacheIndex:K}=f;if(U===-2&&(k=!1),D!=null&&br(D,null,_,f,!0),K!=null&&(g.renderCache[K]=void 0),z&256){g.ctx.deactivate(f);return}const se=z&1&&H,ce=!ds(f);let ie;if(ce&&(ie=N&&N.onVnodeBeforeUnmount)&&ut(ie,g,f),z&6)Zt(f.component,_,P);else{if(z&128){f.suspense.unmount(_,P);return}se&&Bt(f,null,g,"beforeUnmount"),z&64?f.type.remove(f,g,_,j,P):O&&!O.hasOnce&&(T!==X||U>0&&U&64)?B(O,g,_,!1,!0):(T===X&&U&384||!k&&z&16)&&B(M,g,_),P&&Et(f)}(ce&&(ie=N&&N.onVnodeUnmounted)||se)&&Ke(()=>{ie&&ut(ie,g,f),se&&Bt(f,null,g,"unmounted")},_)},Et=f=>{const{type:g,el:_,anchor:P,transition:k}=f;if(g===X){Ct(_,P);return}if(g===hr){x(f);return}const T=()=>{n(_),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(f.shapeFlag&1&&k&&!k.persisted){const{leave:N,delayLeave:D}=k,M=()=>N(_,T);D?D(f.el,T,M):M()}else T()},Ct=(f,g)=>{let _;for(;f!==g;)_=h(f),n(f),f=_;n(g)},Zt=(f,g,_)=>{const{bum:P,scope:k,job:T,subTree:N,um:D,m:M,a:O}=f;$i(M),$i(O),P&&ur(P),k.stop(),T&&(T.flags|=8,Te(N,f,g,_)),D&&Ke(D,g),Ke(()=>{f.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},B=(f,g,_,P=!1,k=!1,T=0)=>{for(let N=T;N<f.length;N++)Te(f[N],g,_,P,k)},v=f=>{if(f.shapeFlag&6)return v(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const g=h(f.anchor||f.el),_=g&&g[lc];return _?h(_):g};let y=!1;const S=(f,g,_)=>{f==null?g._vnode&&Te(g._vnode,null,null,!0):b(g._vnode||null,f,g,null,null,null,_),g._vnode=f,y||(y=!0,bi(),ra(),y=!1)},j={p:b,um:Te,m:Je,r:Et,mt:Ze,mc:ye,pc:ee,pbc:Ce,n:v,o:t};let q,ge;return{render:S,hydrate:q,createApp:Oc(S,q)}}function tn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ht({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Uc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function wa(t,e,s=!1){const r=t.children,n=e.children;if(G(r)&&G(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Rt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&wa(o,a)),a.type===Nr&&(a.el=o.el)}}function Fc(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(n=s[s.length-1],t[n]<c){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<c?i=a+1:o=a;c<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function xa(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:xa(e)}function $i(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Bc=Symbol.for("v-scx"),Hc=()=>gt(Bc);function zc(t,e){return si(t,null,e)}function js(t,e,s){return si(t,e,s)}function si(t,e,s=ae){const{immediate:r,deep:n,flush:i,once:o}=s,a=Ee({},s),l=e&&r||!e&&i!=="post";let c;if(qs){if(i==="sync"){const p=Hc();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=pt,p.resume=pt,p.pause=pt,p}}const u=Re;a.call=(p,w,b)=>mt(p,u,w,b);let d=!1;i==="post"?a.scheduler=p=>{Ke(p,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(p,w)=>{w?p():Qn(p)}),a.augmentJob=p=>{e&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=nc(t,e,a);return qs&&(c?c.push(h):l&&h()),h}function Gc(t,e,s){const r=this.proxy,n=we(t)?t.includes(".")?ka(r,t):()=>r[t]:t.bind(r,r);let i;V(e)?i=e:(i=e.handler,s=e);const o=Zs(this),a=si(n,i.bind(r),s);return o(),a}function ka(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Kc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ye(e)}Modifiers`]||t[`${Nt(e)}Modifiers`];function qc(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ae;let n=s;const i=e.startsWith("update:"),o=i&&Kc(r,e.slice(7));o&&(o.trim&&(n=s.map(u=>we(u)?u.trim():u)),o.number&&(n=s.map(gr)));let a,l=r[a=Jr(e)]||r[a=Jr(Ye(e))];!l&&i&&(l=r[a=Jr(Nt(e))]),l&&mt(l,t,6,n);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,mt(c,t,6,n)}}function Sa(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!V(t)){const l=c=>{const u=Sa(c,e,!0);u&&(a=!0,Ee(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(he(t)&&r.set(t,null),null):(G(i)?i.forEach(l=>o[l]=null):Ee(o,i),he(t)&&r.set(t,o),o)}function Dr(t,e){return!t||!Cr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ne(t,e[0].toLowerCase()+e.slice(1))||ne(t,Nt(e))||ne(t,e))}function sn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:p,ctx:w,inheritAttrs:b}=t,C=yr(t);let $,R;try{if(s.shapeFlag&4){const x=n||r,L=x;$=ht(c.call(L,x,u,d,p,h,w)),R=a}else{const x=e;$=ht(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),R=e.props?a:Vc(a)}}catch(x){Ms.length=0,jr(x,t,1),$=le(Dt)}let E=$;if(R&&b!==!1){const x=Object.keys(R),{shapeFlag:L}=E;x.length&&L&7&&(i&&x.some(Un)&&(R=Wc(R,i)),E=gs(E,R,!1,!0))}return s.dirs&&(E=gs(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&Yn(E,s.transition),$=E,yr(C),$}const Vc=t=>{let e;for(const s in t)(s==="class"||s==="style"||Cr(s))&&((e||(e={}))[s]=t[s]);return e},Wc=(t,e)=>{const s={};for(const r in t)(!Un(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Jc(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Oi(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==r[h]&&!Dr(c,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Oi(r,o,c):!0:!!o;return!1}function Oi(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Dr(s,i))return!0}return!1}function Qc({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ea=t=>t.__isSuspense;function Yc(t,e){e&&e.pendingBranch?G(t)?e.effects.push(...t):e.effects.push(t):ac(t)}const X=Symbol.for("v-fgt"),Nr=Symbol.for("v-txt"),Dt=Symbol.for("v-cmt"),hr=Symbol.for("v-stc"),Ms=[];let We=null;function A(t=!1){Ms.push(We=t?null:[])}function Xc(){Ms.pop(),We=Ms[Ms.length-1]||null}let zs=1;function Ai(t,e=!1){zs+=t,t<0&&We&&e&&(We.hasOnce=!0)}function Ca(t){return t.dynamicChildren=zs>0?We||as:null,Xc(),zs>0&&We&&We.push(t),t}function I(t,e,s,r,n,i){return Ca(m(t,e,s,r,n,i,!0))}function Gs(t,e,s,r,n){return Ca(le(t,e,s,r,n,!0))}function Ks(t){return t?t.__v_isVNode===!0:!1}function Ss(t,e){return t.type===e.type&&t.key===e.key}const Pa=({key:t})=>t??null,fr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?we(t)||je(t)||V(t)?{i:Pe,r:t,k:e,f:!!s}:t:null);function m(t,e=null,s=null,r=0,n=null,i=t===X?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Pa(e),ref:e&&fr(e),scopeId:ia,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Pe};return a?(ri(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=we(s)?8:16),zs>0&&!o&&We&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&We.push(l),l}const le=Zc;function Zc(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===wc)&&(t=Dt),Ks(t)){const a=gs(t,e,!0);return s&&ri(a,s),zs>0&&!i&&We&&(a.shapeFlag&6?We[We.indexOf(t)]=a:We.push(a)),a.patchFlag=-2,a}if(uu(t)&&(t=t.__vccOpts),e){e=eu(e);let{class:a,style:l}=e;a&&!we(a)&&(e.class=nt(a)),he(l)&&(Jn(l)&&!G(l)&&(l=Ee({},l)),e.style=Hn(l))}const o=we(t)?1:Ea(t)?128:cc(t)?64:he(t)?4:V(t)?2:0;return m(t,e,s,r,n,o,i,!0)}function eu(t){return t?Jn(t)||pa(t)?Ee({},t):t:null}function gs(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?tu(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Pa(c),ref:e&&e.ref?s&&i?G(i)?i.concat(fr(e)):[i,fr(e)]:fr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==X?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&gs(t.ssContent),ssFallback:t.ssFallback&&gs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Yn(u,l.clone(u)),u}function xt(t=" ",e=0){return le(Nr,null,t,e)}function Ta(t,e){const s=le(hr,null,t);return s.staticCount=e,s}function ve(t="",e=!1){return e?(A(),Gs(Dt,null,t)):le(Dt,null,t)}function ht(t){return t==null||typeof t=="boolean"?le(Dt):G(t)?le(X,null,t.slice()):Ks(t)?Rt(t):le(Nr,null,String(t))}function Rt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:gs(t)}function ri(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(G(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),ri(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!pa(e)?e._ctx=Pe:n===3&&Pe&&(Pe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else V(e)?(e={default:e,_ctx:Pe},s=32):(e=String(e),r&64?(s=16,e=[xt(e)]):s=8);t.children=e,t.shapeFlag|=s}function tu(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=nt([e.class,r.class]));else if(n==="style")e.style=Hn([e.style,r.style]);else if(Cr(n)){const i=e[n],o=r[n];o&&i!==o&&!(G(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function ut(t,e,s,r=null){mt(t,e,7,[s,r])}const su=da();let ru=0;function nu(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||su,i={uid:ru++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Al(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ma(r,n),emitsOptions:Sa(r,n),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:r.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=qc.bind(null,i),t.ce&&t.ce(i),i}let Re=null,xr,Sn;{const t=Or(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};xr=e("__VUE_INSTANCE_SETTERS__",s=>Re=s),Sn=e("__VUE_SSR_SETTERS__",s=>qs=s)}const Zs=t=>{const e=Re;return xr(t),t.scope.on(),()=>{t.scope.off(),xr(e)}},Ri=()=>{Re&&Re.scope.off(),xr(null)};function $a(t){return t.vnode.shapeFlag&4}let qs=!1;function iu(t,e=!1,s=!1){e&&Sn(e);const{props:r,children:n}=t.vnode,i=$a(t);Ac(t,r,i,e),Mc(t,n,s);const o=i?ou(t,e):void 0;return e&&Sn(!1),o}function ou(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,kc);const{setup:r}=s;if(r){Ut();const n=t.setupContext=r.length>1?lu(t):null,i=Zs(t),o=Xs(r,t,0,[t.props,n]),a=Oo(o);if(Ft(),i(),(a||t.sp)&&!ds(t)&&oa(t),a){if(o.then(Ri,Ri),e)return o.then(l=>{Ii(t,l,e)}).catch(l=>{jr(l,t,0)});t.asyncDep=o}else Ii(t,o,e)}else Oa(t,e)}function Ii(t,e,s){V(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:he(e)&&(t.setupState=ea(e)),Oa(t,s)}let ji;function Oa(t,e,s){const r=t.type;if(!t.render){if(!e&&ji&&!r.render){const n=r.template||ei(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Ee(Ee({isCustomElement:i,delimiters:a},o),l);r.render=ji(n,c)}}t.render=r.render||pt}{const n=Zs(t);Ut();try{Sc(t)}finally{Ft(),n()}}}const au={get(t,e){return Oe(t,"get",""),t[e]}};function lu(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,au),slots:t.slots,emit:t.emit,expose:e}}function Ur(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ea(Yl(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Is)return Is[s](t)},has(e,s){return s in e||s in Is}})):t.proxy}function cu(t,e=!0){return V(t)?t.displayName||t.name:t.name||e&&t.__name}function uu(t){return V(t)&&"__vccOpts"in t}const Ie=(t,e)=>sc(t,e,qs);function Fe(t,e,s){const r=arguments.length;return r===2?he(e)&&!G(e)?Ks(e)?le(t,null,[e]):le(t,e):le(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Ks(s)&&(s=[s]),le(t,e,s))}const du="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let En;const Mi=typeof window<"u"&&window.trustedTypes;if(Mi)try{En=Mi.createPolicy("vue",{createHTML:t=>t})}catch{}const Aa=En?t=>En.createHTML(t):t=>t,hu="http://www.w3.org/2000/svg",fu="http://www.w3.org/1998/Math/MathML",_t=typeof document<"u"?document:null,Li=_t&&_t.createElement("template"),pu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?_t.createElementNS(hu,t):e==="mathml"?_t.createElementNS(fu,t):s?_t.createElement(t,{is:s}):_t.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>_t.createTextNode(t),createComment:t=>_t.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_t.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Li.innerHTML=Aa(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Li.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},gu=Symbol("_vtc");function mu(t,e,s){const r=t[gu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Di=Symbol("_vod"),vu=Symbol("_vsh"),yu=Symbol(""),_u=/(^|;)\s*display\s*:/;function bu(t,e,s){const r=t.style,n=we(s);let i=!1;if(s&&!n){if(e)if(we(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&pr(r,a,"")}else for(const o in e)s[o]==null&&pr(r,o,"");for(const o in s)o==="display"&&(i=!0),pr(r,o,s[o])}else if(n){if(e!==s){const o=r[yu];o&&(s+=";"+o),r.cssText=s,i=_u.test(s)}}else e&&t.removeAttribute("style");Di in t&&(t[Di]=i?r.display:"",t[vu]&&(r.display="none"))}const Ni=/\s*!important$/;function pr(t,e,s){if(G(s))s.forEach(r=>pr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=wu(t,e);Ni.test(s)?t.setProperty(Nt(r),s.replace(Ni,""),"important"):t[r]=s}}const Ui=["Webkit","Moz","ms"],rn={};function wu(t,e){const s=rn[e];if(s)return s;let r=Ye(e);if(r!=="filter"&&r in t)return rn[e]=r;r=$r(r);for(let n=0;n<Ui.length;n++){const i=Ui[n]+r;if(i in t)return rn[e]=i}return e}const Fi="http://www.w3.org/1999/xlink";function Bi(t,e,s,r,n,i=Tl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Fi,e.slice(6,e.length)):t.setAttributeNS(Fi,e,s):s==null||i&&!jo(s)?t.removeAttribute(e):t.setAttribute(e,i?"":ot(s)?String(s):s)}function Hi(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Aa(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=jo(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function qt(t,e,s,r){t.addEventListener(e,s,r)}function xu(t,e,s,r){t.removeEventListener(e,s,r)}const zi=Symbol("_vei");function ku(t,e,s,r,n=null){const i=t[zi]||(t[zi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Su(e);if(r){const c=i[e]=Pu(r,n);qt(t,a,c,l)}else o&&(xu(t,a,o,l),i[e]=void 0)}}const Gi=/(?:Once|Passive|Capture)$/;function Su(t){let e;if(Gi.test(t)){e={};let r;for(;r=t.match(Gi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Nt(t.slice(2)),e]}let nn=0;const Eu=Promise.resolve(),Cu=()=>nn||(Eu.then(()=>nn=0),nn=Date.now());function Pu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;mt(Tu(r,s.value),e,5,[r])};return s.value=t,s.attached=Cu(),s}function Tu(t,e){if(G(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Ki=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,$u=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?mu(t,r,o):e==="style"?bu(t,s,r):Cr(e)?Un(e)||ku(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ou(t,e,r,o))?(Hi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Bi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!we(r))?Hi(t,Ye(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Bi(t,e,r,o))};function Ou(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ki(e)&&V(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Ki(e)&&we(s)?!1:e in t}const kr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return G(e)?s=>ur(e,s):e};function Au(t){t.target.composing=!0}function qi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fs=Symbol("_assign"),Cn={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[fs]=kr(n);const i=r||n.props&&n.props.type==="number";qt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=gr(a)),t[fs](a)}),s&&qt(t,"change",()=>{t.value=t.value.trim()}),e||(qt(t,"compositionstart",Au),qt(t,"compositionend",qi),qt(t,"change",qi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[fs]=kr(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?gr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Ru={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=Pr(e);qt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?gr(Sr(o)):Sr(o));t[fs](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,Mr(()=>{t._assigning=!1})}),t[fs]=kr(r)},mounted(t,{value:e}){Vi(t,e)},beforeUpdate(t,e,s){t[fs]=kr(s)},updated(t,{value:e}){t._assigning||Vi(t,e)}};function Vi(t,e){const s=t.multiple,r=G(e);if(!(s&&!r&&!Pr(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=Sr(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Ol(e,a)>-1}else o.selected=e.has(a);else if(Ar(Sr(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Sr(t){return"_value"in t?t._value:t.value}const Iu=["ctrl","shift","alt","meta"],ju={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Iu.some(s=>t[`${s}Key`]&&!e.includes(s))},Wi=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=ju[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Mu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Pn=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const i=Nt(n.key);if(e.some(o=>o===i||Mu[o]===i))return t(n)})},Lu=Ee({patchProp:$u},pu);let Ji;function Du(){return Ji||(Ji=Dc(Lu))}const Nu=(...t)=>{const e=Du().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Fu(r);if(!n)return;const i=e._component;!V(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Uu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Uu(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Fu(t){return we(t)?document.querySelector(t):t}function Bu(){const t=Y(!1),e=()=>{t.value=!t.value,localStorage.setItem("theme",t.value?"dark":"light"),s()},s=()=>{t.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return lt(()=>{const r=localStorage.getItem("theme");r?t.value=r==="dark":t.value=window.matchMedia("(prefers-color-scheme: dark)").matches,s()}),{isDark:t,toggleTheme:e}}const Hu={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},zu={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20"},Gu={class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-2xl w-full"},Ku={class:"space-y-4"},qu={class:"flex justify-end mt-6"},Vu=kt({__name:"PrivacyPolicy",props:{show:{type:Boolean}},emits:["close"],setup(t){return(e,s)=>e.show?(A(),I("div",Hu,[m("div",zu,[m("div",{class:"fixed inset-0 bg-black opacity-50",onClick:s[0]||(s[0]=r=>e.$emit("close"))}),m("div",Gu,[m("div",Ku,[s[2]||(s[2]=Ta('<h2 class="text-2xl font-bold dark:text-white">Privacy Policy &amp; Data Usage</h2><div class="space-y-4 text-gray-600 dark:text-gray-300"><section><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Data Storage</h3><ul class="list-disc pl-5 space-y-1"><li>All game data is stored locally on your device using browser&#39;s localStorage</li><li>No personal data is collected or tracked, except for the score sharing, which is optional, see below.</li><li>Game history remains on your device until you clear it</li></ul></section><section><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Score Sharing</h3><ul class="list-disc pl-5 space-y-1"><li>When sharing scores, only the following data is stored on our server: <ul class="list-circle pl-5 mt-1"><li>Player name</li><li>Game scores</li><li>Timestamp</li></ul></li><li>Shared scores are automatically deleted after 24 hours</li><li>No tracking or analytics are performed on shared scores</li></ul></section><section><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Cookies &amp; Storage</h3><ul class="list-disc pl-5 space-y-1"><li>This app uses localStorage to save: <ul class="list-circle pl-5 mt-1"><li>Current game state</li><li>Game history</li><li>Theme preference (light/dark)</li></ul></li><li>No third-party cookies are used</li><li>No tracking cookies are implemented</li></ul></section><section><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Your Rights</h3><ul class="list-disc pl-5 space-y-1"><li>You can clear all local data using browser settings</li><li>You can delete game history within the app</li><li>You can request deletion of shared scores</li><li>No data is shared with third parties</li></ul></section><section><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Contact</h3><p>For any privacy-related questions or data deletion requests, please contact:</p><p class="font-medium mt-1">privacy@jatsapp.example.com</p></section></div>',2)),m("div",qu,[m("button",{onClick:s[1]||(s[1]=r=>e.$emit("close")),class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700"}," Close ")])])])])])):ve("",!0)}}),Wu={class:"min-h-screen transition-colors duration-200 dark:bg-gray-900 dark:text-white flex flex-col"},Ju={class:"container mx-auto px-2 py-2 max-w-3xl flex-grow"},Qu={class:"flex justify-between items-center mb-1"},Yu={class:"text-xs text-gray-500 dark:text-gray-400"},Xu=["title"],Zu={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ed={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},td={__name:"App",setup(t){const e=Ie(()=>"0.9.9"),{isDark:s,toggleTheme:r}=Bu(),n=Y(!1);return(i,o)=>{const a=wi("router-link"),l=wi("router-view");return A(),I("div",Wu,[m("div",Ju,[m("div",Qu,[o[5]||(o[5]=m("div",{class:"w-10"},null,-1)),le(a,{to:"/",class:"text-xl sm:text-2xl font-bold"},{default:At(()=>[o[2]||(o[2]=xt("JatsApp ")),m("small",Yu,"v"+F(e.value),1)]),_:1}),m("button",{onClick:o[0]||(o[0]=(...c)=>Se(r)&&Se(r)(...c)),class:"p-1.5 sm:p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 w-10",title:Se(s)?"Switch to light mode":"Switch to dark mode"},[Se(s)?(A(),I("svg",Zu,o[3]||(o[3]=[m("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"{2}",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):(A(),I("svg",ed,o[4]||(o[4]=[m("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"{2}",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])))],8,Xu)]),le(l)]),le(Vu,{show:n.value,onClose:o[1]||(o[1]=c=>n.value=!1)},null,8,["show"])])}}};/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const is=typeof document<"u";function Ra(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function sd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ra(t.default)}const oe=Object.assign;function on(t,e){const s={};for(const r in e){const n=e[r];s[r]=at(n)?n.map(t):t(n)}return s}const Ls=()=>{},at=Array.isArray,Ia=/#/g,rd=/&/g,nd=/\//g,id=/=/g,od=/\?/g,ja=/\+/g,ad=/%5B/g,ld=/%5D/g,Ma=/%5E/g,cd=/%60/g,La=/%7B/g,ud=/%7C/g,Da=/%7D/g,dd=/%20/g;function ni(t){return encodeURI(""+t).replace(ud,"|").replace(ad,"[").replace(ld,"]")}function hd(t){return ni(t).replace(La,"{").replace(Da,"}").replace(Ma,"^")}function Tn(t){return ni(t).replace(ja,"%2B").replace(dd,"+").replace(Ia,"%23").replace(rd,"%26").replace(cd,"`").replace(La,"{").replace(Da,"}").replace(Ma,"^")}function fd(t){return Tn(t).replace(id,"%3D")}function pd(t){return ni(t).replace(Ia,"%23").replace(od,"%3F")}function gd(t){return t==null?"":pd(t).replace(nd,"%2F")}function Vs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const md=/\/$/,vd=t=>t.replace(md,"");function an(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=wd(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:Vs(o)}}function yd(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Qi(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function _d(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&ms(e.matched[r],s.matched[n])&&Na(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function ms(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Na(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!bd(t[s],e[s]))return!1;return!0}function bd(t,e){return at(t)?Yi(t,e):at(e)?Yi(e,t):t===e}function Yi(t,e){return at(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function wd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Pt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ws;(function(t){t.pop="pop",t.push="push"})(Ws||(Ws={}));var Ds;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ds||(Ds={}));function xd(t){if(!t)if(is){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),vd(t)}const kd=/^[^#]+#/;function Sd(t,e){return t.replace(kd,"#")+e}function Ed(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const Fr=()=>({left:window.scrollX,top:window.scrollY});function Cd(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Ed(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Xi(t,e){return(history.state?history.state.position-e:-1)+t}const $n=new Map;function Pd(t,e){$n.set(t,e)}function Td(t){const e=$n.get(t);return $n.delete(t),e}let $d=()=>location.protocol+"//"+location.host;function Ua(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),Qi(l,"")}return Qi(s,t)+r+n}function Od(t,e,s,r){let n=[],i=[],o=null;const a=({state:h})=>{const p=Ua(t,location),w=s.value,b=e.value;let C=0;if(h){if(s.value=p,e.value=h,o&&o===w){o=null;return}C=b?h.position-b.position:0}else r(p);n.forEach($=>{$(s.value,w,{delta:C,type:Ws.pop,direction:C?C>0?Ds.forward:Ds.back:Ds.unknown})})};function l(){o=s.value}function c(h){n.push(h);const p=()=>{const w=n.indexOf(h);w>-1&&n.splice(w,1)};return i.push(p),p}function u(){const{history:h}=window;h.state&&h.replaceState(oe({},h.state,{scroll:Fr()}),"")}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Zi(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?Fr():null}}function Ad(t){const{history:e,location:s}=window,r={value:Ua(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=t.indexOf("#"),h=d>-1?(s.host&&document.querySelector("base")?t:t.slice(d))+l:$d()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),n.value=c}catch(p){console.error(p),s[u?"replace":"assign"](h)}}function o(l,c){const u=oe({},e.state,Zi(n.value.back,l,n.value.forward,!0),c,{position:n.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=oe({},n.value,e.state,{forward:l,scroll:Fr()});i(u.current,u,!0);const d=oe({},Zi(r.value,l,null),{position:u.position+1},c);i(l,d,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Rd(t){t=xd(t);const e=Ad(t),s=Od(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=oe({location:"",base:t,go:r,createHref:Sd.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Id(t){return typeof t=="string"||t&&typeof t=="object"}function Fa(t){return typeof t=="string"||typeof t=="symbol"}const Ba=Symbol("");var eo;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(eo||(eo={}));function vs(t,e){return oe(new Error,{type:t,[Ba]:!0},e)}function yt(t,e){return t instanceof Error&&Ba in t&&(e==null||!!(t.type&e))}const to="[^/]+?",jd={sensitive:!1,strict:!1,start:!0,end:!0},Md=/[.+*?^${}()[\]/\\]/g;function Ld(t,e){const s=oe({},jd,e),r=[];let n=s.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];s.strict&&!c.length&&(n+="/");for(let d=0;d<c.length;d++){const h=c[d];let p=40+(s.sensitive?.25:0);if(h.type===0)d||(n+="/"),n+=h.value.replace(Md,"\\$&"),p+=40;else if(h.type===1){const{value:w,repeatable:b,optional:C,regexp:$}=h;i.push({name:w,repeatable:b,optional:C});const R=$||to;if(R!==to){p+=10;try{new RegExp(`(${R})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${w}" (${R}): `+x.message)}}let E=b?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;d||(E=C&&c.length<2?`(?:/${E})`:"/"+E),C&&(E+="?"),n+=E,p+=20,C&&(p+=-8),b&&(p+=-20),R===".*"&&(p+=-50)}u.push(p)}r.push(u)}if(s.strict&&s.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const p=u[h]||"",w=i[h-1];d[w.name]=p&&w.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of h)if(p.type===0)u+=p.value;else if(p.type===1){const{value:w,repeatable:b,optional:C}=p,$=w in c?c[w]:"";if(at($)&&!b)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const R=at($)?$.join("/"):$;if(!R)if(C)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${w}"`);u+=R}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Dd(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Ha(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=Dd(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(so(r))return 1;if(so(n))return-1}return n.length-r.length}function so(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Nd={type:0,value:""},Ud=/[a-zA-Z0-9_]/;function Fd(t){if(!t)return[[]];if(t==="/")return[[Nd]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(s===0?i.push({type:0,value:c}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),s=1):h();break;case 4:h(),s=r;break;case 1:l==="("?s=2:Ud.test(l)?h():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),n}function Bd(t,e,s){const r=Ld(Fd(t.path),s),n=oe(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Hd(t,e){const s=[],r=new Map;e=oo({strict:!1,end:!0,sensitive:!1},e);function n(d){return r.get(d)}function i(d,h,p){const w=!p,b=no(d);b.aliasOf=p&&p.record;const C=oo(e,d),$=[b];if("alias"in d){const x=typeof d.alias=="string"?[d.alias]:d.alias;for(const L of x)$.push(no(oe({},b,{components:p?p.record.components:b.components,path:L,aliasOf:p?p.record:b})))}let R,E;for(const x of $){const{path:L}=x;if(h&&L[0]!=="/"){const J=h.record.path,W=J[J.length-1]==="/"?"":"/";x.path=h.record.path+(L&&W+L)}if(R=Bd(x,h,C),p?p.alias.push(R):(E=E||R,E!==R&&E.alias.push(R),w&&d.name&&!io(R)&&o(d.name)),za(R)&&l(R),b.children){const J=b.children;for(let W=0;W<J.length;W++)i(J[W],R,p&&p.children[W])}p=p||R}return E?()=>{o(E)}:Ls}function o(d){if(Fa(d)){const h=r.get(d);h&&(r.delete(d),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(d);h>-1&&(s.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const h=Kd(d,s);s.splice(h,0,d),d.record.name&&!io(d)&&r.set(d.record.name,d)}function c(d,h){let p,w={},b,C;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw vs(1,{location:d});C=p.record.name,w=oe(ro(h.params,p.keys.filter(E=>!E.optional).concat(p.parent?p.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&ro(d.params,p.keys.map(E=>E.name))),b=p.stringify(w)}else if(d.path!=null)b=d.path,p=s.find(E=>E.re.test(b)),p&&(w=p.parse(b),C=p.record.name);else{if(p=h.name?r.get(h.name):s.find(E=>E.re.test(h.path)),!p)throw vs(1,{location:d,currentLocation:h});C=p.record.name,w=oe({},h.params,d.params),b=p.stringify(w)}const $=[];let R=p;for(;R;)$.unshift(R.record),R=R.parent;return{name:C,path:b,params:w,matched:$,meta:Gd($)}}t.forEach(d=>i(d));function u(){s.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function ro(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function no(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:zd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function zd(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function io(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Gd(t){return t.reduce((e,s)=>oe(e,s.meta),{})}function oo(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function Kd(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;Ha(t,e[i])<0?r=i:s=i+1}const n=qd(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function qd(t){let e=t;for(;e=e.parent;)if(za(e)&&Ha(t,e)===0)return e}function za({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Vd(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(ja," "),o=i.indexOf("="),a=Vs(o<0?i:i.slice(0,o)),l=o<0?null:Vs(i.slice(o+1));if(a in e){let c=e[a];at(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function ao(t){let e="";for(let s in t){const r=t[s];if(s=fd(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(at(r)?r.map(i=>i&&Tn(i)):[r&&Tn(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function Wd(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=at(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const Jd=Symbol(""),lo=Symbol(""),Br=Symbol(""),Ga=Symbol(""),On=Symbol("");function Es(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function It(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(vs(4,{from:s,to:e})):h instanceof Error?l(h):Id(h)?l(vs(2,{from:e,to:h})):(o&&r.enterCallbacks[n]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>t.call(r&&r.instances[n],e,s,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function ln(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ra(l)){const u=(l.__vccOpts||l)[e];u&&i.push(It(u,s,r,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=sd(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const p=(d.__vccOpts||d)[e];return p&&It(p,s,r,o,a,n)()}))}}return i}function co(t){const e=gt(Br),s=gt(Ga),r=Ie(()=>{const l=Se(t.to);return e.resolve(l)}),n=Ie(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const h=d.findIndex(ms.bind(null,u));if(h>-1)return h;const p=uo(l[c-2]);return c>1&&uo(u)===p&&d[d.length-1].path!==p?d.findIndex(ms.bind(null,l[c-2])):h}),i=Ie(()=>n.value>-1&&Zd(s.params,r.value.params)),o=Ie(()=>n.value>-1&&n.value===s.matched.length-1&&Na(s.params,r.value.params));function a(l={}){return Xd(l)?e[Se(t.replace)?"replace":"push"](Se(t.to)).catch(Ls):Promise.resolve()}return{route:r,href:Ie(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const Qd=kt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:co,setup(t,{slots:e}){const s=Ir(co(t)),{options:r}=gt(Br),n=Ie(()=>({[ho(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[ho(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&e.default(s);return t.custom?i:Fe("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Yd=Qd;function Xd(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Zd(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!at(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function uo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ho=(t,e,s)=>t??e??s,eh=kt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=gt(On),n=Ie(()=>t.route||r.value),i=gt(lo,0),o=Ie(()=>{let c=Se(i);const{matched:u}=n.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Ie(()=>n.value.matched[o.value]);dr(lo,Ie(()=>o.value+1)),dr(Jd,a),dr(On,n);const l=Y();return js(()=>[l.value,a.value,t.name],([c,u,d],[h,p,w])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!ms(u,p)||!h)&&(u.enterCallbacks[d]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=n.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return fo(s.default,{Component:h,route:c});const p=d.props[u],w=p?p===!0?c.params:typeof p=="function"?p(c):p:null,C=Fe(h,oe({},w,e,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return fo(s.default,{Component:C,route:c})||C}}});function fo(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const th=eh;function sh(t){const e=Hd(t.routes,t),s=t.parseQuery||Vd,r=t.stringifyQuery||ao,n=t.history,i=Es(),o=Es(),a=Es(),l=Xl(Pt);let c=Pt;is&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=on.bind(null,v=>""+v),d=on.bind(null,gd),h=on.bind(null,Vs);function p(v,y){let S,j;return Fa(v)?(S=e.getRecordMatcher(v),j=y):j=v,e.addRoute(j,S)}function w(v){const y=e.getRecordMatcher(v);y&&e.removeRoute(y)}function b(){return e.getRoutes().map(v=>v.record)}function C(v){return!!e.getRecordMatcher(v)}function $(v,y){if(y=oe({},y||l.value),typeof v=="string"){const g=an(s,v,y.path),_=e.resolve({path:g.path},y),P=n.createHref(g.fullPath);return oe(g,_,{params:h(_.params),hash:Vs(g.hash),redirectedFrom:void 0,href:P})}let S;if(v.path!=null)S=oe({},v,{path:an(s,v.path,y.path).path});else{const g=oe({},v.params);for(const _ in g)g[_]==null&&delete g[_];S=oe({},v,{params:d(g)}),y.params=d(y.params)}const j=e.resolve(S,y),q=v.hash||"";j.params=u(h(j.params));const ge=yd(r,oe({},v,{hash:hd(q),path:j.path})),f=n.createHref(ge);return oe({fullPath:ge,hash:q,query:r===ao?Wd(v.query):v.query||{}},j,{redirectedFrom:void 0,href:f})}function R(v){return typeof v=="string"?an(s,v,l.value.path):oe({},v)}function E(v,y){if(c!==v)return vs(8,{from:y,to:v})}function x(v){return W(v)}function L(v){return x(oe(R(v),{replace:!0}))}function J(v){const y=v.matched[v.matched.length-1];if(y&&y.redirect){const{redirect:S}=y;let j=typeof S=="function"?S(v):S;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=R(j):{path:j},j.params={}),oe({query:v.query,hash:v.hash,params:j.path!=null?{}:v.params},j)}}function W(v,y){const S=c=$(v),j=l.value,q=v.state,ge=v.force,f=v.replace===!0,g=J(S);if(g)return W(oe(R(g),{state:typeof g=="object"?oe({},q,g.state):q,force:ge,replace:f}),y||S);const _=S;_.redirectedFrom=y;let P;return!ge&&_d(r,j,S)&&(P=vs(16,{to:_,from:j}),Je(j,j,!0,!1)),(P?Promise.resolve(P):Ce(_,j)).catch(k=>yt(k)?yt(k,2)?k:et(k):ee(k,_,j)).then(k=>{if(k){if(yt(k,2))return W(oe({replace:f},R(k.to),{state:typeof k.to=="object"?oe({},q,k.to.state):q,force:ge}),y||_)}else k=_e(_,j,!0,f,q);return be(_,j,k),k})}function ye(v,y){const S=E(v,y);return S?Promise.reject(S):Promise.resolve()}function pe(v){const y=Ct.values().next().value;return y&&typeof y.runWithContext=="function"?y.runWithContext(v):v()}function Ce(v,y){let S;const[j,q,ge]=rh(v,y);S=ln(j.reverse(),"beforeRouteLeave",v,y);for(const g of j)g.leaveGuards.forEach(_=>{S.push(It(_,v,y))});const f=ye.bind(null,v,y);return S.push(f),B(S).then(()=>{S=[];for(const g of i.list())S.push(It(g,v,y));return S.push(f),B(S)}).then(()=>{S=ln(q,"beforeRouteUpdate",v,y);for(const g of q)g.updateGuards.forEach(_=>{S.push(It(_,v,y))});return S.push(f),B(S)}).then(()=>{S=[];for(const g of ge)if(g.beforeEnter)if(at(g.beforeEnter))for(const _ of g.beforeEnter)S.push(It(_,v,y));else S.push(It(g.beforeEnter,v,y));return S.push(f),B(S)}).then(()=>(v.matched.forEach(g=>g.enterCallbacks={}),S=ln(ge,"beforeRouteEnter",v,y,pe),S.push(f),B(S))).then(()=>{S=[];for(const g of o.list())S.push(It(g,v,y));return S.push(f),B(S)}).catch(g=>yt(g,8)?g:Promise.reject(g))}function be(v,y,S){a.list().forEach(j=>pe(()=>j(v,y,S)))}function _e(v,y,S,j,q){const ge=E(v,y);if(ge)return ge;const f=y===Pt,g=is?history.state:{};S&&(j||f?n.replace(v.fullPath,oe({scroll:f&&g&&g.scroll},q)):n.push(v.fullPath,q)),l.value=v,Je(v,y,S,f),et()}let xe;function Ze(){xe||(xe=n.listen((v,y,S)=>{if(!Zt.listening)return;const j=$(v),q=J(j);if(q){W(oe(q,{replace:!0}),j).catch(Ls);return}c=j;const ge=l.value;is&&Pd(Xi(ge.fullPath,S.delta),Fr()),Ce(j,ge).catch(f=>yt(f,12)?f:yt(f,2)?(W(f.to,j).then(g=>{yt(g,20)&&!S.delta&&S.type===Ws.pop&&n.go(-1,!1)}).catch(Ls),Promise.reject()):(S.delta&&n.go(-S.delta,!1),ee(f,j,ge))).then(f=>{f=f||_e(j,ge,!1),f&&(S.delta&&!yt(f,8)?n.go(-S.delta,!1):S.type===Ws.pop&&yt(f,20)&&n.go(-1,!1)),be(j,ge,f)}).catch(Ls)}))}let Ne=Es(),fe=Es(),Z;function ee(v,y,S){et(v);const j=fe.list();return j.length?j.forEach(q=>q(v,y,S)):console.error(v),Promise.reject(v)}function Me(){return Z&&l.value!==Pt?Promise.resolve():new Promise((v,y)=>{Ne.add([v,y])})}function et(v){return Z||(Z=!v,Ze(),Ne.list().forEach(([y,S])=>v?S(v):y()),Ne.reset()),v}function Je(v,y,S,j){const{scrollBehavior:q}=t;if(!is||!q)return Promise.resolve();const ge=!S&&Td(Xi(v.fullPath,0))||(j||!S)&&history.state&&history.state.scroll||null;return Mr().then(()=>q(v,y,ge)).then(f=>f&&Cd(f)).catch(f=>ee(f,v,y))}const Te=v=>n.go(v);let Et;const Ct=new Set,Zt={currentRoute:l,listening:!0,addRoute:p,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:b,resolve:$,options:t,push:x,replace:L,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:fe.add,isReady:Me,install(v){const y=this;v.component("RouterLink",Yd),v.component("RouterView",th),v.config.globalProperties.$router=y,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>Se(l)}),is&&!Et&&l.value===Pt&&(Et=!0,x(n.location).catch(q=>{}));const S={};for(const q in Pt)Object.defineProperty(S,q,{get:()=>l.value[q],enumerable:!0});v.provide(Br,y),v.provide(Ga,Yo(S)),v.provide(On,l);const j=v.unmount;Ct.add(v),v.unmount=function(){Ct.delete(v),Ct.size<1&&(c=Pt,xe&&xe(),xe=null,l.value=Pt,Et=!1,Z=!1),j()}}};function B(v){return v.reduce((y,S)=>y.then(()=>pe(S)),Promise.resolve())}return Zt}function rh(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>ms(c,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(c=>ms(c,l))||n.push(l))}return[s,r,n]}function er(){return gt(Br)}const nh={class:"mt-8 mb-4"},ih={class:"w-full border-collapse border"},oh={class:"border px-4 py-1"},ah={class:"border px-4 py-1 text-right"},lh={class:"border px-4 py-1 text-right"},ch={class:"border px-4 py-1"},uh={class:"border px-4 py-1 text-right"},dh={class:"border px-4 py-1 text-right"},hh={class:"bg-yellow-50 dark:bg-yellow-900"},fh={class:"border px-4 py-1 text-right"},ph={class:"border px-4 py-1 text-right"},gh={__name:"ScoreStats",setup(t){const e=Y([]),s=["Ones","Twos","Threes","Fours","Fives","Sixes"],r=["One Pair","Two Pairs","Three of a Kind","Four of a Kind","Full House","Small Straight","Large Straight","Yahtzee","Chance"];lt(()=>{const l=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]");e.value=l});const n=l=>{let c=0,u=0;return e.value.forEach(d=>{d.players.forEach(h=>{h.scores[l]!==void 0&&h.scores[l]!=="-"&&!isNaN(parseInt(h.scores[l]))&&(c+=parseInt(h.scores[l]),u++)})}),u>0?c/u:0},i=l=>{let c=0;return e.value.forEach(u=>{u.players.forEach(d=>{d.scores[l]!==void 0&&d.scores[l]!=="-"&&!isNaN(parseInt(d.scores[l]))&&c++})}),c},o=()=>{let l=0,c=0;return e.value.forEach(u=>{u.players.forEach(d=>{d.total&&(l+=d.total,c++)})}),c>0?l/c:0},a=l=>l.toFixed(1);return(l,c)=>(A(),I("div",nh,[c[4]||(c[4]=m("h3",{class:"text-lg font-bold mb-2"},"Average Scores",-1)),m("table",ih,[c[3]||(c[3]=m("thead",null,[m("tr",{class:"bg-gray-50 dark:bg-gray-800"},[m("th",{class:"border px-4 py-2 text-left"},"Category"),m("th",{class:"border px-4 py-2 text-right"},"Average"),m("th",{class:"border px-4 py-2 text-right"},"Games")])],-1)),m("tbody",null,[c[1]||(c[1]=m("tr",{class:"bg-blue-50 dark:bg-blue-900"},[m("td",{colspan:"3",class:"border px-4 py-1 font-bold"},"Upper Section")],-1)),(A(),I(X,null,me(s,u=>m("tr",{key:u},[m("td",oh,F(u),1),m("td",ah,F(a(n(u))),1),m("td",lh,F(i(u)),1)])),64)),c[2]||(c[2]=m("tr",{class:"bg-purple-50 dark:bg-purple-900"},[m("td",{colspan:"3",class:"border px-4 py-1 font-bold"},"Lower Section")],-1)),(A(),I(X,null,me(r,u=>m("tr",{key:u},[m("td",ch,F(u),1),m("td",uh,F(a(n(u))),1),m("td",dh,F(i(u)),1)])),64)),m("tr",hh,[c[0]||(c[0]=m("td",{class:"border px-4 py-1"},"Average Total",-1)),m("td",fh,F(a(o())),1),m("td",ph,F(e.value.length),1)])])])]))}},mh={__name:"Toast",props:{show:Boolean,message:String},emits:["close"],setup(t){return(e,s)=>t.show?(A(),I("div",{key:0,class:nt(["fixed top-4 right-4 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-lg dark:bg-gray-700 transition-opacity duration-300 text-lg font-medium z-50 min-w-[300px] flex items-center justify-between",{"opacity-0":!t.show}])},[m("span",null,F(t.message),1),m("button",{onClick:s[0]||(s[0]=r=>e.$emit("close")),class:"ml-4 text-gray-400 hover:text-white"}," × ")],2)):ve("",!0)}},vh={class:"mt-8"},yh={class:"flex justify-between items-center mb-4"},_h={key:0,class:"text-gray-500 dark:text-gray-400"},bh={key:1,class:"space-y-4"},wh={class:"flex justify-between items-center mb-2"},xh={class:"text-sm text-gray-500 dark:text-gray-400"},kh={class:"flex items-center gap-2"},Sh={class:"text-green-600 dark:text-green-400 font-bold"},Eh=["onClick"],Ch={class:"w-full border-collapse"},Ph={class:"py-1"},Th={class:"text-right"},$h={class:"flex justify-between items-center mt-2"},Oh=["onClick"],Ah=["onClick"],Rh={key:0,class:"mt-2"},Ih={class:"w-full text-sm"},jh={class:"border-b dark:border-gray-700"},Mh={class:"py-1"},Lh={__name:"ScoreHistory",setup(t){const e=er(),s=Y([]),r=["Ones","Twos","Threes","Fours","Fives","Sixes","One Pair","Two Pairs","Three of a Kind","Four of a Kind","Full House","Small Straight","Large Straight","Yahtzee","Chance"],n=Y(!1),i=Y(""),o=()=>{const d=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]");s.value=d.map(h=>({...h,showDetails:!1})).sort((h,p)=>new Date(p.timestamp)-new Date(h.timestamp))};lt(o);const a=d=>{i.value=d,n.value=!0,setTimeout(()=>{n.value=!1},3e3)},l=d=>{if(confirm("Are you sure you want to delete this game?")){const h=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]"),p=h[d];h.splice(d,1),localStorage.setItem("yatzyGameHistory",JSON.stringify(h)),o(),a(`Game from ${new Date(p.timestamp).toLocaleDateString()} deleted`)}},c=()=>{confirm("Are you sure you want to delete all game history? This cannot be undone.")&&(localStorage.removeItem("yatzyGameHistory"),s.value=[],a("All game history cleared"))},u=d=>{if(localStorage.getItem("yatzyGameState")){if(!confirm("There is a game in progress. Do you want to start a new game with these players?"))return;localStorage.removeItem("yatzyGameState")}const h={players:d.map(p=>({name:p.name,scores:{},total:0})),gameStarted:!0};localStorage.setItem("yatzyGameState",JSON.stringify(h)),e.push("/game")};return(d,h)=>(A(),I("div",vh,[m("div",yh,[h[0]||(h[0]=m("h2",{class:"text-xl font-bold"},"Game History",-1)),s.value.length>0?(A(),I("button",{key:0,onClick:c,class:"bg-red-500 hover:bg-red-600 text-white text-sm px-3 py-1 rounded dark:bg-red-600 dark:hover:bg-red-700"}," Clear History ")):ve("",!0)]),s.value.length===0?(A(),I("div",_h," No completed games yet ")):(A(),I("div",bh,[(A(!0),I(X,null,me(s.value,(p,w)=>(A(),I("div",{key:p.timestamp,class:"border rounded-lg p-4 bg-white dark:bg-gray-800 shadow dark:border-gray-700"},[m("div",wh,[m("div",xh,F(new Date(p.timestamp).toLocaleString()),1),m("div",kh,[m("div",Sh," Winner: "+F(p.winner),1),m("button",{onClick:b=>l(w),class:"text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-500",title:"Delete game"},h[1]||(h[1]=[m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[m("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)]),8,Eh)])]),m("table",Ch,[h[2]||(h[2]=m("thead",null,[m("tr",{class:"border-b dark:border-gray-700"},[m("th",{class:"text-left py-2 dark:text-gray-200"},"Player"),m("th",{class:"text-right py-2 dark:text-gray-200"},"Total Score")])],-1)),m("tbody",null,[(A(!0),I(X,null,me(p.players,b=>(A(),I("tr",{key:b.name,class:"border-b dark:border-gray-700"},[m("td",Ph,F(b.name),1),m("td",Th,F(b.total),1)]))),128))])]),m("div",$h,[m("button",{onClick:b=>p.showDetails=!p.showDetails,class:"text-blue-500 dark:text-blue-400 text-sm hover:underline"},F(p.showDetails?"Hide Details":"Show Details"),9,Oh),m("button",{onClick:b=>u(p.players),class:"bg-green-500 hover:bg-green-600 text-white text-sm px-3 py-1 rounded dark:bg-green-600 dark:hover:bg-green-700"}," Use these players ",8,Ah)]),p.showDetails?(A(),I("div",Rh,[m("table",Ih,[m("thead",null,[m("tr",jh,[h[3]||(h[3]=m("th",{class:"text-left py-1 dark:text-gray-200"},"Category",-1)),(A(!0),I(X,null,me(p.players,b=>(A(),I("th",{key:b.name,class:"text-right py-1 dark:text-gray-200"},F(b.name),1))),128))])]),m("tbody",null,[(A(),I(X,null,me(r,b=>m("tr",{key:b,class:"border-b dark:border-gray-700"},[m("td",Mh,F(b),1),(A(!0),I(X,null,me(p.players,C=>(A(),I("td",{key:C.name,class:"text-right py-1"},F(C.scores[b]||"-"),1))),128))])),64))])])])):ve("",!0)]))),128))])),le(mh,{show:n.value,message:i.value},null,8,["show","message"])]))}},Dh={class:"mt-8 mb-4"},Nh={class:"flex justify-between items-center mb-4"},Uh={class:"space-y-2"},Fh={class:"flex items-center gap-2"},Bh={key:0,class:"text-xl"},Hh={key:1,class:"text-xl"},zh={key:2,class:"text-xl"},Gh={class:"flex-grow"},Kh={class:"flex justify-between items-baseline"},qh={class:"font-bold text-gray-800 dark:text-gray-200"},Vh={class:"text-2xl font-bold text-yellow-500 dark:text-yellow-400"},Wh={class:"text-sm text-gray-500 dark:text-gray-400"},Jh={key:0,class:"mt-6"},Qh={class:"space-y-2"},Yh={class:"flex items-center gap-2"},Xh={class:"text-xl"},Zh={class:"flex-grow"},ef={class:"flex justify-between items-baseline"},tf={class:"font-bold text-gray-800 dark:text-gray-200"},sf={class:"text-2xl font-bold text-red-500 dark:text-red-400"},rf={class:"text-sm text-gray-500 dark:text-gray-400"},nf={key:1,class:"text-center text-gray-500 dark:text-gray-400 py-4"},of={__name:"TopScores",setup(t){const e=Y([]),s=Y([]),r=Y(!1);return lt(()=>{const i=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]").flatMap(o=>o.players.map(a=>({player:a.name,total:a.total,date:o.timestamp})));e.value=i.sort((o,a)=>a.total-o.total).slice(0,5),s.value=i.filter(o=>o.total>=50).sort((o,a)=>o.total-a.total).slice(0,3)}),(n,i)=>(A(),I("div",Dh,[m("div",Nh,[i[1]||(i[1]=m("h3",{class:"text-lg font-bold text-gray-800 dark:text-gray-200"},"Hall of Fame 🏆",-1)),m("button",{onClick:i[0]||(i[0]=o=>r.value=!r.value),class:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"},F(r.value?"Hide Hall of Shame":"Show Hall of Shame 💀"),1)]),m("div",Uh,[(A(!0),I(X,null,me(e.value,(o,a)=>(A(),I("div",{key:a,class:"p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"},[m("div",Fh,[a===0?(A(),I("span",Bh,"🥇")):a===1?(A(),I("span",Hh,"🥈")):a===2?(A(),I("span",zh,"🥉")):ve("",!0),m("div",Gh,[m("div",Kh,[m("span",qh,F(o.player),1),m("span",Vh,F(o.total),1)]),m("div",Wh,F(new Date(o.date).toLocaleDateString()),1)])])]))),128))]),r.value?(A(),I("div",Jh,[i[2]||(i[2]=m("h3",{class:"text-lg font-bold mb-4 text-gray-800 dark:text-gray-200"},"Hall of Shame 💀",-1)),m("div",Qh,[(A(!0),I(X,null,me(s.value,(o,a)=>(A(),I("div",{key:a,class:"p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"},[m("div",Yh,[m("span",Xh,F(["🪦","⚰️","☠️"][a]||"💀"),1),m("div",Zh,[m("div",ef,[m("span",tf,F(o.player),1),m("span",sf,F(o.total),1)]),m("div",rf,F(new Date(o.date).toLocaleDateString()),1)])])]))),128))])])):ve("",!0),e.value.length===0?(A(),I("div",nf," No games played yet ")):ve("",!0)]))}},af={class:"max-w-md mx-auto p-4"},lf={class:"mb-8 text-center"},cf={key:0,class:"mt-4 text-left bg-gray-50 dark:bg-gray-800 p-4 rounded-lg"},uf={class:"space-y-4"},df={key:3,class:"space-y-4"},hf={class:"mt-8 py-4 border-t border-gray-200 dark:border-gray-700"},ff={class:"container mx-auto px-4 text-center text-sm text-gray-500 dark:text-gray-400"},pf={class:"mb-2"},gf={__name:"HomeView",setup(t){const e=er(),s=Y(!1),r=Y(!1),n=Y(!1),i=Y(!1);lt(()=>{const l=localStorage.getItem("yatzyGameState");s.value=!!l;const c=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]");r.value=c.length>0});const o=()=>{s.value?confirm("Do you want to start a new game? Current game progress will be lost.")&&(localStorage.removeItem("yatzyGameState"),e.push("/game")):e.push("/game")},a=()=>{e.push("/game")};return(l,c)=>(A(),I("div",af,[m("div",lf,[c[4]||(c[4]=m("h1",{class:"text-2xl font-bold mb-4"},"Welcome to JatsApp! ",-1)),c[5]||(c[5]=m("p",{class:"text-gray-600 dark:text-gray-300 mb-2"}," A modern Yatzy score tracker that works offline and saves your game history. ",-1)),c[6]||(c[6]=m("div",{class:"text-sm text-gray-500 dark:text-gray-400 space-y-1"},[m("p",null,"✓ Save and continue games later"),m("p",null,"✓ Track player statistics"),m("p",null,"✓ View game history"),m("p",null,"✓ Works offline"),m("p",null,"✓ Share scores with friends and update them in real-time"),m("p",null,"✓ No cookies, no trackers")],-1)),m("button",{onClick:c[0]||(c[0]=u=>i.value=!i.value),class:"mt-4 text-blue-500 hover:text-blue-600 dark:text-blue-400 text-sm"},F(i.value?"Hide Game Info":"Show Game Info"),1),i.value?(A(),I("div",cf,c[3]||(c[3]=[Ta('<h3 class="font-bold mb-2 text-gray-800 dark:text-gray-200">About Yatzy</h3><p class="text-sm text-gray-600 dark:text-gray-300 mb-4"> Yatzy is a dice game where players roll five dice and try to score points in different categories. </p><h4 class="font-bold mb-1 text-gray-800 dark:text-gray-200">Upper Section Scoring</h4><ul class="text-sm text-gray-600 dark:text-gray-300 mb-3 list-disc pl-4 space-y-1"><li>Ones to Sixes: Sum of respective dice</li><li>Bonus: 50 points if upper section ≥ 63</li></ul><h4 class="font-bold mb-1 text-gray-800 dark:text-gray-200">Lower Section Scoring</h4><ul class="text-sm text-gray-600 dark:text-gray-300 list-disc pl-4 space-y-1"><li>One Pair: Two dice showing same face</li><li>Two Pairs: Two different pairs</li><li>Three of a Kind: Three dice showing same face</li><li>Four of a Kind: Four dice showing same face</li><li>Full House: Three of a kind + pair (25 points)</li><li>Small Straight: 1-2-3-4-5 (15 points)</li><li>Large Straight: 2-3-4-5-6 (20 points)</li><li>Yahtzee: All five dice showing same face (50 points)</li><li>Chance: Sum of all dice</li></ul>',6)]))):ve("",!0)]),m("div",uf,[r.value?(A(),Gs(of,{key:0})):ve("",!0),m("button",{onClick:o,class:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg font-bold text-lg dark:bg-green-600 dark:hover:bg-green-700"}," New Game "),s.value?(A(),I("button",{key:1,onClick:a,class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-lg font-bold text-lg dark:bg-blue-600 dark:hover:bg-blue-700"}," Continue Game ")):ve("",!0),r.value?(A(),I("button",{key:2,onClick:c[1]||(c[1]=u=>n.value=!n.value),class:"w-full bg-purple-500 hover:bg-purple-600 text-white px-4 py-3 rounded-lg font-bold text-lg dark:bg-purple-600 dark:hover:bg-purple-700"},F(n.value?"Hide History":"Show History"),1)):ve("",!0),n.value&&r.value?(A(),I("div",df,[c[7]||(c[7]=m("h2",{class:"text-xl font-bold"},"Statistics",-1)),le(gh),c[8]||(c[8]=m("h2",{class:"text-xl font-bold mt-6"},"Game History",-1)),le(Lh)])):ve("",!0)]),m("footer",hf,[m("div",ff,[m("p",pf,[c[9]||(c[9]=xt(" From a slave of Yatzy to slaves of Yatzy ")),c[10]||(c[10]=m("br",null,null,-1)),c[11]||(c[11]=xt(" We don't use cookies, we don't use trackers. See our ")),m("button",{onClick:c[2]||(c[2]=u=>l.showPrivacy=!0),class:"text-blue-500 hover:text-blue-600 dark:text-blue-400 ml-2 underline"}," privacy Policy "),c[12]||(c[12]=xt(" for more info. "))]),c[13]||(c[13]=m("p",{class:"text-xs italic"},[xt(` "In Yatzy, as in life, it's not about the rolls you get, but how you use them." `),m("br"),xt(" - Ancient Dice Wisdom (probably) ")],-1))])])]))}},mf={class:"max-w-md mx-auto p-4"},vf={key:1,class:"mb-4 space-y-2"},yf={class:"relative"},_f=["value"],bf={class:"flex gap-2 mb-2"},wf={class:"mt-2 space-y-2"},xf=["onClick"],kf={class:"flex gap-2 mt-4"},Sf=["disabled"],Ef={__name:"PlayerSetup",emits:["players-added"],setup(t,{emit:e}){const s=er(),r=e,n=Y(""),i=Y([]),o=Y(!1),a=Y([]),l=Y([]),c=Y(""),u=Ie(()=>{const E=new Set;return l.value.forEach(x=>{x.players.forEach(L=>{E.add(L.name)})}),Array.from(E)});lt(()=>{const E=localStorage.getItem("yatzyGameState");o.value=!!E,l.value=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]").sort((x,L)=>new Date(L.timestamp)-new Date(x.timestamp)),l.value.length>0&&(a.value=l.value[0].players.map(x=>x.name))});const d=E=>{const x=new Date(E.timestamp).toLocaleDateString(),L=E.players.map(J=>J.name).join(", ");return`${x}: ${L}`},h=()=>{localStorage.removeItem("yatzyGameState"),window.location.reload()},p=()=>{i.value=[...a.value]},w=()=>{const E=l.value[c.value];E&&(i.value=E.players.map(x=>x.name))},b=()=>{n.value.trim()&&(i.value.push(n.value.trim()),n.value="")},C=E=>{i.value.splice(E,1)},$=()=>{r("players-added",i.value)},R=()=>{s.push("/")};return(E,x)=>(A(),I("div",mf,[o.value?(A(),I("button",{key:0,onClick:h,class:"mb-4 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700"}," Start a new game ")):ve("",!0),u.value.length>0&&i.value.length===0?(A(),I("div",vf,[a.value.length>0?(A(),I("button",{key:0,onClick:p,class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded dark:bg-blue-600 dark:hover:bg-blue-700"}," Use last game players: "+F(a.value.join(", ")),1)):ve("",!0),m("div",yf,[_r(m("select",{"onUpdate:modelValue":x[0]||(x[0]=L=>c.value=L),class:"w-full bg-gray-100 border border-gray-300 px-4 py-2 rounded dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100"},[x[2]||(x[2]=m("option",{value:""},"Select from historic games...",-1)),(A(!0),I(X,null,me(l.value,(L,J)=>(A(),I("option",{key:J,value:J},F(d(L)),9,_f))),128))],512),[[Ru,c.value]]),c.value!==""?(A(),I("button",{key:0,onClick:w,class:"mt-2 w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded dark:bg-blue-600 dark:hover:bg-blue-700"}," Use selected players ")):ve("",!0)])])):ve("",!0),x[3]||(x[3]=m("h2",{class:"text-xl mb-2"},"Add Players",-1)),m("div",bf,[_r(m("input",{"onUpdate:modelValue":x[1]||(x[1]=L=>n.value=L),placeholder:"Enter player name",class:"flex-1 border p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100",onKeyup:Pn(b,["enter"])},null,544),[[Cn,n.value]]),m("button",{onClick:b,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded dark:bg-blue-600 dark:hover:bg-blue-700"}," Add ")]),m("ul",wf,[(A(!0),I(X,null,me(i.value,(L,J)=>(A(),I("li",{key:L,class:"flex justify-between items-center bg-gray-100 dark:bg-gray-800 p-2 rounded"},[m("span",null,F(L),1),m("button",{onClick:W=>C(J),class:"text-red-500 hover:text-red-600 dark:text-red-400"}," × ",8,xf)]))),128))]),m("div",kf,[m("button",{onClick:$,class:"flex-1 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded dark:bg-green-600 dark:hover:bg-green-700",disabled:i.value.length===0}," Start Game ",8,Sf),m("button",{onClick:R,class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded dark:bg-gray-600 dark:hover:bg-gray-700"}," Cancel ")])]))}};function Cf(){const t=Y([]);return lt(()=>{const r=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]");t.value=r}),{getAverageForCategory:r=>{let n=0,i=0;return t.value.forEach(o=>{o.players.forEach(a=>{a.scores[r]!==void 0&&a.scores[r]!=="-"&&!isNaN(parseInt(a.scores[r]))&&(n+=parseInt(a.scores[r]),i++)})}),i>0?n/i:0},formatAverage:r=>r.toFixed(1)}}const Pf={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Tf={class:"flex items-center justify-center min-h-screen px-4"},$f={class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm w-full"},Of={class:"flex flex-col gap-4"},Af={class:"text-lg font-bold dark:text-white"},Rf={class:"flex justify-end gap-2"},cn={__name:"Modal",props:{show:Boolean,title:String},setup(t){return(e,s)=>t.show?(A(),I("div",Pf,[m("div",Tf,[s[0]||(s[0]=m("div",{class:"fixed inset-0 bg-black opacity-50"},null,-1)),m("div",$f,[m("div",Of,[m("h3",Af,F(t.title),1),ki(e.$slots,"default"),m("div",Rf,[ki(e.$slots,"actions")])])])])])):ve("",!0)}};/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var ft=function(){return ft=Object.assign||function(e){for(var s,r=1,n=arguments.length;r<n;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},ft.apply(this,arguments)};var Qt;(function(t){var e=function(){function o(a,l,c,u){if(this.version=a,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var d=[],h=0;h<this.size;h++)d.push(!1);for(var h=0;h<this.size;h++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();var p=this.addEccAndInterleave(c);if(this.drawCodewords(p),u==-1)for(var w=1e9,h=0;h<8;h++){this.applyMask(h),this.drawFormatBits(h);var b=this.getPenaltyScore();b<w&&(u=h,w=b),this.applyMask(h)}n(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}return o.encodeText=function(a,l){var c=t.QrSegment.makeSegments(a);return o.encodeSegments(c,l)},o.encodeBinary=function(a,l){var c=t.QrSegment.makeBytes(a);return o.encodeSegments([c],l)},o.encodeSegments=function(a,l,c,u,d,h){if(c===void 0&&(c=1),u===void 0&&(u=40),d===void 0&&(d=-1),h===void 0&&(h=!0),!(o.MIN_VERSION<=c&&c<=u&&u<=o.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");var p,w;for(p=c;;p++){var b=o.getNumDataCodewords(p,l)*8,C=i.getTotalBits(a,p);if(C<=b){w=C;break}if(p>=u)throw new RangeError("Data too long")}for(var $=0,R=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];$<R.length;$++){var E=R[$];h&&w<=o.getNumDataCodewords(p,E)*8&&(l=E)}for(var x=[],L=0,J=a;L<J.length;L++){var W=J[L];s(W.mode.modeBits,4,x),s(W.numChars,W.mode.numCharCountBits(p),x);for(var ye=0,pe=W.getData();ye<pe.length;ye++){var Ce=pe[ye];x.push(Ce)}}n(x.length==w);var be=o.getNumDataCodewords(p,l)*8;n(x.length<=be),s(0,Math.min(4,be-x.length),x),s(0,(8-x.length%8)%8,x),n(x.length%8==0);for(var _e=236;x.length<be;_e^=253)s(_e,8,x);for(var xe=[];xe.length*8<x.length;)xe.push(0);return x.forEach(function(Ze,Ne){return xe[Ne>>>3]|=Ze<<7-(Ne&7)}),new o(p,l,xe,d)},o.prototype.getModule=function(a,l){return 0<=a&&a<this.size&&0<=l&&l<this.size&&this.modules[l][a]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),c=l.length,a=0;a<c;a++)for(var u=0;u<c;u++)a==0&&u==0||a==0&&u==c-1||a==c-1&&u==0||this.drawAlignmentPattern(l[a],l[u]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(a){for(var l=this.errorCorrectionLevel.formatBits<<3|a,c=l,u=0;u<10;u++)c=c<<1^(c>>>9)*1335;var d=(l<<10|c)^21522;n(d>>>15==0);for(var u=0;u<=5;u++)this.setFunctionModule(8,u,r(d,u));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(var u=9;u<15;u++)this.setFunctionModule(14-u,8,r(d,u));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,r(d,u));for(var u=8;u<15;u++)this.setFunctionModule(8,this.size-15+u,r(d,u));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var a=this.version,l=0;l<12;l++)a=a<<1^(a>>>11)*7973;var c=this.version<<12|a;n(c>>>18==0);for(var l=0;l<18;l++){var u=r(c,l),d=this.size-11+l%3,h=Math.floor(l/3);this.setFunctionModule(d,h,u),this.setFunctionModule(h,d,u)}}},o.prototype.drawFinderPattern=function(a,l){for(var c=-4;c<=4;c++)for(var u=-4;u<=4;u++){var d=Math.max(Math.abs(u),Math.abs(c)),h=a+u,p=l+c;0<=h&&h<this.size&&0<=p&&p<this.size&&this.setFunctionModule(h,p,d!=2&&d!=4)}},o.prototype.drawAlignmentPattern=function(a,l){for(var c=-2;c<=2;c++)for(var u=-2;u<=2;u++)this.setFunctionModule(a+u,l+c,Math.max(Math.abs(u),Math.abs(c))!=1)},o.prototype.setFunctionModule=function(a,l,c){this.modules[l][a]=c,this.isFunction[l][a]=!0},o.prototype.addEccAndInterleave=function(a){var l=this.version,c=this.errorCorrectionLevel;if(a.length!=o.getNumDataCodewords(l,c))throw new RangeError("Invalid argument");for(var u=o.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l],d=o.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l],h=Math.floor(o.getNumRawDataModules(l)/8),p=u-h%u,w=Math.floor(h/u),b=[],C=o.reedSolomonComputeDivisor(d),$=0,R=0;$<u;$++){var E=a.slice(R,R+w-d+($<p?0:1));R+=E.length;var x=o.reedSolomonComputeRemainder(E,C);$<p&&E.push(0),b.push(E.concat(x))}for(var L=[],J=function(W){b.forEach(function(ye,pe){(W!=w-d||pe>=p)&&L.push(ye[W])})},$=0;$<b[0].length;$++)J($);return n(L.length==h),L},o.prototype.drawCodewords=function(a){if(a.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(var u=0;u<this.size;u++)for(var d=0;d<2;d++){var h=c-d,p=(c+1&2)==0,w=p?this.size-1-u:u;!this.isFunction[w][h]&&l<a.length*8&&(this.modules[w][h]=r(a[l>>>3],7-(l&7)),l++)}}n(l==a.length*8)},o.prototype.applyMask=function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var c=0;c<this.size;c++){var u=void 0;switch(a){case 0:u=(c+l)%2==0;break;case 1:u=l%2==0;break;case 2:u=c%3==0;break;case 3:u=(c+l)%3==0;break;case 4:u=(Math.floor(c/3)+Math.floor(l/2))%2==0;break;case 5:u=c*l%2+c*l%3==0;break;case 6:u=(c*l%2+c*l%3)%2==0;break;case 7:u=((c+l)%2+c*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][c]&&u&&(this.modules[l][c]=!this.modules[l][c])}},o.prototype.getPenaltyScore=function(){for(var a=0,l=0;l<this.size;l++){for(var c=!1,u=0,d=[0,0,0,0,0,0,0],h=0;h<this.size;h++)this.modules[l][h]==c?(u++,u==5?a+=o.PENALTY_N1:u>5&&a++):(this.finderPenaltyAddHistory(u,d),c||(a+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),c=this.modules[l][h],u=1);a+=this.finderPenaltyTerminateAndCount(c,u,d)*o.PENALTY_N3}for(var h=0;h<this.size;h++){for(var c=!1,p=0,d=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][h]==c?(p++,p==5?a+=o.PENALTY_N1:p>5&&a++):(this.finderPenaltyAddHistory(p,d),c||(a+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),c=this.modules[l][h],p=1);a+=this.finderPenaltyTerminateAndCount(c,p,d)*o.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var h=0;h<this.size-1;h++){var w=this.modules[l][h];w==this.modules[l][h+1]&&w==this.modules[l+1][h]&&w==this.modules[l+1][h+1]&&(a+=o.PENALTY_N2)}for(var b=0,C=0,$=this.modules;C<$.length;C++){var R=$[C];b=R.reduce(function(L,J){return L+(J?1:0)},b)}var E=this.size*this.size,x=Math.ceil(Math.abs(b*20-E*10)/E)-1;return n(0<=x&&x<=9),a+=x*o.PENALTY_N4,n(0<=a&&a<=2568888),a},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,l=Math.floor((this.version*8+a*3+5)/(a*4-4))*2,c=[6],u=this.size-7;c.length<a;u-=l)c.splice(1,0,u);return c},o.getNumRawDataModules=function(a){if(a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*a+128)*a+64;if(a>=2){var c=Math.floor(a/7)+2;l-=(25*c-10)*c-55,a>=7&&(l-=36)}return n(208<=l&&l<=29648),l},o.getNumDataCodewords=function(a,l){return Math.floor(o.getNumRawDataModules(a)/8)-o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a]*o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a]},o.reedSolomonComputeDivisor=function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var l=[],c=0;c<a-1;c++)l.push(0);l.push(1);for(var u=1,c=0;c<a;c++){for(var d=0;d<l.length;d++)l[d]=o.reedSolomonMultiply(l[d],u),d+1<l.length&&(l[d]^=l[d+1]);u=o.reedSolomonMultiply(u,2)}return l},o.reedSolomonComputeRemainder=function(a,l){for(var c=l.map(function(w){return 0}),u=function(w){var b=w^c.shift();c.push(0),l.forEach(function(C,$){return c[$]^=o.reedSolomonMultiply(C,b)})},d=0,h=a;d<h.length;d++){var p=h[d];u(p)}return c},o.reedSolomonMultiply=function(a,l){if(a>>>8||l>>>8)throw new RangeError("Byte out of range");for(var c=0,u=7;u>=0;u--)c=c<<1^(c>>>7)*285,c^=(l>>>u&1)*a;return n(c>>>8==0),c},o.prototype.finderPenaltyCountPatterns=function(a){var l=a[1];n(l<=this.size*3);var c=l>0&&a[2]==l&&a[3]==l*3&&a[4]==l&&a[5]==l;return(c&&a[0]>=l*4&&a[6]>=l?1:0)+(c&&a[6]>=l*4&&a[0]>=l?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(a,l,c){return a&&(this.finderPenaltyAddHistory(l,c),l=0),l+=this.size,this.finderPenaltyAddHistory(l,c),this.finderPenaltyCountPatterns(c)},o.prototype.finderPenaltyAddHistory=function(a,l){l[0]==0&&(a+=this.size),l.pop(),l.unshift(a)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();t.QrCode=e;function s(o,a,l){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var c=a-1;c>=0;c--)l.push(o>>>c&1)}function r(o,a){return(o>>>a&1)!=0}function n(o){if(!o)throw new Error("Assertion error")}var i=function(){function o(a,l,c){if(this.mode=a,this.numChars=l,this.bitData=c,l<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}return o.makeBytes=function(a){for(var l=[],c=0,u=a;c<u.length;c++){var d=u[c];s(d,8,l)}return new o(o.Mode.BYTE,a.length,l)},o.makeNumeric=function(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var l=[],c=0;c<a.length;){var u=Math.min(a.length-c,3);s(parseInt(a.substring(c,c+u),10),u*3+1,l),c+=u}return new o(o.Mode.NUMERIC,a.length,l)},o.makeAlphanumeric=function(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],c;for(c=0;c+2<=a.length;c+=2){var u=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c))*45;u+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c+1)),s(u,11,l)}return c<a.length&&s(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(c)),6,l),new o(o.Mode.ALPHANUMERIC,a.length,l)},o.makeSegments=function(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]},o.makeEci=function(a){var l=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)s(a,8,l);else if(a<16384)s(2,2,l),s(a,14,l);else if(a<1e6)s(6,3,l),s(a,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)},o.isNumeric=function(a){return o.NUMERIC_REGEX.test(a)},o.isAlphanumeric=function(a){return o.ALPHANUMERIC_REGEX.test(a)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(a,l){for(var c=0,u=0,d=a;u<d.length;u++){var h=d[u],p=h.mode.numCharCountBits(l);if(h.numChars>=1<<p)return 1/0;c+=4+p+h.bitData.length}return c},o.toUtf8ByteArray=function(a){a=encodeURI(a);for(var l=[],c=0;c<a.length;c++)a.charAt(c)!="%"?l.push(a.charCodeAt(c)):(l.push(parseInt(a.substring(c+1,c+3),16)),c+=2);return l},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();t.QrSegment=i})(Qt||(Qt={}));(function(t){(function(e){var s=function(){function r(n,i){this.ordinal=n,this.formatBits=i}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();e.Ecc=s})(t.QrCode||(t.QrCode={}))})(Qt||(Qt={}));(function(t){(function(e){var s=function(){function r(n,i){this.modeBits=n,this.numBitsCharCount=i}return r.prototype.numCharCountBits=function(n){return this.numBitsCharCount[Math.floor((n+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();e.Mode=s})(t.QrSegment||(t.QrSegment={}))})(Qt||(Qt={}));var os=Qt,ii="L",oi={L:os.QrCode.Ecc.LOW,M:os.QrCode.Ecc.MEDIUM,Q:os.QrCode.Ecc.QUARTILE,H:os.QrCode.Ecc.HIGH},If=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function ai(t){return t in oi}function Ka(t,e){e===void 0&&(e=0);var s=[];return t.forEach(function(r,n){var i=null;r.forEach(function(o,a){if(!o&&i!==null){s.push("M".concat(i+e," ").concat(n+e,"h").concat(a-i,"v1H").concat(i+e,"z")),i=null;return}if(a===r.length-1){if(!o)return;i===null?s.push("M".concat(a+e,",").concat(n+e," h1v1H").concat(a+e,"z")):s.push("M".concat(i+e,",").concat(n+e," h").concat(a+1-i,"v1H").concat(i+e,"z"));return}o&&i===null&&(i=a)})}),s.join("")}function qa(t,e,s,r){var n=r.width,i=r.height,o=r.x,a=r.y,l=t.length+s*2,c=Math.floor(e*.1),u=l/e,d=(n||c)*u,h=(i||c)*u,p=o==null?t.length/2-d/2:o*u,w=a==null?t.length/2-h/2:a*u,b=null;if(r.excavate){var C=Math.floor(p),$=Math.floor(w),R=Math.ceil(d+p-C),E=Math.ceil(h+w-$);b={x:C,y:$,w:R,h:E}}return{x:p,y:w,h,w:d,excavation:b}}function Va(t,e){return t.slice().map(function(s,r){return r<e.y||r>=e.y+e.h?s:s.map(function(n,i){return i<e.x||i>=e.x+e.w?n:!1})})}var li={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:ii,validator:function(t){return ai(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(t){return["linear","radial"].indexOf(t)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},jf=ft(ft({},li),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),Mf=kt({name:"QRCodeSvg",props:li,setup:function(t){var e=Y(0),s=Y(""),r,n=function(){var o=t.value,a=t.level,l=t.margin,c=l>>>0,u=ai(a)?a:ii,d=os.QrCode.encodeText(o,oi[u]).getModules();if(e.value=d.length+c*2,t.imageSettings.src){var h=qa(d,t.size,c,t.imageSettings);r={x:h.x+c,y:h.y+c,width:h.w,height:h.h},h.excavation&&(d=Va(d,h.excavation))}s.value=Ka(d,c)},i=function(){if(!t.gradient)return null;var o=t.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Fe(t.gradientType==="linear"?"linearGradient":"radialGradient",ft({id:"qr-gradient"},o),[Fe("stop",{offset:"0%",style:{stopColor:t.gradientStartColor}}),Fe("stop",{offset:"100%",style:{stopColor:t.gradientEndColor}})])};return n(),Xn(n),function(){return Fe("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.value," ").concat(e.value)},[Fe("defs",{},[i()]),Fe("rect",{width:"100%",height:"100%",fill:t.background}),Fe("path",{fill:t.gradient?"url(#qr-gradient)":t.foreground,d:s.value}),t.imageSettings.src&&Fe("image",ft({href:t.imageSettings.src},r))])}}}),Lf=kt({name:"QRCodeCanvas",props:li,setup:function(t,e){var s=Y(null),r=Y(null),n=function(){var o=t.value,a=t.level,l=t.size,c=t.margin,u=t.background,d=t.foreground,h=t.gradient,p=t.gradientType,w=t.gradientStartColor,b=t.gradientEndColor,C=c>>>0,$=ai(a)?a:ii,R=s.value;if(R){var E=R.getContext("2d");if(E){var x=os.QrCode.encodeText(o,oi[$]).getModules(),L=x.length+C*2,J=r.value,W={x:0,y:0,width:0,height:0},ye=t.imageSettings.src&&J!=null&&J.naturalWidth!==0&&J.naturalHeight!==0;if(ye){var pe=qa(x,t.size,C,t.imageSettings);W={x:pe.x+C,y:pe.y+C,width:pe.w,height:pe.h},pe.excavation&&(x=Va(x,pe.excavation))}var Ce=window.devicePixelRatio||1,be=l/L*Ce;if(R.height=R.width=l*Ce,E.scale(be,be),E.fillStyle=u,E.fillRect(0,0,L,L),h){var _e=void 0;p==="linear"?_e=E.createLinearGradient(0,0,L,L):_e=E.createRadialGradient(L/2,L/2,0,L/2,L/2,L/2),_e.addColorStop(0,w),_e.addColorStop(1,b),E.fillStyle=_e}else E.fillStyle=d;If?E.fill(new Path2D(Ka(x,C))):x.forEach(function(xe,Ze){xe.forEach(function(Ne,fe){Ne&&E.fillRect(fe+C,Ze+C,1,1)})}),ye&&E.drawImage(J,W.x,W.y,W.width,W.height)}}};lt(n),Xn(n);var i=e.attrs.style;return function(){return Fe(X,[Fe("canvas",ft(ft({},e.attrs),{ref:s,style:ft(ft({},i),{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")})})),t.imageSettings.src&&Fe("img",{ref:r,src:t.imageSettings.src,style:{display:"none"},onLoad:n})])}}}),Df=kt({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,s=t.value,r=t.size,n=t.margin,i=t.level,o=t.background,a=t.foreground,l=t.imageSettings,c=t.gradient,u=t.gradientType,d=t.gradientStartColor,h=t.gradientEndColor;return Fe(e==="svg"?Mf:Lf,{value:s,size:r,margin:n,level:i,background:o,foreground:a,imageSettings:l,gradient:c,gradientType:u,gradientStartColor:d,gradientEndColor:h})},props:jf});const Nf="modulepreload",Uf=function(t){return"/jatsapp/"+t},po={},ys=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=Uf(l),l in po)return;po[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Nf,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Ff=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ys(async()=>{const{default:r}=await Promise.resolve().then(()=>bs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class ci extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Bf extends ci{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hf extends ci{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class zf extends ci{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var An;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(An||(An={}));var Gf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Kf{constructor(e,{headers:s={},customFetch:r,region:n=An.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Ff(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Gf(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(w=>{throw new Bf(w)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Hf(u);if(!u.ok)throw new zf(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}var Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Be={},ui={},Hr={},tr={},zr={},Gr={},Vf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_s=Vf();const Wf=_s.fetch,Wa=_s.fetch.bind(_s),Ja=_s.Headers,Jf=_s.Request,Qf=_s.Response,bs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ja,Request:Jf,Response:Qf,default:Wa,fetch:Wf},Symbol.toStringTag,{value:"Module"})),Yf=qf(bs);var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});class Xf extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Kr.default=Xf;var Qa=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gr,"__esModule",{value:!0});const Zf=Qa(Yf),ep=Qa(Kr);let tp=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Zf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const $=await i.text();$===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=$:u=JSON.parse($))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");b&&C&&C.length>1&&(d=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const b=await i.text();try{c=JSON.parse(b),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,p="OK")}catch{i.status===404&&b===""?(h=204,p="No Content"):c={message:b}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new ep.default(c)}return{error:c,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}};Gr.default=tp;var sp=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zr,"__esModule",{value:!0});const rp=sp(Gr);let np=class extends rp.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};zr.default=np;var ip=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tr,"__esModule",{value:!0});const op=ip(zr);let ap=class extends op.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};tr.default=ap;var lp=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});const Cs=lp(tr);let cp=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Cs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Cs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Cs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new Cs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Cs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Hr.default=cp;var qr={},Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.version=void 0;Vr.version="0.0.0-automated";Object.defineProperty(qr,"__esModule",{value:!0});qr.DEFAULT_HEADERS=void 0;const up=Vr;qr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${up.version}`};var Ya=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ui,"__esModule",{value:!0});const dp=Ya(Hr),hp=Ya(tr),fp=qr;let pp=class Xa{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},fp.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new dp.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Xa(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=s);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new hp.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ui.default=pp;var ws=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const Za=ws(ui);Be.PostgrestClient=Za.default;const el=ws(Hr);Be.PostgrestQueryBuilder=el.default;const tl=ws(tr);Be.PostgrestFilterBuilder=tl.default;const sl=ws(zr);Be.PostgrestTransformBuilder=sl.default;const rl=ws(Gr);Be.PostgrestBuilder=rl.default;const nl=ws(Kr);Be.PostgrestError=nl.default;var gp=Be.default={PostgrestClient:Za.default,PostgrestQueryBuilder:el.default,PostgrestFilterBuilder:tl.default,PostgrestTransformBuilder:sl.default,PostgrestBuilder:rl.default,PostgrestError:nl.default};const{PostgrestClient:mp,PostgrestQueryBuilder:pm,PostgrestFilterBuilder:gm,PostgrestTransformBuilder:mm,PostgrestBuilder:vm}=gp,vp="2.10.7",yp={"X-Client-Info":`realtime-js/${vp}`},_p="1.0.0",il=1e4,bp=1e3;var ps;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ps||(ps={}));var qe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qe||(qe={}));var rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rt||(rt={}));var Rn;(function(t){t.websocket="websocket"})(Rn||(Rn={}));var Vt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vt||(Vt={}));class wp{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class ol{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ue||(ue={}));const go=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=xp(o,t,e,n),i),{})},xp=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?al(i,o):In(o)},al=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Cp(e,s)}switch(t){case ue.bool:return kp(e);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return Sp(e);case ue.json:case ue.jsonb:return Ep(e);case ue.timestamp:return Pp(e);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return In(e);default:return In(e)}},In=t=>t,kp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Sp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ep=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Cp=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>al(e,a))}return t},Pp=t=>typeof t=="string"?t.replace(" ","T"):t,ll=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class un{constructor(e,s,r={},n=il){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mo;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mo||(mo={}));class Ns{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ns.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ns.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ns.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(C=>C.presence_ref),p=d.map(C=>C.presence_ref),w=u.filter(C=>p.indexOf(C.presence_ref)<0),b=d.filter(C=>h.indexOf(C.presence_ref)<0);w.length>0&&(a[c]=w),b.length>0&&(l[c]=b)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(vo||(vo={}));var yo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(yo||(yo={}));var _o;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(_o||(_o={}));class di{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new un(this,rt.join,this.params,this.timeout),this.rejoinTimer=new ol(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ns(this),this.broadcastEndpointURL=ll(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,w=[];for(let b=0;b<p;b++){const C=h[b],{filter:{event:$,schema:R,table:E,filter:x}}=C,L=u&&u[b];if(L&&L.event===$&&L.schema===R&&L.table===E&&L.filter===x)w.push(Object.assign(Object.assign({},C),{id:L.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=l.body)===null||n===void 0?void 0:n.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new un(this,rt.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new un(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=rt;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,s,r);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var w,b,C;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(b=p.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,b,C,$,R,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const x=p.id,L=(w=p.filter)===null||w===void 0?void 0:w.event;return x&&((b=s.ids)===null||b===void 0?void 0:b.includes(x))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const x=(R=($=p==null?void 0:p.filter)===null||$===void 0?void 0:$.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return x==="*"||x===((E=s==null?void 0:s.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:b,table:C,commit_timestamp:$,type:R,errors:E}=w;h=Object.assign(Object.assign({},{schema:b,table:C,commit_timestamp:$,eventType:R,new:{},old:{},errors:E}),this._getPayloadRecords(w))}p.callback(h,r)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&di.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=go(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=go(e.columns,e.old_record)),s}}const Tp=()=>{},$p=typeof WebSocket<"u",Op=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ap{constructor(e,s){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=yp,this.params={},this.timeout=il,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Tp,this.conn=null,this.sendBuffer=[],this.serializer=new wp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ys(async()=>{const{default:l}=await Promise.resolve().then(()=>bs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Rn.websocket}`,this.httpEndpoint=ll(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ol(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if($p){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Rp(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),ys(async()=>{const{default:e}=await import("./browser-C_CYo2fu.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ps.connecting:return Vt.Connecting;case ps.open:return Vt.Open;case ps.closing:return Vt.Closing;default:return Vt.Closed}}isConnected(){return this.connectionState()===Vt.Open}channel(e,s={config:{}}){const r=new di(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(rt.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_p}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;(o&&o===this.pendingHeartbeatRef||n===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(bp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Op],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Rp{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ps.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class hi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ip extends hi{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class jn extends hi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var jp=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const cl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ys(async()=>{const{default:r}=await Promise.resolve().then(()=>bs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Mp=()=>jp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ys(()=>Promise.resolve().then(()=>bs),void 0)).Response:Response}),Mn=t=>{if(Array.isArray(t))return t.map(s=>Mn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Mn(r)}),e};var Yt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const dn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lp=(t,e,s)=>Yt(void 0,void 0,void 0,function*(){const r=yield Mp();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Ip(dn(n),t.status||500))}).catch(n=>{e(new jn(dn(n),n))}):e(new jn(dn(t),t))}),Dp=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function sr(t,e,s,r,n,i){return Yt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Dp(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Lp(l,a,r))})})}function Er(t,e,s,r){return Yt(this,void 0,void 0,function*(){return sr(t,"GET",e,s,r)})}function jt(t,e,s,r,n){return Yt(this,void 0,void 0,function*(){return sr(t,"POST",e,r,n,s)})}function Np(t,e,s,r,n){return Yt(this,void 0,void 0,function*(){return sr(t,"PUT",e,r,n,s)})}function Up(t,e,s,r){return Yt(this,void 0,void 0,function*(){return sr(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function ul(t,e,s,r,n){return Yt(this,void 0,void 0,function*(){return sr(t,"DELETE",e,r,n,s)})}var Ue=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Fp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bp{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=cl(n)}uploadOrUpdate(e,s,r,n){return Ue(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},bo),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ke(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:bo.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield jt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new hi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}update(e,s,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield jt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Ue(this,void 0,void 0,function*(){try{const n=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}download(e,s){return Ue(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Er(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}info(e){return Ue(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Er(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Mn(r),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}exists(e){return Ue(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Up(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ke(r)&&r instanceof jn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}list(e,s,r){return Ue(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Fp),s),{prefix:e||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Hp="2.7.1",zp={"X-Client-Info":`storage-js/${Hp}`};var ts=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Gp{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},zp),s),this.fetch=cl(r)}listBuckets(){return ts(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ke(e))return{data:null,error:e};throw e}})}getBucket(e){return ts(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return ts(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return ts(this,void 0,void 0,function*(){try{return{data:yield Np(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ts(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}deleteBucket(e){return ts(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}}class Kp extends Gp{constructor(e,s={},r){super(e,s,r)}from(e){return new Bp(this.url,this.headers,e,this.fetch)}}const qp="2.46.1";let $s="";typeof Deno<"u"?$s="deno":typeof document<"u"?$s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$s="react-native":$s="node";const Vp={"X-Client-Info":`supabase-js-${$s}/${qp}`},Wp={headers:Vp},Jp={schema:"public"},Qp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yp={};var Xp=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Zp=t=>{let e;return t?e=t:typeof fetch>"u"?e=Wa:e=fetch,(...s)=>e(...s)},eg=()=>typeof Headers>"u"?Ja:Headers,tg=(t,e,s)=>{const r=Zp(s),n=eg();return(i,o)=>Xp(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var sg=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function rg(t){return t.replace(/\/$/,"")}function ng(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),i),accessToken:()=>sg(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const dl="2.65.1",ig="http://localhost:9999",og="supabase.auth.token",ag={"X-Client-Info":`gotrue-js/${dl}`},wo=10,Ln="X-Supabase-Api-Version",hl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function lg(t){return Math.round(Date.now()/1e3)+t}function cg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const st=()=>typeof document<"u",zt={tested:!1,writable:!1},Us=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zt.tested)return zt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zt.tested=!0,zt.writable=!0}catch{zt.tested=!0,zt.writable=!1}return zt.writable};function hn(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const fl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ys(async()=>{const{default:r}=await Promise.resolve().then(()=>bs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},ug=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pl=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},or=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ar=async(t,e)=>{await t.removeItem(e)};function dg(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|c,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),c!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class Wr{constructor(){this.promise=new Wr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Wr.promiseConstructor=Promise;function xo(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(dg(r))}async function hg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function fg(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function pg(t){return("0"+t.toString(16)).substr(-2)}function gg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,pg).join("")}async function mg(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function vg(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await mg(t);return vg(s)}async function ss(t,e,s=!1){const r=gg();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await pl(t,`${e}-code-verifier`,n);const i=await yg(r);return[i,r===i?"plain":"s256"]}const _g=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bg(t){const e=t.headers.get(Ln);if(!e||!e.match(_g))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class fi extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function Q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wg extends fi{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function xg(t){return Q(t)&&t.name==="AuthApiError"}class gl extends fi{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Xt extends fi{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Tt extends Xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kg(t){return Q(t)&&t.name==="AuthSessionMissingError"}class fn extends Xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lr extends Xt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cr extends Xt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ko extends Xt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dn extends Xt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function pn(t){return Q(t)&&t.name==="AuthRetryableFetchError"}class So extends Xt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var Sg=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Kt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Eg=[502,503,504];async function Eo(t){var e;if(!ug(t))throw new Dn(Kt(t),0);if(Eg.includes(t.status))throw new Dn(Kt(t),t.status);let s;try{s=await t.json()}catch(i){throw new gl(Kt(i),i)}let r;const n=bg(t);if(n&&n.getTime()>=hl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new So(Kt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Tt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new So(Kt(s),t.status,s.weak_password.reasons);throw new wg(Kt(s),t.status||500,r)}const Cg=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function te(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Ln]||(i[Ln]=hl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Pg(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Pg(t,e,s,r,n,i){const o=Cg(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Dn(Kt(l),0)}if(a.ok||await Eo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Eo(l)}}function $t(t){var e;let s=null;Ag(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=lg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Co(t){const e=$t(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Mt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Tg(t){return{data:t,error:null}}function $g(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Sg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Og(t){return t}function Ag(t){return t.access_token&&t.refresh_token&&t.expires_in}var Rg=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Ig{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=fl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Mt})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Rg(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:$g,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Mt})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Og});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);c[`${C}Page`]=b}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Q(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Mt})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Mt})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Mt})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}}const jg={getItem:t=>Us()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Us()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Us()&&globalThis.localStorage.removeItem(t)}};function Po(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Mg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rs={debug:!!(globalThis&&Us()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ml extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Lg extends ml{}async function Dg(t,e,s){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Lg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(rs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}Mg();const Ng={url:ig,storageKey:og,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ag,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ps=30*1e3,To=3;async function $o(t,e,s){return await s()}class Js{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Js.nextInstanceID,Js.nextInstanceID+=1,this.instanceID>0&&st()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Ng),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Ig({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=fl(n.fetch),this.lock=n.lock||$o,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:st()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Dg:this.lock=$o,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Us()?this.storage=jg:(this.memoryStorage={},this.storage=Po(this.memoryStorage)):(this.memoryStorage={},this.storage=Po(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=st()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:n,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Q(e)?{error:e}:{error:new gl("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:$t}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await ss(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:w},xform:$t})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(n=h==null?void 0:h.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$t})}else throw new lr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Co})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Co})}else throw new lr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new fn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await or(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:$t});if(await ar(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$t}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ss(this.storage,this.storageKey));const{error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new lr("You must provide either an email or phone number.")}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:$t});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ss(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Tg})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Tt;const{error:n}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(Q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await te(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await te(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new lr("You must provide either an email or phone number and a type")}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Mt})})}catch(s){if(Q(s))return kg(s)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Tt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ss(this.storage,this.storageKey));const{data:c,error:u}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Mt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return xo(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Tt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=xo(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(Q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Tt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!st())throw new cr("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new cr("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new ko("Not a valid PKCE flow url.");const s=hn(window.location.href);if(e){if(!s.code)throw new ko("No code detected.");const{data:R,error:E}=await this._exchangeCodeForSession(s.code);if(E)throw E;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:R.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new cr(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=s;if(!i||!a||!o||!c)throw new cr("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=Ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const w=h-d;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,u);const{data:b,error:C}=await this._getUser(i);if(C)throw C;const $={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:s.type},error:null}}catch(s){if(Q(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=hn(window.location.href);return!!(st()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=hn(window.location.href),s=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(xg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=cg(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await ss(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return st()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Q(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await fg(async n=>(n>0&&await hg(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$t})),(n,i)=>{const o=200*Math.pow(2,n);return i&&pn(i)&&Date.now()+o-r<Ps})}catch(r){if(this._debug(s,"error",r),Q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),st()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await or(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+wo;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${wo}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),pn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Wr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),Q(i)){const o={session:null,error:i};return pn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await pl(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ar(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&st()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ps);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ps}ms, refresh threshold is ${To} ticks`),n<=To&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ml)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ss(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await te(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(Q(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Js.nextInstanceID=0;const Ug=Js;class Fg extends Ug{constructor(e){super(e)}}var Bg=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Hg{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=rg(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Jp,realtime:Yp,auth:Object.assign(Object.assign({},Qp),{storageKey:l}),global:Wp},u=ng(r??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=tg(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new mp(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Kf(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Kp(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Bg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},c,u){var d;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fg({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new Ap(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zg=(t,e,s)=>new Hg(t,e,s),Gg="https://gjpngalenvnzqrgyffse.supabase.co",Kg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdqcG5nYWxlbnZuenFyZ3lmZnNlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIzMDYzMjMsImV4cCI6MjA0Nzg4MjMyM30.ISJxOoDO7v4INrdYXgLtTnA78H_JegITW-PJ75xDkaE",Qs=zg(Gg,Kg),qg={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Vg={class:"flex items-center justify-center min-h-screen px-4"},Wg={class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm w-full"},Jg={class:"flex flex-col items-center gap-4"},Qg={class:"text-lg font-bold dark:text-white"},Yg={key:0,class:"w-full"},Xg={class:"text-center my-2"},Zg=["href"],e0={key:1,class:"text-center text-red-500 dark:text-red-400"},t0={key:2,class:"text-center text-gray-600 dark:text-gray-300"},s0=kt({__name:"PlayerShare",props:{show:{type:Boolean},player:{},players:{}},emits:["close"],setup(t){const e=t,s=Y(""),r=Y(!1),n=Ie(()=>s.value?`${window.location.origin+"/jatsapp"}/share?id=${s.value}`:""),i=()=>e.players.filter(l=>l.name!==e.player.name).map(l=>({name:l.name,total:Object.values(l.scores).reduce((c,u)=>c+(u||0),0)})),o=async()=>{if(e.player){r.value=!1,s.value="";try{const l={player_name:e.player.name,scores:e.player.scores,total:Object.values(e.player.scores).reduce((d,h)=>d+(h||0),0),other_players:i(),updated_at:new Date().toISOString()},{data:c,error:u}=await Qs.from("shared_scores").upsert(l).select().single();if(u)throw u;if(!(c!=null&&c.id))throw new Error("No ID returned");s.value=c.id}catch(l){console.error("Failed to initialize share:",l),r.value=!0}}},a=async()=>{try{await navigator.clipboard.writeText(n.value),alert("Link copied to clipboard!")}catch(l){console.error("Failed to copy:",l),alert("Failed to copy link")}};return zc(()=>{e.show&&e.player&&o()}),(l,c)=>{var u;return l.show?(A(),I("div",qg,[m("div",Vg,[m("div",{class:"fixed inset-0 bg-black opacity-50",onClick:c[0]||(c[0]=d=>l.$emit("close"))}),m("div",Wg,[m("div",Jg,[m("h3",Qg," Share "+F((u=l.player)==null?void 0:u.name)+"'s Stats ",1),s.value?(A(),I("div",Yg,[le(Df,{value:n.value,class:"bg-white p-2 rounded w-full",size:200,level:"M","render-as":"svg"},null,8,["value"]),c[2]||(c[2]=m("div",{class:"text-sm text-gray-600 dark:text-gray-300 mt-4 text-center"}," Scan with phone camera or ",-1)),m("div",Xg,[m("a",{href:n.value,target:"_blank",class:"text-center my-2 text-blue-500 hover:text-blue-600 dark:text-blue-400 hover:underline"},"Share URL",8,Zg)]),m("div",{class:"flex gap-2 mt-2"},[m("button",{onClick:a,class:"flex-1 px-4 py-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700"}," Copy Link ")])])):r.value?(A(),I("div",e0," Failed to generate share link. Please try again. ")):(A(),I("div",t0," Generating share link... ")),m("button",{onClick:c[1]||(c[1]=d=>l.$emit("close")),class:"mt-4 px-4 py-2 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700"}," Close ")])])])])):ve("",!0)}}}),r0={class:"flex justify-around items-center mb-1"},n0={class:"rounded-lg overflow-x-auto"},i0={class:"max-h-[80vh] overflow-y-auto"},o0={class:"w-full text-sm relative"},a0={class:"sticky top-0 z-20"},l0={class:"dark:bg-gray-800 bg-white"},c0={class:"flex flex-col items-center"},u0={class:"flex items-center gap-1"},d0=["onClick"],h0=["onClick"],f0={key:0,class:"text-xs"},p0={class:"px-2 py-0 bg-white dark:bg-gray-900"},g0={class:"flex justify-between items-center text-sm"},m0={class:"text-xs text-gray-500"},v0=["onClick"],y0={class:"px-2 bg-white dark:bg-gray-900"},_0={class:"flex justify-between items-center text-sm"},b0={class:"text-xs text-gray-500"},w0={class:"bg-blue-50 dark:bg-blue-900"},x0={class:"bg-green-100 dark:bg-green-900"},k0={class:"px-2 bg-white dark:bg-gray-900"},S0={class:"flex justify-between items-center text-sm"},E0={class:"text-xs text-gray-500"},C0=["onClick"],P0={class:"px-2 bg-white dark:bg-gray-900"},T0={class:"flex justify-between items-center text-sm"},$0={class:"text-xs text-gray-500"},O0={class:"sticky bottom-0 z-20"},A0={class:"bg-gray-100 dark:bg-gray-800"},R0={class:"bg-yellow-100 font-bold text-sm dark:bg-yellow-900"},I0={class:"flex flex-col gap-4"},j0={class:"text-sm dark:text-gray-300"},M0={class:"flex flex-col gap-4"},L0={class:"text-center"},D0=kt({__name:"ScoreTable",props:{players:{}},emits:["reset-scores","remove-player"],setup(t,{emit:e}){const s=er(),r=t,n=e,i=["Ones","Twos","Threes","Fours","Fives","Sixes"],o=["One Pair","Two Pairs","Three of a Kind","Four of a Kind","Full House","Small Straight","Large Straight","Yahtzee","Chance"],a=Y(null),l=Y(""),c=Y(0),u=Y(null),d=B=>i.reduce((v,y)=>v+(B.scores[y]||0),0),h=B=>{const v=d(B),y=v>=63?50:0,S=o.reduce((j,q)=>j+(B.scores[q]||0),0);return v+y+S},p=()=>{a.value=null,l.value="",c.value=0},w=async(B,v)=>{B.scores[v]!==void 0?c.value=B.scores[v]:c.value=R(v),a.value=B,l.value=v,Mr().then(()=>{document.getElementById("modalScoreInput").focus(),document.getElementById("modalScoreInput").select(),document.getElementById("modalScoreInput").style.color="blue",document.getElementById("modalScoreInput").click()})},b=()=>{confirm("Are you sure you want to end the game? This will save the results and reset all scores.")&&(saveGameHistory(),localStorage.removeItem("yatzyGameState"),s.push("/"))},C=()=>{confirm("Are you sure you want to cancel the game? All progress will be lost.")&&(localStorage.removeItem("yatzyGameState"),s.push("/"))},$=()=>{s.push("/")},R=B=>{switch(B){case"Small Straight":return 15;case"Large Straight":return 20;case"Yahtzee":return 50;default:return c.value}},E=(B,v)=>{if(v===0)return!0;const S={Ones:1,Twos:2,Threes:3,Fours:4,Fives:5,Sixes:6}[B];if(!S)return!0;if(v%S!==0)return!1;const j=S*5;return!(v>j)},x=(B,v)=>{delete B.scores[v],p()},L=async()=>{const{data:B}=await Qs.from("shared_scores").select("id, player_name").in("player_name",r.players.map(v=>v.name));if(B)for(const v of B){const y=r.players.find(S=>S.name===v.player_name);if(y){const S=r.players.filter(j=>j.name!==y.name).map(j=>({name:j.name,scores:j.scores,total:h(j)}));await Qs.from("shared_scores").update({scores:y.scores,total:h(y),other_players:S,updated_at:new Date().toISOString()}).eq("id",v.id)}}},J=async(B,v)=>{if(c.value===0||c.value){const y=R(v);if(y>=0){if(!E(v,y)&&!confirm(`Warning: ${y} seems invalid for ${v}. Are you sure?`))return;B.scores[v]=y,await L(),p()}}else delete B.scores[v],await L(),p()},W=B=>{let v=0;return i.forEach((y,S)=>{const j=S+1,q=B.scores[y];q!==void 0&&q!=="-"&&!isNaN(parseInt(q))?v+=parseInt(q):v+=j*3}),v-63},ye=B=>B>0?`+${B}`:B.toString(),pe=B=>{switch(B){case"Ones":return 5;case"Twos":return 10;case"Threes":return 15;case"Fours":return 20;case"Fives":return 25;case"Sixes":return 30;case"One Pair":return 12;case"Two Pairs":return 22;case"Three of a Kind":return 30;case"Four of a Kind":return 30;case"Full House":return 28;case"Small Straight":return 15;case"Large Straight":return 20;case"Yahtzee":return 50;case"Chance":return 30;default:return 0}},Ce=B=>{let v=0;[...i,...o].forEach(j=>{const q=B.scores[j];q!==void 0&&q!=="-"&&!isNaN(parseInt(q))?v+=parseInt(q):v+=pe(j)});const y=d(B),S=i.filter(j=>B.scores[j]===void 0).reduce((j,q)=>j+pe(q),0);return y+S>=63&&(v+=50),v},{getAverageForCategory:be,formatAverage:_e}=Cf(),xe=B=>JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]").filter(y=>y.winner===B).length,Ze=Ie(()=>r.players.map(B=>({...B,wins:xe(B.name)}))),Ne=B=>{const v=r.players.map(S=>({name:S.name,total:h(S)}));v.sort((S,j)=>j.total-S.total);const y=v.findIndex(S=>S.name===B.name);if(v.length<=1)return"";if(y===0)return"bg-green-100 dark:bg-green-900";if(y===v.length-1)return"bg-red-100 dark:bg-red-900";{const S=v.length-1;return y/S<=.5?"bg-lime-50 dark:bg-lime-900/50":"bg-orange-50 dark:bg-orange-900/50"}},fe=Y(!1),Z=Y(""),ee=Y(null),Me=Y(null),et=()=>{Z.value.trim()&&(r.players.push({name:Z.value.trim(),scores:{},total:0}),fe.value=!1,Z.value="")},Je=()=>{fe.value=!1,Z.value=""},Te=B=>{n("remove-player",B)},Et=()=>{ee.value=null},Ct=()=>{ee.value=null},Zt=B=>{Me.value=B};return(B,v)=>(A(),I("div",null,[m("div",r0,[m("button",{onClick:b,class:"bg-red-500 hover:bg-red-600 text-white py-1 text-xs px-2 rounded dark:bg-red-600 dark:hover:bg-red-700"}," End "),m("button",{onClick:C,class:"bg-gray-500 hover:bg-gray-600 text-white py-1 text-xs px-2 rounded dark:bg-gray-600 dark:hover:bg-gray-700"}," Cancel "),m("button",{onClick:$,class:"bg-blue-500 hover:bg-blue-600 text-white py-1 text-xs px-2 rounded dark:bg-blue-600 dark:hover:bg-blue-700"}," Pause "),m("button",{onClick:v[0]||(v[0]=y=>fe.value=!0),class:"bg-green-500 hover:bg-green-600 text-white text-xs px-2 py-1 rounded dark:bg-green-600 dark:hover:bg-green-700"}," Add Player "),m("button",{onClick:v[1]||(v[1]=y=>B.$emit("reset-scores")),class:"bg-orange-500 hover:bg-orange-600 text-white text-xs px-2 py-1 rounded dark:bg-orange-600 dark:hover:bg-orange-700"}," Reset Scores ")]),m("div",n0,[m("div",i0,[m("table",o0,[m("thead",a0,[m("tr",l0,[v[8]||(v[8]=m("th",{class:"w-4/12 md:w-2/12 px-2 py-0 text-left bg-inherit"},"Category",-1)),(A(!0),I(X,null,me(Ze.value,y=>(A(),I("th",{key:y.name,class:nt(["w-1/12 px-2 py-0 transition-colors duration-300",Ne(y)])},[m("div",c0,[m("div",u0,[m("span",null,F(y.name),1),m("button",{onClick:Wi(S=>Te(y),["stop"]),class:"text-red-500 hover:text-red-600 dark:text-red-400 hover:scale-125 transition-transform",title:"Remove player"}," × ",8,d0),m("button",{onClick:Wi(S=>Zt(y),["stop"]),class:"text-blue-500 hover:text-blue-600 dark:text-blue-400 hover:scale-125 transition-transform",title:"Share player stats"}," 📤 ",8,h0)]),y.wins>0?(A(),I("span",f0,F(y.wins)+" "+F(y.wins===1?"win":"wins"),1)):ve("",!0)])],2))),128)),v[9]||(v[9]=m("th",{class:"w-4/12 md:w-2/12 px-2 py-0 text-left bg-inherit"},"Category",-1))])]),m("tbody",null,[(A(),I(X,null,me(i,y=>m("tr",{key:y},[m("td",p0,[m("div",g0,[m("span",null,F(y),1),m("span",m0,"("+F(Se(_e)(Se(be)(y)))+")",1)])]),(A(!0),I(X,null,me(B.players,S=>(A(),I("td",{key:S.name,class:"px-1 text-center"},[m("div",{onClick:j=>w(S,y),class:"min-w-[1.5rem] min-h-[1.5rem] rounded border border-gray-300 dark:border-gray-500 flex items-center justify-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 text-lg"},F(S.scores[y]!==void 0?S.scores[y]:"-"),9,v0)]))),128)),m("td",y0,[m("div",_0,[m("span",null,F(y),1),m("span",b0,"("+F(Se(_e)(Se(be)(y)))+")",1)])])])),64)),m("tr",w0,[v[10]||(v[10]=m("td",{class:"px-2 font-bold bg-inherit"},"(+/-)",-1)),(A(!0),I(X,null,me(B.players,y=>(A(),I("td",{key:y.name,class:nt(["px-1 text-center text-md",{"text-red-600":W(y)<0,"text-green-600":W(y)>0}])},F(ye(W(y))),3))),128)),v[11]||(v[11]=m("td",{class:"px-2 font-bold bg-inherit"},"(+/-)",-1))]),m("tr",x0,[v[12]||(v[12]=m("td",{class:"px-2 font-bold bg-inherit"},"Bonus ",-1)),(A(!0),I(X,null,me(B.players,y=>(A(),I("td",{key:y.name,class:"px-1 text-center text-md"},F(d(y)>=63?50:0),1))),128)),v[13]||(v[13]=m("td",{class:"px-2 font-bold bg-inherit"},"Bonus ",-1))]),(A(),I(X,null,me(o,y=>m("tr",{key:y},[m("td",k0,[m("div",S0,[m("span",null,F(y),1),m("span",E0,"("+F(Se(_e)(Se(be)(y)))+")",1)])]),(A(!0),I(X,null,me(B.players,S=>(A(),I("td",{key:S.name,class:"px-1 text-center"},[m("div",{onClick:j=>w(S,y),class:"min-w-[1.5rem] min-h-[1.5rem] rounded border border-gray-300 dark:border-gray-500 flex items-center justify-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 text-lg"},F(S.scores[y]!==void 0?S.scores[y]:"-"),9,C0)]))),128)),m("td",P0,[m("div",T0,[m("span",null,F(y),1),m("span",$0,"("+F(Se(_e)(Se(be)(y)))+")",1)])])])),64))]),m("tfoot",O0,[m("tr",A0,[v[14]||(v[14]=m("td",{class:"px-2 font-bold bg-inherit"},"Theoretical",-1)),(A(!0),I(X,null,me(B.players,y=>(A(),I("td",{key:y.name,class:"px-1 text-center text-md"},F(Ce(y)),1))),128)),v[15]||(v[15]=m("td",{class:"px-2 font-bold bg-inherit"},"Theoretical",-1))]),m("tr",R0,[v[16]||(v[16]=m("td",{class:"px-2 bg-inherit"},"Total Score",-1)),(A(!0),I(X,null,me(B.players,y=>(A(),I("td",{key:y.name,class:nt(["px-1 text-center text-md transition-colors duration-300",Ne(y)])},F(h(y)),3))),128)),v[17]||(v[17]=m("td",{class:"px-2 bg-inherit"},"Total Score",-1))])])])])]),le(cn,{show:!!a.value,title:`Enter points for ${l.value}`},{actions:At(()=>[m("button",{onClick:v[4]||(v[4]=y=>x(a.value,l.value)),class:"px-4 py-2 text-sm bg-orange-500 text-white rounded hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-700"}," Clear "),m("button",{onClick:p,class:"px-4 py-2 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700"}," Cancel "),m("button",{onClick:v[5]||(v[5]=y=>J(a.value,l.value)),class:"px-4 py-2 text-sm bg-green-500 text-white rounded hover:bg-green-600 dark:bg-green-600 dark:hover:bg-green-700"}," Save ")]),default:At(()=>{var y;return[m("div",I0,[m("div",j0," Player: "+F((y=a.value)==null?void 0:y.name),1),_r(m("input",{"onUpdate:modelValue":v[2]||(v[2]=S=>c.value=S),type:"text",inputmode:"numeric",class:"w-full border border-gray-300 px-3 py-2 rounded text-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100",ref_key:"scoreInputRef",ref:u,id:"modalScoreInput",onKeyup:v[3]||(v[3]=Pn(S=>J(a.value,l.value),["enter"])),autofocus:""},null,544),[[Cn,c.value,void 0,{number:!0}]])])]}),_:1},8,["show","title"]),le(cn,{show:fe.value,title:"Add New Player"},{actions:At(()=>[m("button",{onClick:Je,class:"px-4 py-2 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700"}," Cancel "),m("button",{onClick:et,class:"px-4 py-2 text-sm bg-green-500 text-white rounded hover:bg-green-600 dark:bg-green-600 dark:hover:bg-green-700"}," Add ")]),default:At(()=>[m("div",M0,[_r(m("input",{"onUpdate:modelValue":v[6]||(v[6]=y=>Z.value=y),type:"text",class:"w-full border border-gray-300 px-3 py-2 rounded text-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100",placeholder:"Enter player name",onKeyup:Pn(et,["enter"])},null,544),[[Cn,Z.value]])])]),_:1},8,["show"]),le(cn,{show:ee.value!==null,title:"Remove Player"},{actions:At(()=>[m("button",{onClick:Ct,class:"px-4 py-2 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700"}," Cancel "),m("button",{onClick:Et,class:"px-4 py-2 text-sm bg-red-500 text-white rounded hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700"}," Remove ")]),default:At(()=>{var y;return[m("div",L0,[xt(" Are you sure you want to remove "+F((y=ee.value)==null?void 0:y.name)+"? ",1),v[18]||(v[18]=m("br",null,null,-1)),v[19]||(v[19]=xt(" All scores will be lost. "))])]}),_:1},8,["show"]),Me.value!=null?(A(),Gs(s0,{key:0,show:Me.value!=null,player:Me.value,players:r.players,onClose:v[7]||(v[7]=y=>Me.value=null)},null,8,["show","player","players"])):ve("",!0)]))}}),N0={key:0},U0={key:1},F0={__name:"GameView",setup(t){er();const e=Y([]),s=Y(!1);lt(()=>{const o=localStorage.getItem("yatzyGameState");if(o){const a=JSON.parse(o);e.value=a.players,s.value=a.gameStarted}}),js([e,s],()=>{localStorage.setItem("yatzyGameState",JSON.stringify({players:e.value,gameStarted:s.value}))},{deep:!0});const r=o=>{e.value=o.map(a=>({name:a,scores:{},total:0})),s.value=!0},n=()=>{confirm("Are you sure you want to reset all scores? This cannot be undone.")&&(e.value=e.value.map(o=>({...o,scores:{},total:0})))},i=o=>{confirm(`Are you sure you want to remove ${o.name}? Their scores will be lost.`)&&e.value.findIndex(l=>l.name===o.name)!==-1&&(e.value=e.value.filter(l=>l.name!==o.name))};return(o,a)=>(A(),I("div",null,[s.value?(A(),I("div",U0,[le(D0,{players:e.value,onResetScores:n,onRemovePlayer:i},null,8,["players"])])):(A(),I("div",N0,[le(Ef,{onPlayersAdded:r})]))]))}},B0={class:"max-w-md mx-auto p-4"},H0={key:0,class:"space-y-4"},z0={class:"text-xl font-bold"},G0={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow"},K0={class:"text-2xl font-bold text-center mb-4"},q0={class:"mb-6 space-y-2"},V0={key:1,class:"text-gray-400"},W0={class:"flex justify-between items-center py-1 bg-gray-50 dark:bg-gray-700 px-2 rounded"},J0={class:"font-bold"},Q0={class:"space-y-2"},Y0={key:1,class:"text-gray-400"},X0={class:"text-sm text-gray-500 dark:text-gray-400 text-center"},Z0={key:1,class:"text-center text-gray-500 dark:text-gray-400"},em={key:2,class:"mt-6"},tm={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow space-y-2"},sm={class:"flex items-center gap-2"},rm={class:"text-lg"},nm={class:"flex items-center gap-2"},im={class:"font-bold"},om={key:0,class:"text-sm text-gray-500"},am=kt({__name:"ShareView",setup(t){const e={Ones:5,Twos:10,Threes:15,Fours:20,Fives:25,Sixes:30},s={"One Pair":12,"Two Pairs":22,"Three of a Kind":30,"Four of a Kind":30,"Full House":28,"Small Straight":15,"Large Straight":20,Yahtzee:50,Chance:30},r=Y(null);let n=null;const i=()=>r.value?Object.entries(e).reduce((a,[l])=>{var c;return a+(((c=r.value)==null?void 0:c.scores[l])||0)},0):0,o=Ie(()=>r.value?[{name:r.value.player_name,total:r.value.total},...r.value.other_players.map(l=>({name:l.name,total:l.total}))].sort((l,c)=>c.total-l.total):[]);return lt(async()=>{const a=new URLSearchParams(window.location.search).get("id");if(a){const{data:l,error:c}=await Qs.from("shared_scores").select("*").eq("id",a).single();if(c){console.error("Error fetching scores:",c);return}r.value=l,n=Qs.channel("shared_scores").on("postgres_changes",{event:"UPDATE",schema:"public",table:"shared_scores",filter:`id=eq.${a}`},u=>{r.value=u.new}).subscribe()}}),Zn(()=>{n==null||n.unsubscribe()}),(a,l)=>{var c;return A(),I("div",B0,[r.value?(A(),I("div",H0,[m("h2",z0,F(r.value.player_name)+"'s Score",1),m("div",G0,[m("div",K0,"Current Total: "+F(r.value.total),1),m("div",q0,[(A(),I(X,null,me(e,(u,d)=>m("div",{key:d,class:"flex justify-between items-center py-1 border-b dark:border-gray-700"},[m("span",null,F(d),1),r.value.scores[d]?(A(),I("span",{key:0,class:nt([{"text-green-600 dark:text-green-400":r.value.scores[d]===u},"font-bold"])},F(r.value.scores[d]),3)):(A(),I("span",V0,"-"))])),64)),m("div",W0,[l[0]||(l[0]=m("div",null,[m("span",null,"Bonus"),m("span",{class:"text-xs text-gray-500 ml-2"},"(if sum ≥ 63)")],-1)),m("div",J0,F(i()>=63?"+50":`${i()}/63`),1)])]),m("div",Q0,[(A(),I(X,null,me(s,(u,d)=>m("div",{key:d,class:"flex justify-between items-center py-1 border-b dark:border-gray-700"},[m("span",null,F(d),1),r.value.scores[d]?(A(),I("span",{key:0,class:nt([{"text-green-600 dark:text-green-400":r.value.scores[d]===u},"font-bold"])},F(r.value.scores[d]),3)):(A(),I("span",Y0,"-"))])),64))])]),m("div",X0," Last updated: "+F(new Date(r.value.updated_at).toLocaleString()),1)])):(A(),I("div",Z0,"Loading scores...")),r.value&&((c=r.value.other_players)!=null&&c.length)?(A(),I("div",em,[l[1]||(l[1]=m("h3",{class:"text-lg font-bold mb-2"},"Current Standings",-1)),m("div",tm,[(A(!0),I(X,null,me(o.value,(u,d)=>(A(),I("div",{key:u.name,class:nt(["flex items-center justify-between p-2 rounded",{"bg-yellow-50 dark:bg-yellow-900/50":d===0,"bg-gray-50 dark:bg-gray-700":d!==0}])},[m("div",sm,[m("span",rm,F(["🥇","🥈","🥉"][d]||d+1),1),m("span",{class:nt({"font-bold":u.name===r.value.player_name})},F(u.name),3)]),m("div",nm,[m("span",im,F(u.total),1),d>0?(A(),I("span",om," (-"+F(o.value[0].total-u.total)+") ",1)):ve("",!0)])],2))),128))])])):ve("",!0)])}}}),lm=sh({history:Rd("/jatsapp"),routes:[{path:"/",name:"home",component:gf},{path:"/game",name:"game",component:F0},{path:"/share",name:"share",component:am}]}),vl=Nu(td);vl.use(lm);vl.mount("#app");export{cm as g};
