(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Kn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const le={},ls=[],ft=()=>{},jl=()=>!1,Tr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),qn=t=>t.startsWith("onUpdate:"),Se=Object.assign,Vn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Ml=Object.prototype.hasOwnProperty,ne=(t,e)=>Ml.call(t,e),G=Array.isArray,cs=t=>Ys(t)==="[object Map]",$r=t=>Ys(t)==="[object Set]",Si=t=>Ys(t)==="[object Date]",q=t=>typeof t=="function",be=t=>typeof t=="string",ot=t=>typeof t=="symbol",he=t=>t!==null&&typeof t=="object",zo=t=>(he(t)||q(t))&&q(t.then)&&q(t.catch),Go=Object.prototype.toString,Ys=t=>Go.call(t),Ll=t=>Ys(t).slice(8,-1),Ko=t=>Ys(t)==="[object Object]",Wn=t=>be(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,As=Kn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Or=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Dl=/-(\w)/g,Xe=Or(t=>t.replace(Dl,(e,s)=>s?s.toUpperCase():"")),Nl=/\B([A-Z])/g,Ut=Or(t=>t.replace(Nl,"-$1").toLowerCase()),Ar=Or(t=>t.charAt(0).toUpperCase()+t.slice(1)),Yr=Or(t=>t?`on${Ar(t)}`:""),Dt=(t,e)=>!Object.is(t,e),hr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},qo=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},vr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ei;const Rr=()=>Ei||(Ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jn(t){if(G(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=be(r)?Hl(r):Jn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(be(t)||he(t))return t}const Ul=/;(?![^(]*\))/g,Fl=/:([^]+)/,Bl=/\/\*[^]*?\*\//g;function Hl(t){const e={};return t.replace(Bl,"").split(Ul).forEach(s=>{if(s){const r=s.split(Fl);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function St(t){let e="";if(be(t))e=t;else if(G(t))for(let s=0;s<t.length;s++){const r=St(t[s]);r&&(e+=r+" ")}else if(he(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const zl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gl=Kn(zl);function Vo(t){return!!t||t===""}function Kl(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=Ir(t[r],e[r]);return s}function Ir(t,e){if(t===e)return!0;let s=Si(t),r=Si(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=ot(t),r=ot(e),s||r)return t===e;if(s=G(t),r=G(e),s||r)return s&&r?Kl(t,e):!1;if(s=he(t),r=he(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ir(t[o],e[o]))return!1}}return String(t)===String(e)}function ql(t,e){return t.findIndex(s=>Ir(s,e))}const Wo=t=>!!(t&&t.__v_isRef===!0),U=t=>be(t)?t:t==null?"":G(t)||he(t)&&(t.toString===Go||!q(t.toString))?Wo(t)?U(t.value):JSON.stringify(t,Jo,2):String(t),Jo=(t,e)=>Wo(e)?Jo(t,e.value):cs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Xr(r,i)+" =>"]=n,s),{})}:$r(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Xr(s))}:ot(e)?Xr(e):he(e)&&!G(e)&&!Ko(e)?String(e):e,Xr=(t,e="")=>{var s;return ot(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Je;class Vl{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Je,!e&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Je;try{return Je=this,e()}finally{Je=s}}}on(){Je=this}off(){Je=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Wl(){return Je}let de;const Zr=new WeakSet;class Qo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Je&&Je.active&&Je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Zr.has(this)&&(Zr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ci(this),Zo(this);const e=de,s=it;de=this,it=!0;try{return this.fn()}finally{ea(this),de=e,it=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Xn(e);this.deps=this.depsTail=void 0,Ci(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Zr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bn(this)&&this.run()}get dirty(){return bn(this)}}let Yo=0,Rs,Is;function Xo(t,e=!1){if(t.flags|=8,e){t.next=Is,Is=t;return}t.next=Rs,Rs=t}function Qn(){Yo++}function Yn(){if(--Yo>0)return;if(Is){let e=Is;for(Is=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Rs;){let e=Rs;for(Rs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Zo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ea(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Xn(r),Jl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function bn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ta(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ta(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Bs))return;t.globalVersion=Bs;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!bn(t)){t.flags&=-3;return}const s=de,r=it;de=t,it=!0;try{Zo(t);const n=t.fn(t._value);(e.version===0||Dt(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{de=s,it=r,ea(t),t.flags&=-3}}function Xn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Xn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Jl(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let it=!0;const sa=[];function Ft(){sa.push(it),it=!1}function Bt(){const t=sa.pop();it=t===void 0?!0:t}function Ci(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=de;de=void 0;try{e()}finally{de=s}}}let Bs=0;class Ql{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Zn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!de||!it||de===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==de)s=this.activeLink=new Ql(de,this),de.deps?(s.prevDep=de.depsTail,de.depsTail.nextDep=s,de.depsTail=s):de.deps=de.depsTail=s,ra(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=de.depsTail,s.nextDep=void 0,de.depsTail.nextDep=s,de.depsTail=s,de.deps===s&&(de.deps=r)}return s}trigger(e){this.version++,Bs++,this.notify(e)}notify(e){Qn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Yn()}}}function ra(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)ra(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const wn=new WeakMap,Jt=Symbol(""),xn=Symbol(""),Hs=Symbol("");function $e(t,e,s){if(it&&de){let r=wn.get(t);r||wn.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Zn),n.map=r,n.key=s),n.track()}}function bt(t,e,s,r,n,i){const o=wn.get(t);if(!o){Bs++;return}const a=l=>{l&&l.trigger()};if(Qn(),e==="clear")o.forEach(a);else{const l=G(t),u=l&&Wn(s);if(l&&s==="length"){const c=Number(r);o.forEach((d,h)=>{(h==="length"||h===Hs||!ot(h)&&h>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Hs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Jt)),cs(t)&&a(o.get(xn)));break;case"delete":l||(a(o.get(Jt)),cs(t)&&a(o.get(xn)));break;case"set":cs(t)&&a(o.get(Jt));break}}Yn()}function ts(t){const e=re(t);return e===t?e:($e(e,"iterate",Hs),Ye(t)?e:e.map(Oe))}function jr(t){return $e(t=re(t),"iterate",Hs),t}const Yl={__proto__:null,[Symbol.iterator](){return en(this,Symbol.iterator,Oe)},concat(...t){return ts(this).concat(...t.map(e=>G(e)?ts(e):e))},entries(){return en(this,"entries",t=>(t[1]=Oe(t[1]),t))},every(t,e){return vt(this,"every",t,e,void 0,arguments)},filter(t,e){return vt(this,"filter",t,e,s=>s.map(Oe),arguments)},find(t,e){return vt(this,"find",t,e,Oe,arguments)},findIndex(t,e){return vt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return vt(this,"findLast",t,e,Oe,arguments)},findLastIndex(t,e){return vt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return vt(this,"forEach",t,e,void 0,arguments)},includes(...t){return tn(this,"includes",t)},indexOf(...t){return tn(this,"indexOf",t)},join(t){return ts(this).join(t)},lastIndexOf(...t){return tn(this,"lastIndexOf",t)},map(t,e){return vt(this,"map",t,e,void 0,arguments)},pop(){return Ss(this,"pop")},push(...t){return Ss(this,"push",t)},reduce(t,...e){return Pi(this,"reduce",t,e)},reduceRight(t,...e){return Pi(this,"reduceRight",t,e)},shift(){return Ss(this,"shift")},some(t,e){return vt(this,"some",t,e,void 0,arguments)},splice(...t){return Ss(this,"splice",t)},toReversed(){return ts(this).toReversed()},toSorted(t){return ts(this).toSorted(t)},toSpliced(...t){return ts(this).toSpliced(...t)},unshift(...t){return Ss(this,"unshift",t)},values(){return en(this,"values",Oe)}};function en(t,e,s){const r=jr(t),n=r[e]();return r!==t&&!Ye(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Xl=Array.prototype;function vt(t,e,s,r,n,i){const o=jr(t),a=o!==t&&!Ye(t),l=o[e];if(l!==Xl[e]){const d=l.apply(t,i);return a?Oe(d):d}let u=s;o!==t&&(a?u=function(d,h){return s.call(this,Oe(d),h,t)}:s.length>2&&(u=function(d,h){return s.call(this,d,h,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Pi(t,e,s,r){const n=jr(t);let i=s;return n!==t&&(Ye(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Oe(a),l,t)}),n[e](i,...r)}function tn(t,e,s){const r=re(t);$e(r,"iterate",Hs);const n=r[e](...s);return(n===-1||n===!1)&&si(s[0])?(s[0]=re(s[0]),r[e](...s)):n}function Ss(t,e,s=[]){Ft(),Qn();const r=re(t)[e].apply(t,s);return Yn(),Bt(),r}const Zl=Kn("__proto__,__v_isRef,__isVue"),na=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ot));function ec(t){ot(t)||(t=String(t));const e=re(this);return $e(e,"has",t),e.hasOwnProperty(t)}class ia{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?uc:ca:i?la:aa).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=G(e);if(!n){let l;if(o&&(l=Yl[s]))return l;if(s==="hasOwnProperty")return ec}const a=Reflect.get(e,s,Ie(e)?e:r);return(ot(s)?na.has(s):Zl(s))||(n||$e(e,"get",s),i)?a:Ie(a)?o&&Wn(s)?a:a.value:he(a)?n?da(a):Mr(a):a}}class oa extends ia{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Qt(i);if(!Ye(r)&&!Qt(r)&&(i=re(i),r=re(r)),!G(e)&&Ie(i)&&!Ie(r))return l?!1:(i.value=r,!0)}const o=G(e)&&Wn(s)?Number(s)<e.length:ne(e,s),a=Reflect.set(e,s,r,Ie(e)?e:n);return e===re(n)&&(o?Dt(r,i)&&bt(e,"set",s,r):bt(e,"add",s,r)),a}deleteProperty(e,s){const r=ne(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&bt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!ot(s)||!na.has(s))&&$e(e,"has",s),r}ownKeys(e){return $e(e,"iterate",G(e)?"length":Jt),Reflect.ownKeys(e)}}class tc extends ia{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const sc=new oa,rc=new tc,nc=new oa(!0);const kn=t=>t,rr=t=>Reflect.getPrototypeOf(t);function ic(t,e,s){return function(...r){const n=this.__v_raw,i=re(n),o=cs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?kn:e?Sn:Oe;return!e&&$e(i,"iterate",l?xn:Jt),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function nr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function oc(t,e){const s={get(n){const i=this.__v_raw,o=re(i),a=re(n);t||(Dt(n,a)&&$e(o,"get",n),$e(o,"get",a));const{has:l}=rr(o),u=e?kn:t?Sn:Oe;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&$e(re(n),"iterate",Jt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=re(i),a=re(n);return t||(Dt(n,a)&&$e(o,"has",n),$e(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=re(a),u=e?kn:t?Sn:Oe;return!t&&$e(l,"iterate",Jt),a.forEach((c,d)=>n.call(i,u(c),u(d),o))}};return Se(s,t?{add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear")}:{add(n){!e&&!Ye(n)&&!Qt(n)&&(n=re(n));const i=re(this);return rr(i).has.call(i,n)||(i.add(n),bt(i,"add",n,n)),this},set(n,i){!e&&!Ye(i)&&!Qt(i)&&(i=re(i));const o=re(this),{has:a,get:l}=rr(o);let u=a.call(o,n);u||(n=re(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Dt(i,c)&&bt(o,"set",n,i):bt(o,"add",n,i),this},delete(n){const i=re(this),{has:o,get:a}=rr(i);let l=o.call(i,n);l||(n=re(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&bt(i,"delete",n,void 0),u},clear(){const n=re(this),i=n.size!==0,o=n.clear();return i&&bt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=ic(n,t,e)}),s}function ei(t,e){const s=oc(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(ne(s,n)&&n in r?s:r,n,i)}const ac={get:ei(!1,!1)},lc={get:ei(!1,!0)},cc={get:ei(!0,!1)};const aa=new WeakMap,la=new WeakMap,ca=new WeakMap,uc=new WeakMap;function dc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hc(t){return t.__v_skip||!Object.isExtensible(t)?0:dc(Ll(t))}function Mr(t){return Qt(t)?t:ti(t,!1,sc,ac,aa)}function ua(t){return ti(t,!1,nc,lc,la)}function da(t){return ti(t,!0,rc,cc,ca)}function ti(t,e,s,r,n){if(!he(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=hc(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function us(t){return Qt(t)?us(t.__v_raw):!!(t&&t.__v_isReactive)}function Qt(t){return!!(t&&t.__v_isReadonly)}function Ye(t){return!!(t&&t.__v_isShallow)}function si(t){return t?!!t.__v_raw:!1}function re(t){const e=t&&t.__v_raw;return e?re(e):t}function fc(t){return!ne(t,"__v_skip")&&Object.isExtensible(t)&&qo(t,"__v_skip",!0),t}const Oe=t=>he(t)?Mr(t):t,Sn=t=>he(t)?da(t):t;function Ie(t){return t?t.__v_isRef===!0:!1}function W(t){return ha(t,!1)}function pc(t){return ha(t,!0)}function ha(t,e){return Ie(t)?t:new gc(t,e)}class gc{constructor(e,s){this.dep=new Zn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:re(e),this._value=s?e:Oe(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Ye(e)||Qt(e);e=r?e:re(e),Dt(e,s)&&(this._rawValue=e,this._value=r?e:Oe(e),this.dep.trigger())}}function ke(t){return Ie(t)?t.value:t}const mc={get:(t,e,s)=>e==="__v_raw"?t:ke(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return Ie(n)&&!Ie(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function fa(t){return us(t)?t:new Proxy(t,mc)}class vc{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Zn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&de!==this)return Xo(this,!0),!0}get value(){const e=this.dep.track();return ta(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function yc(t,e,s=!1){let r,n;return q(t)?r=t:(r=t.get,n=t.set),new vc(r,n,s)}const ir={},yr=new WeakMap;let Kt;function _c(t,e=!1,s=Kt){if(s){let r=yr.get(s);r||yr.set(s,r=[]),r.push(t)}}function bc(t,e,s=le){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=k=>n?k:Ye(k)||n===!1||n===0?wt(k,1):wt(k);let c,d,h,f,w=!1,x=!1;if(Ie(t)?(d=()=>t.value,w=Ye(t)):us(t)?(d=()=>u(t),w=!0):G(t)?(x=!0,w=t.some(k=>us(k)||Ye(k)),d=()=>t.map(k=>{if(Ie(k))return k.value;if(us(k))return u(k);if(q(k))return l?l(k,2):k()})):q(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){Ft();try{h()}finally{Bt()}}const k=Kt;Kt=c;try{return l?l(t,3,[f]):t(f)}finally{Kt=k}}:d=ft,e&&n){const k=d,D=n===!0?1/0:n;d=()=>wt(k(),D)}const C=Wl(),A=()=>{c.stop(),C&&C.active&&Vn(C.effects,c)};if(i&&e){const k=e;e=(...D)=>{k(...D),A()}}let j=x?new Array(t.length).fill(ir):ir;const E=k=>{if(!(!(c.flags&1)||!c.dirty&&!k))if(e){const D=c.run();if(n||w||(x?D.some((J,V)=>Dt(J,j[V])):Dt(D,j))){h&&h();const J=Kt;Kt=c;try{const V=[D,j===ir?void 0:x&&j[0]===ir?[]:j,f];l?l(e,3,V):e(...V),j=D}finally{Kt=J}}}else c.run()};return a&&a(E),c=new Qo(d),c.scheduler=o?()=>o(E,!1):E,f=k=>_c(k,!1,c),h=c.onStop=()=>{const k=yr.get(c);if(k){if(l)l(k,4);else for(const D of k)D();yr.delete(c)}},e?r?E(!0):j=c.run():o?o(E.bind(null,!0),!0):c.run(),A.pause=c.pause.bind(c),A.resume=c.resume.bind(c),A.stop=A,A}function wt(t,e=1/0,s){if(e<=0||!he(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Ie(t))wt(t.value,e,s);else if(G(t))for(let r=0;r<t.length;r++)wt(t[r],e,s);else if($r(t)||cs(t))t.forEach(r=>{wt(r,e,s)});else if(Ko(t)){for(const r in t)wt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&wt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xs(t,e,s,r){try{return r?t(...r):t()}catch(n){Lr(n,e,s)}}function gt(t,e,s,r){if(q(t)){const n=Xs(t,e,s,r);return n&&zo(n)&&n.catch(i=>{Lr(i,e,s)}),n}if(G(t)){const n=[];for(let i=0;i<t.length;i++)n.push(gt(t[i],e,s,r));return n}}function Lr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||le;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){Ft(),Xs(i,null,10,[t,l,u]),Bt();return}}wc(t,s,n,r,o)}function wc(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Me=[];let ut=-1;const ds=[];let At=null,is=0;const pa=Promise.resolve();let _r=null;function Dr(t){const e=_r||pa;return t?e.then(this?t.bind(this):t):e}function xc(t){let e=ut+1,s=Me.length;for(;e<s;){const r=e+s>>>1,n=Me[r],i=zs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function ri(t){if(!(t.flags&1)){const e=zs(t),s=Me[Me.length-1];!s||!(t.flags&2)&&e>=zs(s)?Me.push(t):Me.splice(xc(e),0,t),t.flags|=1,ga()}}function ga(){_r||(_r=pa.then(va))}function kc(t){G(t)?ds.push(...t):At&&t.id===-1?At.splice(is+1,0,t):t.flags&1||(ds.push(t),t.flags|=1),ga()}function Ti(t,e,s=ut+1){for(;s<Me.length;s++){const r=Me[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Me.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ma(t){if(ds.length){const e=[...new Set(ds)].sort((s,r)=>zs(s)-zs(r));if(ds.length=0,At){At.push(...e);return}for(At=e,is=0;is<At.length;is++){const s=At[is];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}At=null,is=0}}const zs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function va(t){try{for(ut=0;ut<Me.length;ut++){const e=Me[ut];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Xs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ut<Me.length;ut++){const e=Me[ut];e&&(e.flags&=-2)}ut=-1,Me.length=0,ma(),_r=null,(Me.length||ds.length)&&va()}}let Ce=null,ya=null;function br(t){const e=Ce;return Ce=t,ya=t&&t.type.__scopeId||null,e}function Rt(t,e=Ce,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Ui(-1);const i=br(e);let o;try{o=t(...n)}finally{br(i),r._d&&Ui(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function wr(t,e){if(Ce===null)return t;const s=Br(Ce),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=le]=e[n];i&&(q(i)&&(i={mounted:i,updated:i}),i.deep&&wt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ht(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Ft(),gt(l,s,8,[t.el,a,t,e]),Bt())}}const Sc=Symbol("_vte"),Ec=t=>t.__isTeleport;function ni(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ni(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function mt(t,e){return q(t)?Se({name:t.name},e,{setup:t}):t}function _a(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function xr(t,e,s,r,n=!1){if(G(t)){t.forEach((w,x)=>xr(w,e&&(G(e)?e[x]:e),s,r,n));return}if(hs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&xr(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Br(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===le?a.refs={}:a.refs,d=a.setupState,h=re(d),f=d===le?()=>!1:w=>ne(h,w);if(u!=null&&u!==l&&(be(u)?(c[u]=null,f(u)&&(d[u]=null)):Ie(u)&&(u.value=null)),q(l))Xs(l,a,12,[o,c]);else{const w=be(l),x=Ie(l);if(w||x){const C=()=>{if(t.f){const A=w?f(l)?d[l]:c[l]:l.value;n?G(A)&&Vn(A,i):G(A)?A.includes(i)||A.push(i):w?(c[l]=[i],f(l)&&(d[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else w?(c[l]=o,f(l)&&(d[l]=o)):x&&(l.value=o,t.k&&(c[t.k]=o))};o?(C.id=-1,Ve(C,s)):C()}}}Rr().requestIdleCallback;Rr().cancelIdleCallback;const hs=t=>!!t.type.__asyncLoader,ba=t=>t.type.__isKeepAlive;function Cc(t,e){wa(t,"a",e)}function Pc(t,e){wa(t,"da",e)}function wa(t,e,s=Ae){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Nr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)ba(n.parent.vnode)&&Tc(r,e,s,n),n=n.parent}}function Tc(t,e,s,r){const n=Nr(e,t,r,!0);oi(()=>{Vn(r[e],n)},s)}function Nr(t,e,s=Ae,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ft();const a=Zs(s),l=gt(e,s,t,o);return a(),Bt(),l});return r?n.unshift(i):n.push(i),i}}const Et=t=>(e,s=Ae)=>{(!Vs||t==="sp")&&Nr(t,(...r)=>e(...r),s)},$c=Et("bm"),et=Et("m"),Oc=Et("bu"),ii=Et("u"),Ac=Et("bum"),oi=Et("um"),Rc=Et("sp"),Ic=Et("rtg"),jc=Et("rtc");function Mc(t,e=Ae){Nr("ec",t,e)}const Lc="components";function $i(t,e){return Nc(Lc,t,!0,e)||t}const Dc=Symbol.for("v-ndc");function Nc(t,e,s=!0,r=!1){const n=Ce||Ae;if(n){const i=n.type;{const a=Eu(i,!1);if(a&&(a===e||a===Xe(e)||a===Ar(Xe(e))))return i}const o=Oi(n[t]||i[t],e)||Oi(n.appContext[t],e);return!o&&r?i:o}}function Oi(t,e){return t&&(t[e]||t[Xe(e)]||t[Ar(Xe(e))])}function fe(t,e,s,r){let n;const i=s,o=G(t);if(o||be(t)){const a=o&&us(t);let l=!1;a&&(l=!Ye(t),t=jr(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?Oe(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(he(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}function Ai(t,e,s={},r,n){if(Ce.ce||Ce.parent&&hs(Ce.parent)&&Ce.parent.ce)return e!=="default"&&(s.name=e),$(),Ks(Y,null,[ae("slot",s,r)],64);let i=t[e];i&&i._c&&(i._d=!1),$();const o=i&&xa(i(s)),a=s.key||o&&o.key,l=Ks(Y,{key:(a&&!ot(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||[],o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function xa(t){return t.some(e=>qs(e)?!(e.type===Nt||e.type===Y&&!xa(e.children)):!0)?t:null}const En=t=>t?Ba(t)?Br(t):En(t.parent):null,js=Se(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>En(t.parent),$root:t=>En(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ai(t),$forceUpdate:t=>t.f||(t.f=()=>{ri(t.update)}),$nextTick:t=>t.n||(t.n=Dr.bind(t.proxy)),$watch:t=>ou.bind(t)}),sn=(t,e)=>t!==le&&!t.__isScriptSetup&&ne(t,e),Uc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(sn(r,e))return o[e]=1,r[e];if(n!==le&&ne(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&ne(u,e))return o[e]=3,i[e];if(s!==le&&ne(s,e))return o[e]=4,s[e];Cn&&(o[e]=0)}}const c=js[e];let d,h;if(c)return e==="$attrs"&&$e(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==le&&ne(s,e))return o[e]=4,s[e];if(h=l.config.globalProperties,ne(h,e))return h[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return sn(n,e)?(n[e]=s,!0):r!==le&&ne(r,e)?(r[e]=s,!0):ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==le&&ne(t,o)||sn(e,o)||(a=i[0])&&ne(a,o)||ne(r,o)||ne(js,o)||ne(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ne(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ri(t){return G(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Cn=!0;function Fc(t){const e=ai(t),s=t.proxy,r=t.ctx;Cn=!1,e.beforeCreate&&Ii(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:w,activated:x,deactivated:C,beforeDestroy:A,beforeUnmount:j,destroyed:E,unmounted:k,render:D,renderTracked:J,renderTriggered:V,errorCaptured:ge,serverPrefetch:ve,expose:we,inheritAttrs:Ee,components:_e,directives:ye,filters:tt}=e;if(u&&Bc(u,r,null),o)for(const se in o){const X=o[se];q(X)&&(r[se]=X.bind(s))}if(n){const se=n.call(s,s);he(se)&&(t.data=Mr(se))}if(Cn=!0,i)for(const se in i){const X=i[se],Le=q(X)?X.bind(s,s):q(X.get)?X.get.bind(s,s):ft,De=!q(X)&&q(X.set)?X.set.bind(s):ft,ze=Re({get:Le,set:De});Object.defineProperty(r,se,{enumerable:!0,configurable:!0,get:()=>ze.value,set:Pe=>ze.value=Pe})}if(a)for(const se in a)ka(a[se],r,s,se);if(l){const se=q(l)?l.call(s):l;Reflect.ownKeys(se).forEach(X=>{fr(X,se[X])})}c&&Ii(c,t,"c");function me(se,X){G(X)?X.forEach(Le=>se(Le.bind(s))):X&&se(X.bind(s))}if(me($c,d),me(et,h),me(Oc,f),me(ii,w),me(Cc,x),me(Pc,C),me(Mc,ge),me(jc,J),me(Ic,V),me(Ac,j),me(oi,k),me(Rc,ve),G(we))if(we.length){const se=t.exposed||(t.exposed={});we.forEach(X=>{Object.defineProperty(se,X,{get:()=>s[X],set:Le=>s[X]=Le})})}else t.exposed||(t.exposed={});D&&t.render===ft&&(t.render=D),Ee!=null&&(t.inheritAttrs=Ee),_e&&(t.components=_e),ye&&(t.directives=ye),ve&&_a(t)}function Bc(t,e,s=ft){G(t)&&(t=Pn(t));for(const r in t){const n=t[r];let i;he(n)?"default"in n?i=pt(n.from||r,n.default,!0):i=pt(n.from||r):i=pt(n),Ie(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ii(t,e,s){gt(G(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function ka(t,e,s,r){let n=r.includes(".")?La(s,r):()=>s[r];if(be(t)){const i=e[t];q(i)&&Ms(n,i)}else if(q(t))Ms(n,t.bind(s));else if(he(t))if(G(t))t.forEach(i=>ka(i,e,s,r));else{const i=q(t.handler)?t.handler.bind(s):e[t.handler];q(i)&&Ms(n,i,t)}}function ai(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>kr(l,u,o,!0)),kr(l,e,o)),he(e)&&i.set(e,l),l}function kr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&kr(t,i,s,!0),n&&n.forEach(o=>kr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Hc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Hc={data:ji,props:Mi,emits:Mi,methods:$s,computed:$s,beforeCreate:je,created:je,beforeMount:je,mounted:je,beforeUpdate:je,updated:je,beforeDestroy:je,beforeUnmount:je,destroyed:je,unmounted:je,activated:je,deactivated:je,errorCaptured:je,serverPrefetch:je,components:$s,directives:$s,watch:Gc,provide:ji,inject:zc};function ji(t,e){return e?t?function(){return Se(q(t)?t.call(this,this):t,q(e)?e.call(this,this):e)}:e:t}function zc(t,e){return $s(Pn(t),Pn(e))}function Pn(t){if(G(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function je(t,e){return t?[...new Set([].concat(t,e))]:e}function $s(t,e){return t?Se(Object.create(null),t,e):e}function Mi(t,e){return t?G(t)&&G(e)?[...new Set([...t,...e])]:Se(Object.create(null),Ri(t),Ri(e??{})):e}function Gc(t,e){if(!t)return e;if(!e)return t;const s=Se(Object.create(null),t);for(const r in e)s[r]=je(t[r],e[r]);return s}function Sa(){return{app:null,config:{isNativeTag:jl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kc=0;function qc(t,e){return function(r,n=null){q(r)||(r=Se({},r)),n!=null&&!he(n)&&(n=null);const i=Sa(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Kc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Pu,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&q(c.install)?(o.add(c),c.install(u,...d)):q(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,h){if(!l){const f=u._ceVNode||ae(r,n);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),d&&e?e(f,c):t(f,c,h),l=!0,u._container=c,c.__vue_app__=u,Br(f.component)}},onUnmount(c){a.push(c)},unmount(){l&&(gt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=fs;fs=u;try{return c()}finally{fs=d}}};return u}}let fs=null;function fr(t,e){if(Ae){let s=Ae.provides;const r=Ae.parent&&Ae.parent.provides;r===s&&(s=Ae.provides=Object.create(r)),s[t]=e}}function pt(t,e,s=!1){const r=Ae||Ce;if(r||fs){const n=fs?fs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&q(e)?e.call(r&&r.proxy):e}}const Ea={},Ca=()=>Object.create(Ea),Pa=t=>Object.getPrototypeOf(t)===Ea;function Vc(t,e,s,r=!1){const n={},i=Ca();t.propsDefaults=Object.create(null),Ta(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:ua(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Wc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=re(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Ur(t.emitsOptions,h))continue;const f=e[h];if(l)if(ne(i,h))f!==i[h]&&(i[h]=f,u=!0);else{const w=Xe(h);n[w]=Tn(l,a,w,f,t,!1)}else f!==i[h]&&(i[h]=f,u=!0)}}}else{Ta(t,e,n,i)&&(u=!0);let c;for(const d in a)(!e||!ne(e,d)&&((c=Ut(d))===d||!ne(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(n[d]=Tn(l,a,d,void 0,t,!0)):delete n[d]);if(i!==a)for(const d in i)(!e||!ne(e,d))&&(delete i[d],u=!0)}u&&bt(t.attrs,"set","")}function Ta(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(As(l))continue;const u=e[l];let c;n&&ne(n,c=Xe(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Ur(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=re(s),u=a||le;for(let c=0;c<i.length;c++){const d=i[c];s[d]=Tn(n,l,d,u[d],t,!ne(u,d))}}return o}function Tn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=ne(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&q(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Zs(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ut(s))&&(r=!0))}return r}const Jc=new WeakMap;function $a(t,e,s=!1){const r=s?Jc:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!q(t)){const c=d=>{l=!0;const[h,f]=$a(d,e,!0);Se(o,h),f&&a.push(...f)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return he(t)&&r.set(t,ls),ls;if(G(i))for(let c=0;c<i.length;c++){const d=Xe(i[c]);Li(d)&&(o[d]=le)}else if(i)for(const c in i){const d=Xe(c);if(Li(d)){const h=i[c],f=o[d]=G(h)||q(h)?{type:h}:Se({},h),w=f.type;let x=!1,C=!0;if(G(w))for(let A=0;A<w.length;++A){const j=w[A],E=q(j)&&j.name;if(E==="Boolean"){x=!0;break}else E==="String"&&(C=!1)}else x=q(w)&&w.name==="Boolean";f[0]=x,f[1]=C,(x||ne(f,"default"))&&a.push(d)}}const u=[o,a];return he(t)&&r.set(t,u),u}function Li(t){return t[0]!=="$"&&!As(t)}const Oa=t=>t[0]==="_"||t==="$stable",li=t=>G(t)?t.map(dt):[dt(t)],Qc=(t,e,s)=>{if(e._n)return e;const r=Rt((...n)=>li(e(...n)),s);return r._c=!1,r},Aa=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Oa(n))continue;const i=t[n];if(q(i))e[n]=Qc(n,i,r);else if(i!=null){const o=li(i);e[n]=()=>o}}},Ra=(t,e)=>{const s=li(e);t.slots.default=()=>s},Ia=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},Yc=(t,e,s)=>{const r=t.slots=Ca();if(t.vnode.shapeFlag&32){const n=e._;n?(Ia(r,e,s),s&&qo(r,"_",n,!0)):Aa(e,r)}else e&&Ra(t,e)},Xc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=le;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Ia(n,e,s):(i=!e.$stable,Aa(e,n)),o=e}else e&&(Ra(t,e),o={default:1});if(i)for(const a in n)!Oa(a)&&o[a]==null&&delete n[a]},Ve=fu;function Zc(t){return eu(t)}function eu(t,e){const s=Rr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=ft,insertStaticContent:w}=t,x=(p,m,b,P=null,S=null,O=null,N=void 0,L=null,M=!!m.dynamicChildren)=>{if(p===m)return;p&&!Es(p,m)&&(P=v(p),Pe(p,S,O,!0),p=null),m.patchFlag===-2&&(M=!1,m.dynamicChildren=null);const{type:R,ref:z,shapeFlag:F}=m;switch(R){case Fr:C(p,m,b,P);break;case Nt:A(p,m,b,P);break;case pr:p==null&&j(m,b,P,N);break;case Y:_e(p,m,b,P,S,O,N,L,M);break;default:F&1?D(p,m,b,P,S,O,N,L,M):F&6?ye(p,m,b,P,S,O,N,L,M):(F&64||F&128)&&R.process(p,m,b,P,S,O,N,L,M,T)}z!=null&&S&&xr(z,p&&p.ref,O,m||p,!m)},C=(p,m,b,P)=>{if(p==null)r(m.el=a(m.children),b,P);else{const S=m.el=p.el;m.children!==p.children&&u(S,m.children)}},A=(p,m,b,P)=>{p==null?r(m.el=l(m.children||""),b,P):m.el=p.el},j=(p,m,b,P)=>{[p.el,p.anchor]=w(p.children,m,b,P,p.el,p.anchor)},E=({el:p,anchor:m},b,P)=>{let S;for(;p&&p!==m;)S=h(p),r(p,b,P),p=S;r(m,b,P)},k=({el:p,anchor:m})=>{let b;for(;p&&p!==m;)b=h(p),n(p),p=b;n(m)},D=(p,m,b,P,S,O,N,L,M)=>{m.type==="svg"?N="svg":m.type==="math"&&(N="mathml"),p==null?J(m,b,P,S,O,N,L,M):ve(p,m,S,O,N,L,M)},J=(p,m,b,P,S,O,N,L)=>{let M,R;const{props:z,shapeFlag:F,transition:B,dirs:K}=p;if(M=p.el=o(p.type,O,z&&z.is,z),F&8?c(M,p.children):F&16&&ge(p.children,M,null,P,S,rn(p,O),N,L),K&&Ht(p,null,P,"created"),V(M,p,p.scopeId,N,P),z){for(const ce in z)ce!=="value"&&!As(ce)&&i(M,ce,null,z[ce],O,P);"value"in z&&i(M,"value",null,z.value,O),(R=z.onVnodeBeforeMount)&&ct(R,P,p)}K&&Ht(p,null,P,"beforeMount");const te=tu(S,B);te&&B.beforeEnter(M),r(M,m,b),((R=z&&z.onVnodeMounted)||te||K)&&Ve(()=>{R&&ct(R,P,p),te&&B.enter(M),K&&Ht(p,null,P,"mounted")},S)},V=(p,m,b,P,S)=>{if(b&&f(p,b),P)for(let O=0;O<P.length;O++)f(p,P[O]);if(S){let O=S.subTree;if(m===O||Na(O.type)&&(O.ssContent===m||O.ssFallback===m)){const N=S.vnode;V(p,N,N.scopeId,N.slotScopeIds,S.parent)}}},ge=(p,m,b,P,S,O,N,L,M=0)=>{for(let R=M;R<p.length;R++){const z=p[R]=L?It(p[R]):dt(p[R]);x(null,z,m,b,P,S,O,N,L)}},ve=(p,m,b,P,S,O,N)=>{const L=m.el=p.el;let{patchFlag:M,dynamicChildren:R,dirs:z}=m;M|=p.patchFlag&16;const F=p.props||le,B=m.props||le;let K;if(b&&zt(b,!1),(K=B.onVnodeBeforeUpdate)&&ct(K,b,m,p),z&&Ht(m,p,b,"beforeUpdate"),b&&zt(b,!0),(F.innerHTML&&B.innerHTML==null||F.textContent&&B.textContent==null)&&c(L,""),R?we(p.dynamicChildren,R,L,b,P,rn(m,S),O):N||X(p,m,L,null,b,P,rn(m,S),O,!1),M>0){if(M&16)Ee(L,F,B,b,S);else if(M&2&&F.class!==B.class&&i(L,"class",null,B.class,S),M&4&&i(L,"style",F.style,B.style,S),M&8){const te=m.dynamicProps;for(let ce=0;ce<te.length;ce++){const ie=te[ce],Ge=F[ie],Te=B[ie];(Te!==Ge||ie==="value")&&i(L,ie,Ge,Te,S,b)}}M&1&&p.children!==m.children&&c(L,m.children)}else!N&&R==null&&Ee(L,F,B,b,S);((K=B.onVnodeUpdated)||z)&&Ve(()=>{K&&ct(K,b,m,p),z&&Ht(m,p,b,"updated")},P)},we=(p,m,b,P,S,O,N)=>{for(let L=0;L<m.length;L++){const M=p[L],R=m[L],z=M.el&&(M.type===Y||!Es(M,R)||M.shapeFlag&70)?d(M.el):b;x(M,R,z,null,P,S,O,N,!0)}},Ee=(p,m,b,P,S)=>{if(m!==b){if(m!==le)for(const O in m)!As(O)&&!(O in b)&&i(p,O,m[O],null,S,P);for(const O in b){if(As(O))continue;const N=b[O],L=m[O];N!==L&&O!=="value"&&i(p,O,L,N,S,P)}"value"in b&&i(p,"value",m.value,b.value,S)}},_e=(p,m,b,P,S,O,N,L,M)=>{const R=m.el=p?p.el:a(""),z=m.anchor=p?p.anchor:a("");let{patchFlag:F,dynamicChildren:B,slotScopeIds:K}=m;K&&(L=L?L.concat(K):K),p==null?(r(R,b,P),r(z,b,P),ge(m.children||[],b,z,S,O,N,L,M)):F>0&&F&64&&B&&p.dynamicChildren?(we(p.dynamicChildren,B,b,S,O,N,L),(m.key!=null||S&&m===S.subTree)&&ja(p,m,!0)):X(p,m,b,z,S,O,N,L,M)},ye=(p,m,b,P,S,O,N,L,M)=>{m.slotScopeIds=L,p==null?m.shapeFlag&512?S.ctx.activate(m,b,P,N,M):tt(m,b,P,S,O,N,M):He(p,m,M)},tt=(p,m,b,P,S,O,N)=>{const L=p.component=bu(p,P,S);if(ba(p)&&(L.ctx.renderer=T),wu(L,!1,N),L.asyncDep){if(S&&S.registerDep(L,me,N),!p.el){const M=L.subTree=ae(Nt);A(null,M,m,b)}}else me(L,p,m,b,S,O,N)},He=(p,m,b)=>{const P=m.component=p.component;if(du(p,m,b))if(P.asyncDep&&!P.asyncResolved){se(P,m,b);return}else P.next=m,P.update();else m.el=p.el,P.vnode=m},me=(p,m,b,P,S,O,N)=>{const L=()=>{if(p.isMounted){let{next:F,bu:B,u:K,parent:te,vnode:ce}=p;{const Ke=Ma(p);if(Ke){F&&(F.el=ce.el,se(p,F,N)),Ke.asyncDep.then(()=>{p.isUnmounted||L()});return}}let ie=F,Ge;zt(p,!1),F?(F.el=ce.el,se(p,F,N)):F=ce,B&&hr(B),(Ge=F.props&&F.props.onVnodeBeforeUpdate)&&ct(Ge,te,F,ce),zt(p,!0);const Te=nn(p),st=p.subTree;p.subTree=Te,x(st,Te,d(st.el),v(st),p,S,O),F.el=Te.el,ie===null&&hu(p,Te.el),K&&Ve(K,S),(Ge=F.props&&F.props.onVnodeUpdated)&&Ve(()=>ct(Ge,te,F,ce),S)}else{let F;const{el:B,props:K}=m,{bm:te,m:ce,parent:ie,root:Ge,type:Te}=p,st=hs(m);if(zt(p,!1),te&&hr(te),!st&&(F=K&&K.onVnodeBeforeMount)&&ct(F,ie,m),zt(p,!0),B&&Z){const Ke=()=>{p.subTree=nn(p),Z(B,p.subTree,p,S,null)};st&&Te.__asyncHydrate?Te.__asyncHydrate(B,p,Ke):Ke()}else{Ge.ce&&Ge.ce._injectChildStyle(Te);const Ke=p.subTree=nn(p);x(null,Ke,b,P,p,S,O),m.el=Ke.el}if(ce&&Ve(ce,S),!st&&(F=K&&K.onVnodeMounted)){const Ke=m;Ve(()=>ct(F,ie,Ke),S)}(m.shapeFlag&256||ie&&hs(ie.vnode)&&ie.vnode.shapeFlag&256)&&p.a&&Ve(p.a,S),p.isMounted=!0,m=b=P=null}};p.scope.on();const M=p.effect=new Qo(L);p.scope.off();const R=p.update=M.run.bind(M),z=p.job=M.runIfDirty.bind(M);z.i=p,z.id=p.uid,M.scheduler=()=>ri(z),zt(p,!0),R()},se=(p,m,b)=>{m.component=p;const P=p.vnode.props;p.vnode=m,p.next=null,Wc(p,m.props,P,b),Xc(p,m.children,b),Ft(),Ti(p),Bt()},X=(p,m,b,P,S,O,N,L,M=!1)=>{const R=p&&p.children,z=p?p.shapeFlag:0,F=m.children,{patchFlag:B,shapeFlag:K}=m;if(B>0){if(B&128){De(R,F,b,P,S,O,N,L,M);return}else if(B&256){Le(R,F,b,P,S,O,N,L,M);return}}K&8?(z&16&&Ne(R,S,O),F!==R&&c(b,F)):z&16?K&16?De(R,F,b,P,S,O,N,L,M):Ne(R,S,O,!0):(z&8&&c(b,""),K&16&&ge(F,b,P,S,O,N,L,M))},Le=(p,m,b,P,S,O,N,L,M)=>{p=p||ls,m=m||ls;const R=p.length,z=m.length,F=Math.min(R,z);let B;for(B=0;B<F;B++){const K=m[B]=M?It(m[B]):dt(m[B]);x(p[B],K,b,null,S,O,N,L,M)}R>z?Ne(p,S,O,!0,!1,F):ge(m,b,P,S,O,N,L,M,F)},De=(p,m,b,P,S,O,N,L,M)=>{let R=0;const z=m.length;let F=p.length-1,B=z-1;for(;R<=F&&R<=B;){const K=p[R],te=m[R]=M?It(m[R]):dt(m[R]);if(Es(K,te))x(K,te,b,null,S,O,N,L,M);else break;R++}for(;R<=F&&R<=B;){const K=p[F],te=m[B]=M?It(m[B]):dt(m[B]);if(Es(K,te))x(K,te,b,null,S,O,N,L,M);else break;F--,B--}if(R>F){if(R<=B){const K=B+1,te=K<z?m[K].el:P;for(;R<=B;)x(null,m[R]=M?It(m[R]):dt(m[R]),b,te,S,O,N,L,M),R++}}else if(R>B)for(;R<=F;)Pe(p[R],S,O,!0),R++;else{const K=R,te=R,ce=new Map;for(R=te;R<=B;R++){const qe=m[R]=M?It(m[R]):dt(m[R]);qe.key!=null&&ce.set(qe.key,R)}let ie,Ge=0;const Te=B-te+1;let st=!1,Ke=0;const ks=new Array(Te);for(R=0;R<Te;R++)ks[R]=0;for(R=K;R<=F;R++){const qe=p[R];if(Ge>=Te){Pe(qe,S,O,!0);continue}let lt;if(qe.key!=null)lt=ce.get(qe.key);else for(ie=te;ie<=B;ie++)if(ks[ie-te]===0&&Es(qe,m[ie])){lt=ie;break}lt===void 0?Pe(qe,S,O,!0):(ks[lt-te]=R+1,lt>=Ke?Ke=lt:st=!0,x(qe,m[lt],b,null,S,O,N,L,M),Ge++)}const xi=st?su(ks):ls;for(ie=xi.length-1,R=Te-1;R>=0;R--){const qe=te+R,lt=m[qe],ki=qe+1<z?m[qe+1].el:P;ks[R]===0?x(null,lt,b,ki,S,O,N,L,M):st&&(ie<0||R!==xi[ie]?ze(lt,b,ki,2):ie--)}}},ze=(p,m,b,P,S=null)=>{const{el:O,type:N,transition:L,children:M,shapeFlag:R}=p;if(R&6){ze(p.component.subTree,m,b,P);return}if(R&128){p.suspense.move(m,b,P);return}if(R&64){N.move(p,m,b,T);return}if(N===Y){r(O,m,b);for(let F=0;F<M.length;F++)ze(M[F],m,b,P);r(p.anchor,m,b);return}if(N===pr){E(p,m,b);return}if(P!==2&&R&1&&L)if(P===0)L.beforeEnter(O),r(O,m,b),Ve(()=>L.enter(O),S);else{const{leave:F,delayLeave:B,afterLeave:K}=L,te=()=>r(O,m,b),ce=()=>{F(O,()=>{te(),K&&K()})};B?B(O,te,ce):ce()}else r(O,m,b)},Pe=(p,m,b,P=!1,S=!1)=>{const{type:O,props:N,ref:L,children:M,dynamicChildren:R,shapeFlag:z,patchFlag:F,dirs:B,cacheIndex:K}=p;if(F===-2&&(S=!1),L!=null&&xr(L,null,b,p,!0),K!=null&&(m.renderCache[K]=void 0),z&256){m.ctx.deactivate(p);return}const te=z&1&&B,ce=!hs(p);let ie;if(ce&&(ie=N&&N.onVnodeBeforeUnmount)&&ct(ie,m,p),z&6)es(p.component,b,P);else{if(z&128){p.suspense.unmount(b,P);return}te&&Ht(p,null,m,"beforeUnmount"),z&64?p.type.remove(p,m,b,T,P):R&&!R.hasOnce&&(O!==Y||F>0&&F&64)?Ne(R,m,b,!1,!0):(O===Y&&F&384||!S&&z&16)&&Ne(M,m,b),P&&Ct(p)}(ce&&(ie=N&&N.onVnodeUnmounted)||te)&&Ve(()=>{ie&&ct(ie,m,p),te&&Ht(p,null,m,"unmounted")},b)},Ct=p=>{const{type:m,el:b,anchor:P,transition:S}=p;if(m===Y){Pt(b,P);return}if(m===pr){k(p);return}const O=()=>{n(b),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(p.shapeFlag&1&&S&&!S.persisted){const{leave:N,delayLeave:L}=S,M=()=>N(b,O);L?L(p.el,O,M):M()}else O()},Pt=(p,m)=>{let b;for(;p!==m;)b=h(p),n(p),p=b;n(m)},es=(p,m,b)=>{const{bum:P,scope:S,job:O,subTree:N,um:L,m:M,a:R}=p;Di(M),Di(R),P&&hr(P),S.stop(),O&&(O.flags|=8,Pe(N,p,m,b)),L&&Ve(L,m),Ve(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},Ne=(p,m,b,P=!1,S=!1,O=0)=>{for(let N=O;N<p.length;N++)Pe(p[N],m,b,P,S)},v=p=>{if(p.shapeFlag&6)return v(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const m=h(p.anchor||p.el),b=m&&m[Sc];return b?h(b):m};let _=!1;const y=(p,m,b)=>{p==null?m._vnode&&Pe(m._vnode,null,null,!0):x(m._vnode||null,p,m,null,null,null,b),m._vnode=p,_||(_=!0,Ti(),ma(),_=!1)},T={p:x,um:Pe,m:ze,r:Ct,mt:tt,mc:ge,pc:X,pbc:we,n:v,o:t};let H,Z;return{render:y,hydrate:H,createApp:qc(y,H)}}function rn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function zt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function tu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ja(t,e,s=!1){const r=t.children,n=e.children;if(G(r)&&G(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=It(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&ja(o,a)),a.type===Fr&&(a.el=o.el)}}function su(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Ma(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ma(e)}function Di(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ru=Symbol.for("v-scx"),nu=()=>pt(ru);function iu(t,e){return ci(t,null,e)}function Ms(t,e,s){return ci(t,e,s)}function ci(t,e,s=le){const{immediate:r,deep:n,flush:i,once:o}=s,a=Se({},s),l=e&&r||!e&&i!=="post";let u;if(Vs){if(i==="sync"){const f=nu();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=ft,f.resume=ft,f.pause=ft,f}}const c=Ae;a.call=(f,w,x)=>gt(f,c,w,x);let d=!1;i==="post"?a.scheduler=f=>{Ve(f,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(f,w)=>{w?f():ri(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const h=bc(t,e,a);return Vs&&(u?u.push(h):l&&h()),h}function ou(t,e,s){const r=this.proxy,n=be(t)?t.includes(".")?La(r,t):()=>r[t]:t.bind(r,r);let i;q(e)?i=e:(i=e.handler,s=e);const o=Zs(this),a=ci(n,i.bind(r),s);return o(),a}function La(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const au=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Xe(e)}Modifiers`]||t[`${Ut(e)}Modifiers`];function lu(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||le;let n=s;const i=e.startsWith("update:"),o=i&&au(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>be(c)?c.trim():c)),o.number&&(n=s.map(vr)));let a,l=r[a=Yr(e)]||r[a=Yr(Xe(e))];!l&&i&&(l=r[a=Yr(Ut(e))]),l&&gt(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,gt(u,t,6,n)}}function Da(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!q(t)){const l=u=>{const c=Da(u,e,!0);c&&(a=!0,Se(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(he(t)&&r.set(t,null),null):(G(i)?i.forEach(l=>o[l]=null):Se(o,i),he(t)&&r.set(t,o),o)}function Ur(t,e){return!t||!Tr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ne(t,e[0].toLowerCase()+e.slice(1))||ne(t,Ut(e))||ne(t,e))}function nn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:f,ctx:w,inheritAttrs:x}=t,C=br(t);let A,j;try{if(s.shapeFlag&4){const k=n||r,D=k;A=dt(u.call(D,k,c,d,f,h,w)),j=a}else{const k=e;A=dt(k.length>1?k(d,{attrs:a,slots:o,emit:l}):k(d,null)),j=e.props?a:cu(a)}}catch(k){Ls.length=0,Lr(k,t,1),A=ae(Nt)}let E=A;if(j&&x!==!1){const k=Object.keys(j),{shapeFlag:D}=E;k.length&&D&7&&(i&&k.some(qn)&&(j=uu(j,i)),E=ms(E,j,!1,!0))}return s.dirs&&(E=ms(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&ni(E,s.transition),A=E,br(C),A}const cu=t=>{let e;for(const s in t)(s==="class"||s==="style"||Tr(s))&&((e||(e={}))[s]=t[s]);return e},uu=(t,e)=>{const s={};for(const r in t)(!qn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function du(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ni(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!Ur(u,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ni(r,o,u):!0:!!o;return!1}function Ni(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Ur(s,i))return!0}return!1}function hu({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Na=t=>t.__isSuspense;function fu(t,e){e&&e.pendingBranch?G(t)?e.effects.push(...t):e.effects.push(t):kc(t)}const Y=Symbol.for("v-fgt"),Fr=Symbol.for("v-txt"),Nt=Symbol.for("v-cmt"),pr=Symbol.for("v-stc"),Ls=[];let Qe=null;function $(t=!1){Ls.push(Qe=t?null:[])}function pu(){Ls.pop(),Qe=Ls[Ls.length-1]||null}let Gs=1;function Ui(t,e=!1){Gs+=t,t<0&&Qe&&e&&(Qe.hasOnce=!0)}function Ua(t){return t.dynamicChildren=Gs>0?Qe||ls:null,pu(),Gs>0&&Qe&&Qe.push(t),t}function I(t,e,s,r,n,i){return Ua(g(t,e,s,r,n,i,!0))}function Ks(t,e,s,r,n){return Ua(ae(t,e,s,r,n,!0))}function qs(t){return t?t.__v_isVNode===!0:!1}function Es(t,e){return t.type===e.type&&t.key===e.key}const Fa=({key:t})=>t??null,gr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?be(t)||Ie(t)||q(t)?{i:Ce,r:t,k:e,f:!!s}:t:null);function g(t,e=null,s=null,r=0,n=null,i=t===Y?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Fa(e),ref:e&&gr(e),scopeId:ya,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ce};return a?(ui(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=be(s)?8:16),Gs>0&&!o&&Qe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Qe.push(l),l}const ae=gu;function gu(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Dc)&&(t=Nt),qs(t)){const a=ms(t,e,!0);return s&&ui(a,s),Gs>0&&!i&&Qe&&(a.shapeFlag&6?Qe[Qe.indexOf(t)]=a:Qe.push(a)),a.patchFlag=-2,a}if(Cu(t)&&(t=t.__vccOpts),e){e=mu(e);let{class:a,style:l}=e;a&&!be(a)&&(e.class=St(a)),he(l)&&(si(l)&&!G(l)&&(l=Se({},l)),e.style=Jn(l))}const o=be(t)?1:Na(t)?128:Ec(t)?64:he(t)?4:q(t)?2:0;return g(t,e,s,r,n,o,i,!0)}function mu(t){return t?si(t)||Pa(t)?Se({},t):t:null}function ms(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?vu(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Fa(u),ref:e&&e.ref?s&&i?G(i)?i.concat(gr(e)):[i,gr(e)]:gr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Y?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ms(t.ssContent),ssFallback:t.ssFallback&&ms(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ni(c,l.clone(c)),c}function xt(t=" ",e=0){return ae(Fr,null,t,e)}function $n(t,e){const s=ae(pr,null,t);return s.staticCount=e,s}function pe(t="",e=!1){return e?($(),Ks(Nt,null,t)):ae(Nt,null,t)}function dt(t){return t==null||typeof t=="boolean"?ae(Nt):G(t)?ae(Y,null,t.slice()):qs(t)?It(t):ae(Fr,null,String(t))}function It(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ms(t)}function ui(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(G(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),ui(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Pa(e)?e._ctx=Ce:n===3&&Ce&&(Ce.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else q(e)?(e={default:e,_ctx:Ce},s=32):(e=String(e),r&64?(s=16,e=[xt(e)]):s=8);t.children=e,t.shapeFlag|=s}function vu(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=St([e.class,r.class]));else if(n==="style")e.style=Jn([e.style,r.style]);else if(Tr(n)){const i=e[n],o=r[n];o&&i!==o&&!(G(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function ct(t,e,s,r=null){gt(t,e,7,[s,r])}const yu=Sa();let _u=0;function bu(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||yu,i={uid:_u++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Vl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$a(r,n),emitsOptions:Da(r,n),emit:null,emitted:null,propsDefaults:le,inheritAttrs:r.inheritAttrs,ctx:le,data:le,props:le,attrs:le,slots:le,refs:le,setupState:le,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=lu.bind(null,i),t.ce&&t.ce(i),i}let Ae=null,Sr,On;{const t=Rr(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Sr=e("__VUE_INSTANCE_SETTERS__",s=>Ae=s),On=e("__VUE_SSR_SETTERS__",s=>Vs=s)}const Zs=t=>{const e=Ae;return Sr(t),t.scope.on(),()=>{t.scope.off(),Sr(e)}},Fi=()=>{Ae&&Ae.scope.off(),Sr(null)};function Ba(t){return t.vnode.shapeFlag&4}let Vs=!1;function wu(t,e=!1,s=!1){e&&On(e);const{props:r,children:n}=t.vnode,i=Ba(t);Vc(t,r,i,e),Yc(t,n,s);const o=i?xu(t,e):void 0;return e&&On(!1),o}function xu(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Uc);const{setup:r}=s;if(r){Ft();const n=t.setupContext=r.length>1?Su(t):null,i=Zs(t),o=Xs(r,t,0,[t.props,n]),a=zo(o);if(Bt(),i(),(a||t.sp)&&!hs(t)&&_a(t),a){if(o.then(Fi,Fi),e)return o.then(l=>{Bi(t,l,e)}).catch(l=>{Lr(l,t,0)});t.asyncDep=o}else Bi(t,o,e)}else Ha(t,e)}function Bi(t,e,s){q(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:he(e)&&(t.setupState=fa(e)),Ha(t,s)}let Hi;function Ha(t,e,s){const r=t.type;if(!t.render){if(!e&&Hi&&!r.render){const n=r.template||ai(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Se(Se({isCustomElement:i,delimiters:a},o),l);r.render=Hi(n,u)}}t.render=r.render||ft}{const n=Zs(t);Ft();try{Fc(t)}finally{Bt(),n()}}}const ku={get(t,e){return $e(t,"get",""),t[e]}};function Su(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,ku),slots:t.slots,emit:t.emit,expose:e}}function Br(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(fa(fc(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in js)return js[s](t)},has(e,s){return s in e||s in js}})):t.proxy}function Eu(t,e=!0){return q(t)?t.displayName||t.name:t.name||e&&t.__name}function Cu(t){return q(t)&&"__vccOpts"in t}const Re=(t,e)=>yc(t,e,Vs);function Fe(t,e,s){const r=arguments.length;return r===2?he(e)&&!G(e)?qs(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&qs(s)&&(s=[s]),ae(t,e,s))}const Pu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let An;const zi=typeof window<"u"&&window.trustedTypes;if(zi)try{An=zi.createPolicy("vue",{createHTML:t=>t})}catch{}const za=An?t=>An.createHTML(t):t=>t,Tu="http://www.w3.org/2000/svg",$u="http://www.w3.org/1998/Math/MathML",_t=typeof document<"u"?document:null,Gi=_t&&_t.createElement("template"),Ou={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?_t.createElementNS(Tu,t):e==="mathml"?_t.createElementNS($u,t):s?_t.createElement(t,{is:s}):_t.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>_t.createTextNode(t),createComment:t=>_t.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_t.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Gi.innerHTML=za(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Gi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Au=Symbol("_vtc");function Ru(t,e,s){const r=t[Au];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Ki=Symbol("_vod"),Iu=Symbol("_vsh"),ju=Symbol(""),Mu=/(^|;)\s*display\s*:/;function Lu(t,e,s){const r=t.style,n=be(s);let i=!1;if(s&&!n){if(e)if(be(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&mr(r,a,"")}else for(const o in e)s[o]==null&&mr(r,o,"");for(const o in s)o==="display"&&(i=!0),mr(r,o,s[o])}else if(n){if(e!==s){const o=r[ju];o&&(s+=";"+o),r.cssText=s,i=Mu.test(s)}}else e&&t.removeAttribute("style");Ki in t&&(t[Ki]=i?r.display:"",t[Iu]&&(r.display="none"))}const qi=/\s*!important$/;function mr(t,e,s){if(G(s))s.forEach(r=>mr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Du(t,e);qi.test(s)?t.setProperty(Ut(r),s.replace(qi,""),"important"):t[r]=s}}const Vi=["Webkit","Moz","ms"],on={};function Du(t,e){const s=on[e];if(s)return s;let r=Xe(e);if(r!=="filter"&&r in t)return on[e]=r;r=Ar(r);for(let n=0;n<Vi.length;n++){const i=Vi[n]+r;if(i in t)return on[e]=i}return e}const Wi="http://www.w3.org/1999/xlink";function Ji(t,e,s,r,n,i=Gl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Wi,e.slice(6,e.length)):t.setAttributeNS(Wi,e,s):s==null||i&&!Vo(s)?t.removeAttribute(e):t.setAttribute(e,i?"":ot(s)?String(s):s)}function Qi(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?za(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Vo(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Vt(t,e,s,r){t.addEventListener(e,s,r)}function Nu(t,e,s,r){t.removeEventListener(e,s,r)}const Yi=Symbol("_vei");function Uu(t,e,s,r,n=null){const i=t[Yi]||(t[Yi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Fu(e);if(r){const u=i[e]=zu(r,n);Vt(t,a,u,l)}else o&&(Nu(t,a,o,l),i[e]=void 0)}}const Xi=/(?:Once|Passive|Capture)$/;function Fu(t){let e;if(Xi.test(t)){e={};let r;for(;r=t.match(Xi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ut(t.slice(2)),e]}let an=0;const Bu=Promise.resolve(),Hu=()=>an||(Bu.then(()=>an=0),an=Date.now());function zu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;gt(Gu(r,s.value),e,5,[r])};return s.value=t,s.attached=Hu(),s}function Gu(t,e){if(G(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Zi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ku=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Ru(t,r,o):e==="style"?Lu(t,s,r):Tr(e)?qn(e)||Uu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):qu(t,e,r,o))?(Qi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ji(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!be(r))?Qi(t,Xe(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ji(t,e,r,o))};function qu(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Zi(e)&&q(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Zi(e)&&be(s)?!1:e in t}const Er=t=>{const e=t.props["onUpdate:modelValue"]||!1;return G(e)?s=>hr(e,s):e};function Vu(t){t.target.composing=!0}function eo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ps=Symbol("_assign"),Rn={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[ps]=Er(n);const i=r||n.props&&n.props.type==="number";Vt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=vr(a)),t[ps](a)}),s&&Vt(t,"change",()=>{t.value=t.value.trim()}),e||(Vt(t,"compositionstart",Vu),Vt(t,"compositionend",eo),Vt(t,"change",eo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[ps]=Er(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?vr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Wu={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=$r(e);Vt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?vr(Cr(o)):Cr(o));t[ps](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,Dr(()=>{t._assigning=!1})}),t[ps]=Er(r)},mounted(t,{value:e}){to(t,e)},beforeUpdate(t,e,s){t[ps]=Er(s)},updated(t,{value:e}){t._assigning||to(t,e)}};function to(t,e){const s=t.multiple,r=G(e);if(!(s&&!r&&!$r(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=Cr(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=ql(e,a)>-1}else o.selected=e.has(a);else if(Ir(Cr(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Cr(t){return"_value"in t?t._value:t.value}const Ju=["ctrl","shift","alt","meta"],Qu={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Ju.some(s=>t[`${s}Key`]&&!e.includes(s))},so=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Qu[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Yu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},In=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const i=Ut(n.key);if(e.some(o=>o===i||Yu[o]===i))return t(n)})},Xu=Se({patchProp:Ku},Ou);let ro;function Zu(){return ro||(ro=Zc(Xu))}const ed=(...t)=>{const e=Zu().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=sd(r);if(!n)return;const i=e._component;!q(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,td(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function td(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function sd(t){return be(t)?document.querySelector(t):t}function rd(){const t=W(!1),e=()=>{t.value=!t.value,localStorage.setItem("theme",t.value?"dark":"light"),s()},s=()=>{t.value?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return et(()=>{const r=localStorage.getItem("theme");r?t.value=r==="dark":t.value=window.matchMedia("(prefers-color-scheme: dark)").matches,s()}),{isDark:t,toggleTheme:e}}const nd={class:"min-h-screen transition-colors duration-200 dark:bg-gray-900 dark:text-white flex flex-col"},id={class:"container mx-auto px-2 py-2 max-w-3xl flex-grow"},od={class:"flex justify-between items-center mb-1"},ad={class:"text-xs text-gray-500 dark:text-gray-400"},ld=["title"],cd={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ud={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},dd={__name:"App",setup(t){const e=Re(()=>"0.9.12"),{isDark:s,toggleTheme:r}=rd();return(n,i)=>{const o=$i("router-link"),a=$i("router-view");return $(),I("div",nd,[g("div",id,[g("div",od,[i[4]||(i[4]=g("div",{class:"w-10"},null,-1)),ae(o,{to:"/",class:"text-xl sm:text-2xl font-bold"},{default:Rt(()=>[i[1]||(i[1]=xt("JatsApp ")),g("small",ad,"v"+U(e.value),1)]),_:1}),g("button",{onClick:i[0]||(i[0]=(...l)=>ke(r)&&ke(r)(...l)),class:"p-1.5 sm:p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 w-10",title:ke(s)?"Switch to light mode":"Switch to dark mode"},[ke(s)?($(),I("svg",cd,i[2]||(i[2]=[g("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"{2}",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):($(),I("svg",ud,i[3]||(i[3]=[g("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"{2}",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])))],8,ld)]),ae(a)])])}}};/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const os=typeof document<"u";function Ga(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function hd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ga(t.default)}const oe=Object.assign;function ln(t,e){const s={};for(const r in e){const n=e[r];s[r]=at(n)?n.map(t):t(n)}return s}const Ds=()=>{},at=Array.isArray,Ka=/#/g,fd=/&/g,pd=/\//g,gd=/=/g,md=/\?/g,qa=/\+/g,vd=/%5B/g,yd=/%5D/g,Va=/%5E/g,_d=/%60/g,Wa=/%7B/g,bd=/%7C/g,Ja=/%7D/g,wd=/%20/g;function di(t){return encodeURI(""+t).replace(bd,"|").replace(vd,"[").replace(yd,"]")}function xd(t){return di(t).replace(Wa,"{").replace(Ja,"}").replace(Va,"^")}function jn(t){return di(t).replace(qa,"%2B").replace(wd,"+").replace(Ka,"%23").replace(fd,"%26").replace(_d,"`").replace(Wa,"{").replace(Ja,"}").replace(Va,"^")}function kd(t){return jn(t).replace(gd,"%3D")}function Sd(t){return di(t).replace(Ka,"%23").replace(md,"%3F")}function Ed(t){return t==null?"":Sd(t).replace(pd,"%2F")}function Ws(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Cd=/\/$/,Pd=t=>t.replace(Cd,"");function cn(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Ad(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:Ws(o)}}function Td(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function no(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function $d(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&vs(e.matched[r],s.matched[n])&&Qa(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function vs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Qa(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Od(t[s],e[s]))return!1;return!0}function Od(t,e){return at(t)?io(t,e):at(e)?io(e,t):t===e}function io(t,e){return at(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Ad(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Tt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Js;(function(t){t.pop="pop",t.push="push"})(Js||(Js={}));var Ns;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ns||(Ns={}));function Rd(t){if(!t)if(os){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Pd(t)}const Id=/^[^#]+#/;function jd(t,e){return t.replace(Id,"#")+e}function Md(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const Hr=()=>({left:window.scrollX,top:window.scrollY});function Ld(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Md(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function oo(t,e){return(history.state?history.state.position-e:-1)+t}const Mn=new Map;function Dd(t,e){Mn.set(t,e)}function Nd(t){const e=Mn.get(t);return Mn.delete(t),e}let Ud=()=>location.protocol+"//"+location.host;function Ya(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),no(l,"")}return no(s,t)+r+n}function Fd(t,e,s,r){let n=[],i=[],o=null;const a=({state:h})=>{const f=Ya(t,location),w=s.value,x=e.value;let C=0;if(h){if(s.value=f,e.value=h,o&&o===w){o=null;return}C=x?h.position-x.position:0}else r(f);n.forEach(A=>{A(s.value,w,{delta:C,type:Js.pop,direction:C?C>0?Ns.forward:Ns.back:Ns.unknown})})};function l(){o=s.value}function u(h){n.push(h);const f=()=>{const w=n.indexOf(h);w>-1&&n.splice(w,1)};return i.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(oe({},h.state,{scroll:Hr()}),"")}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function ao(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?Hr():null}}function Bd(t){const{history:e,location:s}=window,r={value:Ya(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const d=t.indexOf("#"),h=d>-1?(s.host&&document.querySelector("base")?t:t.slice(d))+l:Ud()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),n.value=u}catch(f){console.error(f),s[c?"replace":"assign"](h)}}function o(l,u){const c=oe({},e.state,ao(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=oe({},n.value,e.state,{forward:l,scroll:Hr()});i(c.current,c,!0);const d=oe({},ao(r.value,l,null),{position:c.position+1},u);i(l,d,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Hd(t){t=Rd(t);const e=Bd(t),s=Fd(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=oe({location:"",base:t,go:r,createHref:jd.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function zd(t){return typeof t=="string"||t&&typeof t=="object"}function Xa(t){return typeof t=="string"||typeof t=="symbol"}const Za=Symbol("");var lo;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(lo||(lo={}));function ys(t,e){return oe(new Error,{type:t,[Za]:!0},e)}function yt(t,e){return t instanceof Error&&Za in t&&(e==null||!!(t.type&e))}const co="[^/]+?",Gd={sensitive:!1,strict:!1,start:!0,end:!0},Kd=/[.+*?^${}()[\]/\\]/g;function qd(t,e){const s=oe({},Gd,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(s.sensitive?.25:0);if(h.type===0)d||(n+="/"),n+=h.value.replace(Kd,"\\$&"),f+=40;else if(h.type===1){const{value:w,repeatable:x,optional:C,regexp:A}=h;i.push({name:w,repeatable:x,optional:C});const j=A||co;if(j!==co){f+=10;try{new RegExp(`(${j})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${w}" (${j}): `+k.message)}}let E=x?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;d||(E=C&&u.length<2?`(?:/${E})`:"/"+E),C&&(E+="?"),n+=E,f+=20,C&&(f+=-8),x&&(f+=-20),j===".*"&&(f+=-50)}c.push(f)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",w=i[h-1];d[w.name]=f&&w.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:w,repeatable:x,optional:C}=f,A=w in u?u[w]:"";if(at(A)&&!x)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const j=at(A)?A.join("/"):A;if(!j)if(C)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${w}"`);c+=j}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Vd(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function el(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=Vd(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(uo(r))return 1;if(uo(n))return-1}return n.length-r.length}function uo(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Wd={type:0,value:""},Jd=/[a-zA-Z0-9_]/;function Qd(t){if(!t)return[[]];if(t==="/")return[[Wd]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${s})/"${u}": ${f}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function d(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),s=1):h();break;case 4:h(),s=r;break;case 1:l==="("?s=2:Jd.test(l)?h():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),n}function Yd(t,e,s){const r=qd(Qd(t.path),s),n=oe(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Xd(t,e){const s=[],r=new Map;e=go({strict:!1,end:!0,sensitive:!1},e);function n(d){return r.get(d)}function i(d,h,f){const w=!f,x=fo(d);x.aliasOf=f&&f.record;const C=go(e,d),A=[x];if("alias"in d){const k=typeof d.alias=="string"?[d.alias]:d.alias;for(const D of k)A.push(fo(oe({},x,{components:f?f.record.components:x.components,path:D,aliasOf:f?f.record:x})))}let j,E;for(const k of A){const{path:D}=k;if(h&&D[0]!=="/"){const J=h.record.path,V=J[J.length-1]==="/"?"":"/";k.path=h.record.path+(D&&V+D)}if(j=Yd(k,h,C),f?f.alias.push(j):(E=E||j,E!==j&&E.alias.push(j),w&&d.name&&!po(j)&&o(d.name)),tl(j)&&l(j),x.children){const J=x.children;for(let V=0;V<J.length;V++)i(J[V],j,f&&f.children[V])}f=f||j}return E?()=>{o(E)}:Ds}function o(d){if(Xa(d)){const h=r.get(d);h&&(r.delete(d),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(d);h>-1&&(s.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const h=th(d,s);s.splice(h,0,d),d.record.name&&!po(d)&&r.set(d.record.name,d)}function u(d,h){let f,w={},x,C;if("name"in d&&d.name){if(f=r.get(d.name),!f)throw ys(1,{location:d});C=f.record.name,w=oe(ho(h.params,f.keys.filter(E=>!E.optional).concat(f.parent?f.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&ho(d.params,f.keys.map(E=>E.name))),x=f.stringify(w)}else if(d.path!=null)x=d.path,f=s.find(E=>E.re.test(x)),f&&(w=f.parse(x),C=f.record.name);else{if(f=h.name?r.get(h.name):s.find(E=>E.re.test(h.path)),!f)throw ys(1,{location:d,currentLocation:h});C=f.record.name,w=oe({},h.params,d.params),x=f.stringify(w)}const A=[];let j=f;for(;j;)A.unshift(j.record),j=j.parent;return{name:C,path:x,params:w,matched:A,meta:eh(A)}}t.forEach(d=>i(d));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function ho(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function fo(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Zd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Zd(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function po(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function eh(t){return t.reduce((e,s)=>oe(e,s.meta),{})}function go(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function th(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;el(t,e[i])<0?r=i:s=i+1}const n=sh(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function sh(t){let e=t;for(;e=e.parent;)if(tl(e)&&el(t,e)===0)return e}function tl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function rh(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(qa," "),o=i.indexOf("="),a=Ws(o<0?i:i.slice(0,o)),l=o<0?null:Ws(i.slice(o+1));if(a in e){let u=e[a];at(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function mo(t){let e="";for(let s in t){const r=t[s];if(s=kd(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(at(r)?r.map(i=>i&&jn(i)):[r&&jn(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function nh(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=at(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const ih=Symbol(""),vo=Symbol(""),zr=Symbol(""),sl=Symbol(""),Ln=Symbol("");function Cs(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function jt(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(ys(4,{from:s,to:e})):h instanceof Error?l(h):zd(h)?l(ys(2,{from:e,to:h})):(o&&r.enterCallbacks[n]===o&&typeof h=="function"&&o.push(h),a())},c=i(()=>t.call(r&&r.instances[n],e,s,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function un(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ga(l)){const c=(l.__vccOpts||l)[e];c&&i.push(jt(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=hd(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&jt(f,s,r,o,a,n)()}))}}return i}function yo(t){const e=pt(zr),s=pt(sl),r=Re(()=>{const l=ke(t.to);return e.resolve(l)}),n=Re(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=s.matched;if(!c||!d.length)return-1;const h=d.findIndex(vs.bind(null,c));if(h>-1)return h;const f=_o(l[u-2]);return u>1&&_o(c)===f&&d[d.length-1].path!==f?d.findIndex(vs.bind(null,l[u-2])):h}),i=Re(()=>n.value>-1&&ch(s.params,r.value.params)),o=Re(()=>n.value>-1&&n.value===s.matched.length-1&&Qa(s.params,r.value.params));function a(l={}){return lh(l)?e[ke(t.replace)?"replace":"push"](ke(t.to)).catch(Ds):Promise.resolve()}return{route:r,href:Re(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const oh=mt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yo,setup(t,{slots:e}){const s=Mr(yo(t)),{options:r}=pt(zr),n=Re(()=>({[bo(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[bo(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&e.default(s);return t.custom?i:Fe("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),ah=oh;function lh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ch(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!at(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function _o(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const bo=(t,e,s)=>t??e??s,uh=mt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=pt(Ln),n=Re(()=>t.route||r.value),i=pt(vo,0),o=Re(()=>{let u=ke(i);const{matched:c}=n.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=Re(()=>n.value.matched[o.value]);fr(vo,Re(()=>o.value+1)),fr(ih,a),fr(Ln,n);const l=W();return Ms(()=>[l.value,a.value,t.name],([u,c,d],[h,f,w])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!vs(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(x=>x(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return wo(s.default,{Component:h,route:u});const f=d.props[c],w=f?f===!0?u.params:typeof f=="function"?f(u):f:null,C=Fe(h,oe({},w,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return wo(s.default,{Component:C,route:u})||C}}});function wo(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const dh=uh;function hh(t){const e=Xd(t.routes,t),s=t.parseQuery||rh,r=t.stringifyQuery||mo,n=t.history,i=Cs(),o=Cs(),a=Cs(),l=pc(Tt);let u=Tt;os&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ln.bind(null,v=>""+v),d=ln.bind(null,Ed),h=ln.bind(null,Ws);function f(v,_){let y,T;return Xa(v)?(y=e.getRecordMatcher(v),T=_):T=v,e.addRoute(T,y)}function w(v){const _=e.getRecordMatcher(v);_&&e.removeRoute(_)}function x(){return e.getRoutes().map(v=>v.record)}function C(v){return!!e.getRecordMatcher(v)}function A(v,_){if(_=oe({},_||l.value),typeof v=="string"){const m=cn(s,v,_.path),b=e.resolve({path:m.path},_),P=n.createHref(m.fullPath);return oe(m,b,{params:h(b.params),hash:Ws(m.hash),redirectedFrom:void 0,href:P})}let y;if(v.path!=null)y=oe({},v,{path:cn(s,v.path,_.path).path});else{const m=oe({},v.params);for(const b in m)m[b]==null&&delete m[b];y=oe({},v,{params:d(m)}),_.params=d(_.params)}const T=e.resolve(y,_),H=v.hash||"";T.params=c(h(T.params));const Z=Td(r,oe({},v,{hash:xd(H),path:T.path})),p=n.createHref(Z);return oe({fullPath:Z,hash:H,query:r===mo?nh(v.query):v.query||{}},T,{redirectedFrom:void 0,href:p})}function j(v){return typeof v=="string"?cn(s,v,l.value.path):oe({},v)}function E(v,_){if(u!==v)return ys(8,{from:_,to:v})}function k(v){return V(v)}function D(v){return k(oe(j(v),{replace:!0}))}function J(v){const _=v.matched[v.matched.length-1];if(_&&_.redirect){const{redirect:y}=_;let T=typeof y=="function"?y(v):y;return typeof T=="string"&&(T=T.includes("?")||T.includes("#")?T=j(T):{path:T},T.params={}),oe({query:v.query,hash:v.hash,params:T.path!=null?{}:v.params},T)}}function V(v,_){const y=u=A(v),T=l.value,H=v.state,Z=v.force,p=v.replace===!0,m=J(y);if(m)return V(oe(j(m),{state:typeof m=="object"?oe({},H,m.state):H,force:Z,replace:p}),_||y);const b=y;b.redirectedFrom=_;let P;return!Z&&$d(r,T,y)&&(P=ys(16,{to:b,from:T}),ze(T,T,!0,!1)),(P?Promise.resolve(P):we(b,T)).catch(S=>yt(S)?yt(S,2)?S:De(S):X(S,b,T)).then(S=>{if(S){if(yt(S,2))return V(oe({replace:p},j(S.to),{state:typeof S.to=="object"?oe({},H,S.to.state):H,force:Z}),_||b)}else S=_e(b,T,!0,p,H);return Ee(b,T,S),S})}function ge(v,_){const y=E(v,_);return y?Promise.reject(y):Promise.resolve()}function ve(v){const _=Pt.values().next().value;return _&&typeof _.runWithContext=="function"?_.runWithContext(v):v()}function we(v,_){let y;const[T,H,Z]=fh(v,_);y=un(T.reverse(),"beforeRouteLeave",v,_);for(const m of T)m.leaveGuards.forEach(b=>{y.push(jt(b,v,_))});const p=ge.bind(null,v,_);return y.push(p),Ne(y).then(()=>{y=[];for(const m of i.list())y.push(jt(m,v,_));return y.push(p),Ne(y)}).then(()=>{y=un(H,"beforeRouteUpdate",v,_);for(const m of H)m.updateGuards.forEach(b=>{y.push(jt(b,v,_))});return y.push(p),Ne(y)}).then(()=>{y=[];for(const m of Z)if(m.beforeEnter)if(at(m.beforeEnter))for(const b of m.beforeEnter)y.push(jt(b,v,_));else y.push(jt(m.beforeEnter,v,_));return y.push(p),Ne(y)}).then(()=>(v.matched.forEach(m=>m.enterCallbacks={}),y=un(Z,"beforeRouteEnter",v,_,ve),y.push(p),Ne(y))).then(()=>{y=[];for(const m of o.list())y.push(jt(m,v,_));return y.push(p),Ne(y)}).catch(m=>yt(m,8)?m:Promise.reject(m))}function Ee(v,_,y){a.list().forEach(T=>ve(()=>T(v,_,y)))}function _e(v,_,y,T,H){const Z=E(v,_);if(Z)return Z;const p=_===Tt,m=os?history.state:{};y&&(T||p?n.replace(v.fullPath,oe({scroll:p&&m&&m.scroll},H)):n.push(v.fullPath,H)),l.value=v,ze(v,_,y,p),De()}let ye;function tt(){ye||(ye=n.listen((v,_,y)=>{if(!es.listening)return;const T=A(v),H=J(T);if(H){V(oe(H,{replace:!0}),T).catch(Ds);return}u=T;const Z=l.value;os&&Dd(oo(Z.fullPath,y.delta),Hr()),we(T,Z).catch(p=>yt(p,12)?p:yt(p,2)?(V(p.to,T).then(m=>{yt(m,20)&&!y.delta&&y.type===Js.pop&&n.go(-1,!1)}).catch(Ds),Promise.reject()):(y.delta&&n.go(-y.delta,!1),X(p,T,Z))).then(p=>{p=p||_e(T,Z,!1),p&&(y.delta&&!yt(p,8)?n.go(-y.delta,!1):y.type===Js.pop&&yt(p,20)&&n.go(-1,!1)),Ee(T,Z,p)}).catch(Ds)}))}let He=Cs(),me=Cs(),se;function X(v,_,y){De(v);const T=me.list();return T.length?T.forEach(H=>H(v,_,y)):console.error(v),Promise.reject(v)}function Le(){return se&&l.value!==Tt?Promise.resolve():new Promise((v,_)=>{He.add([v,_])})}function De(v){return se||(se=!v,tt(),He.list().forEach(([_,y])=>v?y(v):_()),He.reset()),v}function ze(v,_,y,T){const{scrollBehavior:H}=t;if(!os||!H)return Promise.resolve();const Z=!y&&Nd(oo(v.fullPath,0))||(T||!y)&&history.state&&history.state.scroll||null;return Dr().then(()=>H(v,_,Z)).then(p=>p&&Ld(p)).catch(p=>X(p,v,_))}const Pe=v=>n.go(v);let Ct;const Pt=new Set,es={currentRoute:l,listening:!0,addRoute:f,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:x,resolve:A,options:t,push:k,replace:D,go:Pe,back:()=>Pe(-1),forward:()=>Pe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:me.add,isReady:Le,install(v){const _=this;v.component("RouterLink",ah),v.component("RouterView",dh),v.config.globalProperties.$router=_,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>ke(l)}),os&&!Ct&&l.value===Tt&&(Ct=!0,k(n.location).catch(H=>{}));const y={};for(const H in Tt)Object.defineProperty(y,H,{get:()=>l.value[H],enumerable:!0});v.provide(zr,_),v.provide(sl,ua(y)),v.provide(Ln,l);const T=v.unmount;Pt.add(v),v.unmount=function(){Pt.delete(v),Pt.size<1&&(u=Tt,ye&&ye(),ye=null,l.value=Tt,Ct=!1,se=!1),T()}}};function Ne(v){return v.reduce((_,y)=>_.then(()=>ve(y)),Promise.resolve())}return es}function fh(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>vs(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>vs(u,l))||n.push(l))}return[s,r,n]}function er(){return pt(zr)}const ph={class:"mt-8 mb-4"},gh={class:"w-full border-collapse border"},mh={class:"border px-4 py-1"},vh={class:"border px-4 py-1 text-right"},yh={class:"border px-4 py-1 text-right"},_h={class:"border px-4 py-1"},bh={class:"border px-4 py-1 text-right"},wh={class:"border px-4 py-1 text-right"},xh={class:"bg-yellow-50 dark:bg-yellow-900"},kh={class:"border px-4 py-1 text-right"},Sh={class:"border px-4 py-1 text-right"},Eh={__name:"ScoreStats",setup(t){const e=W([]),s=["Ones","Twos","Threes","Fours","Fives","Sixes"],r=["One Pair","Two Pairs","Three of a Kind","Four of a Kind","Full House","Small Straight","Large Straight","Yahtzee","Chance"];et(()=>{const l=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]");e.value=l});const n=l=>{let u=0,c=0;return e.value.forEach(d=>{d.players.forEach(h=>{h.scores[l]!==void 0&&h.scores[l]!=="-"&&!isNaN(parseInt(h.scores[l]))&&(u+=parseInt(h.scores[l]),c++)})}),c>0?u/c:0},i=l=>{let u=0;return e.value.forEach(c=>{c.players.forEach(d=>{d.scores[l]!==void 0&&d.scores[l]!=="-"&&!isNaN(parseInt(d.scores[l]))&&u++})}),u},o=()=>{let l=0,u=0;return e.value.forEach(c=>{c.players.forEach(d=>{d.total&&(l+=d.total,u++)})}),u>0?l/u:0},a=l=>l.toFixed(1);return(l,u)=>($(),I("div",ph,[u[4]||(u[4]=g("h3",{class:"text-lg font-bold mb-2"},"Average Scores",-1)),g("table",gh,[u[3]||(u[3]=g("thead",null,[g("tr",{class:"bg-gray-50 dark:bg-gray-800"},[g("th",{class:"border px-4 py-2 text-left"},"Category"),g("th",{class:"border px-4 py-2 text-right"},"Average"),g("th",{class:"border px-4 py-2 text-right"},"Games")])],-1)),g("tbody",null,[u[1]||(u[1]=g("tr",{class:"bg-blue-50 dark:bg-blue-900"},[g("td",{colspan:"3",class:"border px-4 py-1 font-bold"},"Upper Section")],-1)),($(),I(Y,null,fe(s,c=>g("tr",{key:c},[g("td",mh,U(c),1),g("td",vh,U(a(n(c))),1),g("td",yh,U(i(c)),1)])),64)),u[2]||(u[2]=g("tr",{class:"bg-purple-50 dark:bg-purple-900"},[g("td",{colspan:"3",class:"border px-4 py-1 font-bold"},"Lower Section")],-1)),($(),I(Y,null,fe(r,c=>g("tr",{key:c},[g("td",_h,U(c),1),g("td",bh,U(a(n(c))),1),g("td",wh,U(i(c)),1)])),64)),g("tr",xh,[u[0]||(u[0]=g("td",{class:"border px-4 py-1"},"Average Total",-1)),g("td",kh,U(a(o())),1),g("td",Sh,U(e.value.length),1)])])])]))}},Ch={__name:"Toast",props:{show:Boolean,message:String},emits:["close"],setup(t){return(e,s)=>t.show?($(),I("div",{key:0,class:St(["fixed top-4 right-4 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-lg dark:bg-gray-700 transition-opacity duration-300 text-lg font-medium z-50 min-w-[300px] flex items-center justify-between",{"opacity-0":!t.show}])},[g("span",null,U(t.message),1),g("button",{onClick:s[0]||(s[0]=r=>e.$emit("close")),class:"ml-4 text-gray-400 hover:text-white"}," × ")],2)):pe("",!0)}},Ph={class:"mt-8"},Th={class:"flex justify-between items-center mb-4"},$h={key:0,class:"text-gray-500 dark:text-gray-400"},Oh={key:1,class:"space-y-4"},Ah={class:"flex justify-between items-center mb-2"},Rh={class:"text-sm text-gray-500 dark:text-gray-400"},Ih={class:"flex items-center gap-2"},jh={class:"text-green-600 dark:text-green-400 font-bold"},Mh=["onClick"],Lh={class:"w-full border-collapse"},Dh={class:"py-1"},Nh={class:"text-right"},Uh={class:"flex justify-between items-center mt-2"},Fh=["onClick"],Bh=["onClick"],Hh={key:0,class:"mt-2"},zh={class:"w-full text-sm"},Gh={class:"border-b dark:border-gray-700"},Kh={class:"py-1"},qh={__name:"ScoreHistory",setup(t){const e=er(),s=W([]),r=["Ones","Twos","Threes","Fours","Fives","Sixes","One Pair","Two Pairs","Three of a Kind","Four of a Kind","Full House","Small Straight","Large Straight","Yahtzee","Chance"],n=W(!1),i=W(""),o=()=>{const d=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]");s.value=d.map(h=>({...h,showDetails:!1})).sort((h,f)=>new Date(f.timestamp)-new Date(h.timestamp))};et(o);const a=d=>{i.value=d,n.value=!0,setTimeout(()=>{n.value=!1},3e3)},l=d=>{if(confirm("Are you sure you want to delete this game?")){const h=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]"),f=h[d];h.splice(d,1),localStorage.setItem("yatzyGameHistory",JSON.stringify(h)),o(),a(`Game from ${new Date(f.timestamp).toLocaleDateString()} deleted`)}},u=()=>{confirm("Are you sure you want to delete all game history? This cannot be undone.")&&(localStorage.removeItem("yatzyGameHistory"),s.value=[],a("All game history cleared"))},c=d=>{if(localStorage.getItem("yatzyGameState")){if(!confirm("There is a game in progress. Do you want to start a new game with these players?"))return;localStorage.removeItem("yatzyGameState")}const h={players:d.map(f=>({name:f.name,scores:{},total:0})),gameStarted:!0};localStorage.setItem("yatzyGameState",JSON.stringify(h)),e.push("/game")};return(d,h)=>($(),I("div",Ph,[g("div",Th,[h[0]||(h[0]=g("h2",{class:"text-xl font-bold"},"Game History",-1)),s.value.length>0?($(),I("button",{key:0,onClick:u,class:"bg-red-500 hover:bg-red-600 text-white text-sm px-3 py-1 rounded dark:bg-red-600 dark:hover:bg-red-700"}," Clear History ")):pe("",!0)]),s.value.length===0?($(),I("div",$h," No completed games yet ")):($(),I("div",Oh,[($(!0),I(Y,null,fe(s.value,(f,w)=>($(),I("div",{key:f.timestamp,class:"border rounded-lg p-4 bg-white dark:bg-gray-800 shadow dark:border-gray-700"},[g("div",Ah,[g("div",Rh,U(new Date(f.timestamp).toLocaleString()),1),g("div",Ih,[g("div",jh," Winner: "+U(f.winner),1),g("button",{onClick:x=>l(w),class:"text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-500",title:"Delete game"},h[1]||(h[1]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[g("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)]),8,Mh)])]),g("table",Lh,[h[2]||(h[2]=g("thead",null,[g("tr",{class:"border-b dark:border-gray-700"},[g("th",{class:"text-left py-2 dark:text-gray-200"},"Player"),g("th",{class:"text-right py-2 dark:text-gray-200"},"Total Score")])],-1)),g("tbody",null,[($(!0),I(Y,null,fe(f.players,x=>($(),I("tr",{key:x.name,class:"border-b dark:border-gray-700"},[g("td",Dh,U(x.name),1),g("td",Nh,U(x.total),1)]))),128))])]),g("div",Uh,[g("button",{onClick:x=>f.showDetails=!f.showDetails,class:"text-blue-500 dark:text-blue-400 text-sm hover:underline"},U(f.showDetails?"Hide Details":"Show Details"),9,Fh),g("button",{onClick:x=>c(f.players),class:"bg-green-500 hover:bg-green-600 text-white text-sm px-3 py-1 rounded dark:bg-green-600 dark:hover:bg-green-700"}," Use these players ",8,Bh)]),f.showDetails?($(),I("div",Hh,[g("table",zh,[g("thead",null,[g("tr",Gh,[h[3]||(h[3]=g("th",{class:"text-left py-1 dark:text-gray-200"},"Category",-1)),($(!0),I(Y,null,fe(f.players,x=>($(),I("th",{key:x.name,class:"text-right py-1 dark:text-gray-200"},U(x.name),1))),128))])]),g("tbody",null,[($(),I(Y,null,fe(r,x=>g("tr",{key:x,class:"border-b dark:border-gray-700"},[g("td",Kh,U(x),1),($(!0),I(Y,null,fe(f.players,C=>($(),I("td",{key:C.name,class:"text-right py-1"},U(C.scores[x]||"-"),1))),128))])),64))])])])):pe("",!0)]))),128))])),ae(Ch,{show:n.value,message:i.value},null,8,["show","message"])]))}},Vh={class:"mt-8 mb-4"},Wh={class:"flex justify-between items-center mb-4"},Jh={class:"space-y-2"},Qh={class:"flex items-center gap-2"},Yh={key:0,class:"text-xl"},Xh={key:1,class:"text-xl"},Zh={key:2,class:"text-xl"},ef={class:"flex-grow"},tf={class:"flex justify-between items-baseline"},sf={class:"font-bold text-gray-800 dark:text-gray-200"},rf={class:"text-2xl font-bold text-yellow-500 dark:text-yellow-400"},nf={class:"text-sm text-gray-500 dark:text-gray-400"},of={key:0,class:"mt-6"},af={class:"space-y-2"},lf={class:"flex items-center gap-2"},cf={class:"text-xl"},uf={class:"flex-grow"},df={class:"flex justify-between items-baseline"},hf={class:"font-bold text-gray-800 dark:text-gray-200"},ff={class:"text-2xl font-bold text-red-500 dark:text-red-400"},pf={class:"text-sm text-gray-500 dark:text-gray-400"},gf={key:1,class:"text-center text-gray-500 dark:text-gray-400 py-4"},mf={__name:"TopScores",setup(t){const e=W([]),s=W([]),r=W(!1);return et(()=>{const i=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]").flatMap(o=>o.players.map(a=>({player:a.name,total:a.total,date:o.timestamp})));e.value=i.sort((o,a)=>a.total-o.total).slice(0,5),s.value=i.filter(o=>o.total>=50).sort((o,a)=>o.total-a.total).slice(0,3)}),(n,i)=>($(),I("div",Vh,[g("div",Wh,[i[1]||(i[1]=g("h3",{class:"text-lg font-bold text-gray-800 dark:text-gray-200"},"Hall of Fame 🏆",-1)),g("button",{onClick:i[0]||(i[0]=o=>r.value=!r.value),class:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"},U(r.value?"Hide Hall of Shame":"Show Hall of Shame 💀"),1)]),g("div",Jh,[($(!0),I(Y,null,fe(e.value,(o,a)=>($(),I("div",{key:a,class:"p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"},[g("div",Qh,[a===0?($(),I("span",Yh,"🥇")):a===1?($(),I("span",Xh,"🥈")):a===2?($(),I("span",Zh,"🥉")):pe("",!0),g("div",ef,[g("div",tf,[g("span",sf,U(o.player),1),g("span",rf,U(o.total),1)]),g("div",nf,U(new Date(o.date).toLocaleDateString()),1)])])]))),128))]),r.value?($(),I("div",of,[i[2]||(i[2]=g("h3",{class:"text-lg font-bold mb-4 text-gray-800 dark:text-gray-200"},"Hall of Shame 💀",-1)),g("div",af,[($(!0),I(Y,null,fe(s.value,(o,a)=>($(),I("div",{key:a,class:"p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"},[g("div",lf,[g("span",cf,U(["🪦","⚰️","☠️"][a]||"💀"),1),g("div",uf,[g("div",df,[g("span",hf,U(o.player),1),g("span",ff,U(o.total),1)]),g("div",pf,U(new Date(o.date).toLocaleDateString()),1)])])]))),128))])])):pe("",!0),e.value.length===0?($(),I("div",gf," No games played yet ")):pe("",!0)]))}},vf="modulepreload",yf=function(t){return"/jatsapp/"+t},xo={},_s=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=yf(l),l in xo)return;xo[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":vf,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},_f=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>_s(async()=>{const{default:r}=await Promise.resolve().then(()=>ws);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class hi extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class bf extends hi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wf extends hi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xf extends hi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Dn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Dn||(Dn={}));var kf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Sf{constructor(e,{headers:s={},customFetch:r,region:n=Dn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=_f(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return kf(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(w=>{throw new bf(w)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new wf(c);if(!c.ok)throw new xf(c);let h=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield c.json():h==="application/octet-stream"?f=yield c.blob():h==="text/event-stream"?f=c:h==="multipart/form-data"?f=yield c.formData():f=yield c.text(),{data:f,error:null}}catch(n){return{data:null,error:n}}})}}var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ym(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ef(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Be={},fi={},Gr={},tr={},Kr={},qr={},Cf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bs=Cf();const Pf=bs.fetch,rl=bs.fetch.bind(bs),nl=bs.Headers,Tf=bs.Request,$f=bs.Response,ws=Object.freeze(Object.defineProperty({__proto__:null,Headers:nl,Request:Tf,Response:$f,default:rl,fetch:Pf},Symbol.toStringTag,{value:"Module"})),Of=Ef(ws);var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});class Af extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Vr.default=Af;var il=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qr,"__esModule",{value:!0});const Rf=il(Of),If=il(Vr);let jf=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Rf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const A=await i.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=A:c=JSON.parse(A))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&C&&C.length>1&&(d=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,f="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(c=[],u=null,h=200,f="OK")}catch{i.status===404&&x===""?(h=204,f="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,f="OK"),u&&this.shouldThrowOnError)throw new If.default(u)}return{error:u,data:c,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}};qr.default=jf;var Mf=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kr,"__esModule",{value:!0});const Lf=Mf(qr);let Df=class extends Lf.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Kr.default=Df;var Nf=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tr,"__esModule",{value:!0});const Uf=Nf(Kr);let Ff=class extends Uf.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};tr.default=Ff;var Bf=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gr,"__esModule",{value:!0});const Ps=Bf(tr);let Hf=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ps.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ps.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ps.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new Ps.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ps.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Gr.default=Hf;var Wr={},Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.version=void 0;Jr.version="0.0.0-automated";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.DEFAULT_HEADERS=void 0;const zf=Jr;Wr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zf.version}`};var ol=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fi,"__esModule",{value:!0});const Gf=ol(Gr),Kf=ol(tr),qf=Wr;let Vf=class al{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},qf.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new Gf.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new al(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Kf.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};fi.default=Vf;var xs=Ze&&Ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const ll=xs(fi);Be.PostgrestClient=ll.default;const cl=xs(Gr);Be.PostgrestQueryBuilder=cl.default;const ul=xs(tr);Be.PostgrestFilterBuilder=ul.default;const dl=xs(Kr);Be.PostgrestTransformBuilder=dl.default;const hl=xs(qr);Be.PostgrestBuilder=hl.default;const fl=xs(Vr);Be.PostgrestError=fl.default;var Wf=Be.default={PostgrestClient:ll.default,PostgrestQueryBuilder:cl.default,PostgrestFilterBuilder:ul.default,PostgrestTransformBuilder:dl.default,PostgrestBuilder:hl.default,PostgrestError:fl.default};const{PostgrestClient:Jf,PostgrestQueryBuilder:sv,PostgrestFilterBuilder:rv,PostgrestTransformBuilder:nv,PostgrestBuilder:iv}=Wf,Qf="2.10.7",Yf={"X-Client-Info":`realtime-js/${Qf}`},Xf="1.0.0",pl=1e4,Zf=1e3;var gs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(gs||(gs={}));var We;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(We||(We={}));var nt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nt||(nt={}));var Nn;(function(t){t.websocket="websocket"})(Nn||(Nn={}));var Wt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wt||(Wt={}));class ep{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class gl{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ue||(ue={}));const ko=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=tp(o,t,e,n),i),{})},tp=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?ml(i,o):Un(o)},ml=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return ip(e,s)}switch(t){case ue.bool:return sp(e);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return rp(e);case ue.json:case ue.jsonb:return np(e);case ue.timestamp:return op(e);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return Un(e);default:return Un(e)}},Un=t=>t,sp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},rp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},np=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ip=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ml(e,a))}return t},op=t=>typeof t=="string"?t.replace(" ","T"):t,vl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class dn{constructor(e,s,r={},n=pl){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var So;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(So||(So={}));class Us{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Us.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Us.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Us.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(C=>C.presence_ref),f=d.map(C=>C.presence_ref),w=c.filter(C=>f.indexOf(C.presence_ref)<0),x=d.filter(C=>h.indexOf(C.presence_ref)<0);w.length>0&&(a[u]=w),x.length>0&&(l[u]=x)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Eo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Eo||(Eo={}));var Co;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Co||(Co={}));var Po;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Po||(Po={}));class pi{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new dn(this,nt.join,this.params,this.timeout),this.rejoinTimer=new gl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Us(this),this.broadcastEndpointURL=vl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:c})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,w=[];for(let x=0;x<f;x++){const C=h[x],{filter:{event:A,schema:j,table:E,filter:k}}=C,D=c&&c[x];if(D&&D.event===A&&D.schema===j&&D.table===E&&D.filter===k)w.push(Object.assign(Object.assign({},C),{id:D.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=l.body)===null||n===void 0?void 0:n.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=We.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new dn(this,nt.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new dn(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=nt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,s,r);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var w,x,C;return((w=f.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(x=f.filter)===null||x===void 0?void 0:x.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var w,x,C,A,j,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,D=(w=f.filter)===null||w===void 0?void 0:w.event;return k&&((x=s.ids)===null||x===void 0?void 0:x.includes(k))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const k=(j=(A=f==null?void 0:f.filter)===null||A===void 0?void 0:A.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return k==="*"||k===((E=s==null?void 0:s.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:x,table:C,commit_timestamp:A,type:j,errors:E}=w;h=Object.assign(Object.assign({},{schema:x,table:C,commit_timestamp:A,eventType:j,new:{},old:{},errors:E}),this._getPayloadRecords(w))}f.callback(h,r)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&pi.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nt.close,{},e)}_onError(e){this._on(nt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=ko(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=ko(e.columns,e.old_record)),s}}const ap=()=>{},lp=typeof WebSocket<"u",cp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class up{constructor(e,s){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Yf,this.params={},this.timeout=pl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ap,this.conn=null,this.sendBuffer=[],this.serializer=new ep,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>_s(async()=>{const{default:l}=await Promise.resolve().then(()=>ws);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Nn.websocket}`,this.httpEndpoint=vl(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(lp){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new dp(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),_s(async()=>{const{default:e}=await import("./browser-Bv3KyhtJ.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case gs.connecting:return Wt.Connecting;case gs.open:return Wt.Open;case gs.closing:return Wt.Closing;default:return Wt.Closed}}isConnected(){return this.connectionState()===Wt.Open}channel(e,s={config:{}}){const r=new pi(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(nt.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xf}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;(o&&o===this.pendingHeartbeatRef||n===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(nt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Zf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([cp],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class dp{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=gs.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class gi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hp extends gi{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fn extends gi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var fp=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const yl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>_s(async()=>{const{default:r}=await Promise.resolve().then(()=>ws);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},pp=()=>fp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _s(()=>Promise.resolve().then(()=>ws),void 0)).Response:Response}),Bn=t=>{if(Array.isArray(t))return t.map(s=>Bn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Bn(r)}),e};var Xt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const hn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gp=(t,e,s)=>Xt(void 0,void 0,void 0,function*(){const r=yield pp();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new hp(hn(n),t.status||500))}).catch(n=>{e(new Fn(hn(n),n))}):e(new Fn(hn(t),t))}),mp=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function sr(t,e,s,r,n,i){return Xt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,mp(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>gp(l,a,r))})})}function Pr(t,e,s,r){return Xt(this,void 0,void 0,function*(){return sr(t,"GET",e,s,r)})}function Mt(t,e,s,r,n){return Xt(this,void 0,void 0,function*(){return sr(t,"POST",e,r,n,s)})}function vp(t,e,s,r,n){return Xt(this,void 0,void 0,function*(){return sr(t,"PUT",e,r,n,s)})}function yp(t,e,s,r){return Xt(this,void 0,void 0,function*(){return sr(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function _l(t,e,s,r,n){return Xt(this,void 0,void 0,function*(){return sr(t,"DELETE",e,r,n,s)})}var Ue=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const _p={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},To={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bp{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=yl(n)}uploadOrUpdate(e,s,r,n){return Ue(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},To),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(xe(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:To.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(xe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Mt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new gi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}update(e,s,r){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Mt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Ue(this,void 0,void 0,function*(){try{const n=yield Mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}download(e,s){return Ue(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Pr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}info(e){return Ue(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Pr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Bn(r),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}exists(e){return Ue(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield yp(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(xe(r)&&r instanceof Fn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}list(e,s,r){return Ue(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},_p),s),{prefix:e||""});return{data:yield Mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const wp="2.7.1",xp={"X-Client-Info":`storage-js/${wp}`};var ss=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class kp{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},xp),s),this.fetch=yl(r)}listBuckets(){return ss(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(xe(e))return{data:null,error:e};throw e}})}getBucket(e){return ss(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return ss(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return ss(this,void 0,void 0,function*(){try{return{data:yield vp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ss(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return ss(this,void 0,void 0,function*(){try{return{data:yield _l(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}}class Sp extends kp{constructor(e,s={},r){super(e,s,r)}from(e){return new bp(this.url,this.headers,e,this.fetch)}}const Ep="2.46.1";let Os="";typeof Deno<"u"?Os="deno":typeof document<"u"?Os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Os="react-native":Os="node";const Cp={"X-Client-Info":`supabase-js-${Os}/${Ep}`},Pp={headers:Cp},Tp={schema:"public"},$p={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Op={};var Ap=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Rp=t=>{let e;return t?e=t:typeof fetch>"u"?e=rl:e=fetch,(...s)=>e(...s)},Ip=()=>typeof Headers>"u"?nl:Headers,jp=(t,e,s)=>{const r=Rp(s),n=Ip();return(i,o)=>Ap(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Mp=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Lp(t){return t.replace(/\/$/,"")}function Dp(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Mp(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const bl="2.65.1",Np="http://localhost:9999",Up="supabase.auth.token",Fp={"X-Client-Info":`gotrue-js/${bl}`},$o=10,Hn="X-Supabase-Api-Version",wl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Bp(t){return Math.round(Date.now()/1e3)+t}function Hp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const rt=()=>typeof document<"u",Gt={tested:!1,writable:!1},Fs=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function fn(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const xl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>_s(async()=>{const{default:r}=await Promise.resolve().then(()=>ws);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},zp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kl=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},or=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ar=async(t,e)=>{await t.removeItem(e)};function Gp(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class Qr{constructor(){this.promise=new Qr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Qr.promiseConstructor=Promise;function Oo(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(Gp(r))}async function Kp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qp(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Vp(t){return("0"+t.toString(16)).substr(-2)}function Wp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Vp).join("")}async function Jp(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Qp(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Jp(t);return Qp(s)}async function rs(t,e,s=!1){const r=Wp();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await kl(t,`${e}-code-verifier`,n);const i=await Yp(r);return[i,r===i?"plain":"s256"]}const Xp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zp(t){const e=t.headers.get(Hn);if(!e||!e.match(Xp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class mi extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function Q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class eg extends mi{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function tg(t){return Q(t)&&t.name==="AuthApiError"}class Sl extends mi{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Zt extends mi{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class $t extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sg(t){return Q(t)&&t.name==="AuthSessionMissingError"}class pn extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lr extends Zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cr extends Zt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ao extends Zt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zn extends Zt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function gn(t){return Q(t)&&t.name==="AuthRetryableFetchError"}class Ro extends Zt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var rg=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ng=[502,503,504];async function Io(t){var e;if(!zp(t))throw new zn(qt(t),0);if(ng.includes(t.status))throw new zn(qt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Sl(qt(i),i)}let r;const n=Zp(t);if(n&&n.getTime()>=wl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Ro(qt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new $t}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ro(qt(s),t.status,s.weak_password.reasons);throw new eg(qt(s),t.status||500,r)}const ig=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function ee(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Hn]||(i[Hn]=wl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await og(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function og(t,e,s,r,n,i){const o=ig(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new zn(qt(l),0)}if(a.ok||await Io(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Io(l)}}function Ot(t){var e;let s=null;ug(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Bp(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function jo(t){const e=Ot(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Lt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ag(t){return{data:t,error:null}}function lg(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=rg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function cg(t){return t}function ug(t){return t.access_token&&t.refresh_token&&t.expires_in}var dg=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class hg{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=xl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Lt})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=dg(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:lg,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lt})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:cg});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);u[`${C}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lt})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Lt})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Lt})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}}const fg={getItem:t=>Fs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Fs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Fs()&&globalThis.localStorage.removeItem(t)}};function Mo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function pg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ns={debug:!!(globalThis&&Fs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class El extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gg extends El{}async function mg(t,e,s){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ns.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}pg();const vg={url:Np,storageKey:Up,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ts=30*1e3,Lo=3;async function Do(t,e,s){return await s()}class Qs{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qs.nextInstanceID,Qs.nextInstanceID+=1,this.instanceID>0&&rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},vg),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new hg({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=xl(n.fetch),this.lock=n.lock||Do,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:rt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=mg:this.lock=Do,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Fs()?this.storage=fg:(this.memoryStorage={},this.storage=Mo(this.memoryStorage)):(this.memoryStorage={},this.storage=Mo(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=rt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:n,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Q(e)?{error:e}:{error:new Sl("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ot}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let f=null,w=null;this.flowType==="pkce"&&([f,w]=await rs(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:w},xform:Ot})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(n=h==null?void 0:h.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ot})}else throw new lr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jo})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jo})}else throw new lr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new pn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await or(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ot});if(await ar(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ot}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await rs(this.storage,this.storageKey));const{error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new lr("You must provide either an email or phone number.")}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ot});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await rs(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ag})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new $t;const{error:n}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(Q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await ee(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await ee(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new lr("You must provide either an email or phone number and a type")}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Lt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Lt})})}catch(s){if(Q(s))return sg(s)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new $t;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await rs(this.storage,this.storageKey));const{data:u,error:c}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Lt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Oo(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=Oo(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(Q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new $t;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!rt())throw new cr("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new cr("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Ao("Not a valid PKCE flow url.");const s=fn(window.location.href);if(e){if(!s.code)throw new Ao("No code detected.");const{data:j,error:E}=await this._exchangeCodeForSession(s.code);if(E)throw E;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:j.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new cr(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=s;if(!i||!a||!o||!u)throw new cr("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=Ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const w=h-d;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,c);const{data:x,error:C}=await this._getUser(i);if(C)throw C;const A={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:s.type},error:null}}catch(s){if(Q(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=fn(window.location.href);return!!(rt()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=fn(window.location.href),s=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(tg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Hp(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await rs(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return rt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Q(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await qp(async n=>(n>0&&await Kp(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ot})),(n,i)=>{const o=200*Math.pow(2,n);return i&&gn(i)&&Date.now()+o-r<Ts})}catch(r){if(this._debug(s,"error",r),Q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),rt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await or(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+$o;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${$o}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),gn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Qr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new $t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),Q(i)){const o={session:null,error:i};return gn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await kl(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ar(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ts);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ts}ms, refresh threshold is ${Lo} ticks`),n<=Lo&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof El)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await rs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(Q(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Qs.nextInstanceID=0;const yg=Qs;class _g extends yg{constructor(e){super(e)}}var bg=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class wg{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Lp(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Tp,realtime:Op,auth:Object.assign(Object.assign({},$p),{storageKey:l}),global:Pp},c=Dp(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=jp(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new Jf(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Sf(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Sp(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return bg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){var d;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _g({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new up(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xg=(t,e,s)=>new wg(t,e,s),kg="https://gjpngalenvnzqrgyffse.supabase.co",Sg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdqcG5nYWxlbnZuenFyZ3lmZnNlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzIzMDYzMjMsImV4cCI6MjA0Nzg4MjMyM30.ISJxOoDO7v4INrdYXgLtTnA78H_JegITW-PJ75xDkaE",kt=xg(kg,Sg);var Gn={exports:{}},No=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(No){var Uo=new Uint8Array(16);Gn.exports=function(){return No(Uo),Uo}}else{var Fo=new Array(16);Gn.exports=function(){for(var e=0,s;e<16;e++)e&3||(s=Math.random()*4294967296),Fo[e]=s>>>((e&3)<<3)&255;return Fo}}var Cl=Gn.exports,Pl=[];for(var ur=0;ur<256;++ur)Pl[ur]=(ur+256).toString(16).substr(1);function Eg(t,e){var s=e||0,r=Pl;return[r[t[s++]],r[t[s++]],r[t[s++]],r[t[s++]],"-",r[t[s++]],r[t[s++]],"-",r[t[s++]],r[t[s++]],"-",r[t[s++]],r[t[s++]],"-",r[t[s++]],r[t[s++]],r[t[s++]],r[t[s++]],r[t[s++]],r[t[s++]]].join("")}var Tl=Eg,Cg=Cl,Pg=Tl,Bo,mn,vn=0,yn=0;function Tg(t,e,s){var r=e&&s||0,n=e||[];t=t||{};var i=t.node||Bo,o=t.clockseq!==void 0?t.clockseq:mn;if(i==null||o==null){var a=Cg();i==null&&(i=Bo=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=mn=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:new Date().getTime(),u=t.nsecs!==void 0?t.nsecs:yn+1,c=l-vn+(u-yn)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||l>vn)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");vn=l,yn=u,mn=o,l+=122192928e5;var d=((l&268435455)*1e4+u)%4294967296;n[r++]=d>>>24&255,n[r++]=d>>>16&255,n[r++]=d>>>8&255,n[r++]=d&255;var h=l/4294967296*1e4&268435455;n[r++]=h>>>8&255,n[r++]=h&255,n[r++]=h>>>24&15|16,n[r++]=h>>>16&255,n[r++]=o>>>8|128,n[r++]=o&255;for(var f=0;f<6;++f)n[r+f]=i[f];return e||Pg(n)}var $g=Tg,Og=Cl,Ag=Tl;function Rg(t,e,s){var r=e&&s||0;typeof t=="string"&&(e=t==="binary"?new Array(16):null,t=null),t=t||{};var n=t.random||(t.rng||Og)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e)for(var i=0;i<16;++i)e[r+i]=n[i];return e||Ag(n)}var Ig=Rg,jg=$g,$l=Ig,vi=$l;vi.v1=jg;vi.v4=$l;var Mg=vi;const Ho=()=>{let t=localStorage.getItem("device_id");return t||(t=Mg.v4(),localStorage.setItem("device_id",t)),t},dr={async deleteBackup(t){const{error:e}=await kt.from("game_backups").delete().eq("id",t)},async backupGames(t){var a;const e=Ho(),s=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]"),r=JSON.parse(localStorage.getItem("yatzyGameState")||"null"),n=[...new Set([...s.flatMap(l=>l.players.map(u=>u.name)),...((a=r==null?void 0:r.players)==null?void 0:a.map(l=>l.name))||[]])],{data:i,error:o}=await kt.from("game_backups").insert({device_id:e,game_data:{history:s,currentGame:r},description:t,player_names:n}).select().single();if(o)throw o;return i},async getBackups(){const t=Ho(),{data:e,error:s}=await kt.from("game_backups").select("*").eq("device_id",t).order("created_at",{ascending:!1});if(s)throw s;return e},async restoreBackup(t){const{data:e,error:s}=await kt.from("game_backups").select("game_data").eq("id",t).single();if(s)throw s;return e.game_data.currentGame&&localStorage.setItem("yatzyGameState",JSON.stringify(e.game_data.currentGame)),localStorage.setItem("yatzyGameHistory",JSON.stringify(e.game_data.history)),e}},Lg={key:0,class:"mt-4"},Dg={class:"space-y-2"},Ng={class:"flex justify-between items-start"},Ug={class:"text-sm text-gray-500"},Fg={class:"text-sm mt-1"},Bg={key:0,class:"text-sm italic mt-1"},Hg={class:"flex gap-2"},zg=["onClick"],Gg=["onClick"],Kg=mt({__name:"BackupManager",setup(t){const e=W([]),s=async()=>{try{e.value=await dr.getBackups()}catch(o){console.error("Failed to load backups:",o)}},r=async o=>{if(confirm("Are you sure you want to delete this backup?"))try{await dr.deleteBackup(o),await s()}catch(a){console.error("Failed to delete backup:",a)}},n=async()=>{const o=prompt("Add a description for this backup (optional):");try{await dr.backupGames(o||void 0),await s()}catch(a){console.error("Failed to create backup:",a)}},i=async o=>{if(confirm("Are you sure you want to restore this backup? Current game data will be replaced."))try{await dr.restoreBackup(o),window.location.reload()}catch(a){console.error("Failed to restore backup:",a)}};return et(s),(o,a)=>($(),I("div",null,[g("button",{onClick:n,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded dark:bg-blue-600 dark:hover:bg-blue-700"}," Backup Games "),e.value.length>0?($(),I("div",Lg,[a[0]||(a[0]=g("h3",{class:"text-lg font-bold mb-2"},"Previous Backups",-1)),g("div",Dg,[($(!0),I(Y,null,fe(e.value,l=>($(),I("div",{key:l.id,class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow"},[g("div",Ng,[g("div",null,[g("div",Ug,U(new Date(l.created_at).toLocaleString()),1),g("div",Fg," Players: "+U(l.player_names.join(", ")),1),l.description?($(),I("div",Bg,U(l.description),1)):pe("",!0)]),g("div",Hg,[g("button",{onClick:u=>i(l.id),class:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm"}," Restore ",8,zg),g("button",{onClick:u=>r(l.id),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm"}," Delete ",8,Gg)])])]))),128))])])):pe("",!0)]))}}),qg={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Vg={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20"},Wg={class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-2xl w-full"},Jg={class:"space-y-4"},Qg={class:"flex justify-end mt-6"},Yg=mt({__name:"PrivacyPolicy",props:{show:{type:Boolean}},emits:["close"],setup(t){return(e,s)=>e.show?($(),I("div",qg,[g("div",Vg,[g("div",{class:"fixed inset-0 bg-black opacity-50",onClick:s[0]||(s[0]=r=>e.$emit("close"))}),g("div",Wg,[g("div",Jg,[s[2]||(s[2]=$n('<h2 class="text-2xl font-bold dark:text-white">Privacy Policy &amp; Data Usage</h2><div class="space-y-4 text-gray-600 dark:text-gray-300"><section><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Local Data Storage</h3><ul class="list-disc pl-5 space-y-1"><li>Game data is primarily stored locally on your device using browser&#39;s localStorage</li><li>No personal data is collected or tracked</li><li>Game history remains on your device until you clear it</li></ul></section><section><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Cloud Backups</h3><ul class="list-disc pl-5 space-y-1"><li>Optional backup feature stores your game data on our servers</li><li>Backups include: <ul class="list-circle pl-5 mt-1"><li>Game history</li><li>Player names</li><li>Scores</li><li>Optional backup descriptions</li></ul></li><li>Each device gets a unique anonymous ID</li><li>You can delete your backups at any time</li><li>Backups are stored securely using Supabase</li></ul></section><section><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Score Sharing</h3><ul class="list-disc pl-5 space-y-1"><li>When sharing scores, only game-related data is stored: <ul class="list-circle pl-5 mt-1"><li>Player names</li><li>Game scores</li><li>Timestamps</li></ul></li><li>Shared scores are automatically deleted after 24 hours</li><li>No tracking or analytics are performed on shared scores</li></ul></section><section><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Data Security</h3><ul class="list-disc pl-5 space-y-1"><li>All server communication is encrypted using HTTPS</li><li>Backups are only accessible with your device ID</li><li>No passwords or personal information are stored</li><li>Data is hosted in EU-based servers</li></ul></section><section><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Your Rights</h3><ul class="list-disc pl-5 space-y-1"><li>You can clear all local data using browser settings</li><li>You can delete your backups within the app</li><li>You can request deletion of all your data</li><li>No data is shared with third parties</li></ul></section><section><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-100 mb-2">Contact</h3><p>For any privacy-related questions or data deletion requests, please contact:</p><p class="font-medium mt-1">jatsapp@annunen.fi</p></section></div>',2)),g("div",Qg,[g("button",{onClick:s[1]||(s[1]=r=>e.$emit("close")),class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700"}," Close ")])])])])])):pe("",!0)}}),Xg={class:"max-w-md mx-auto p-4"},Zg={class:"mb-8 text-center"},e0={key:0,class:"mt-4 text-left bg-gray-50 dark:bg-gray-800 p-4 rounded-lg"},t0={class:"space-y-4"},s0={key:3,class:"space-y-4"},r0={class:"mt-8 border-t pt-8 dark:border-gray-700"},n0={class:"mt-8 py-4 border-t border-gray-200 dark:border-gray-700"},i0={class:"container mx-auto px-4 text-center text-sm text-gray-500 dark:text-gray-400"},o0={class:"mb-2"},a0={__name:"HomeView",setup(t){const e=er(),s=W(!1),r=W(!1),n=W(!1),i=W(!1),o=W(!1);et(()=>{const u=localStorage.getItem("yatzyGameState");s.value=!!u;const c=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]");r.value=c.length>0});const a=()=>{s.value?confirm("Do you want to start a new game? Current game progress will be lost.")&&(localStorage.removeItem("yatzyGameState"),e.push("/game")):e.push("/game")},l=()=>{e.push("/game")};return(u,c)=>($(),I(Y,null,[g("div",Xg,[g("div",Zg,[c[5]||(c[5]=$n('<h1 class="text-2xl font-bold mb-4">Welcome to JatsApp! </h1><p class="text-gray-600 dark:text-gray-300 mb-2"> A modern Yatzy score tracker that works offline and saves your game history. </p><div class="text-sm text-gray-500 dark:text-gray-400 space-y-1"><p>✓ Save and continue games later</p><p>✓ Track player statistics</p><p>✓ View game history</p><p>✓ Works offline</p><p>✓ Share scores with friends and update them in real-time (shared scores are deleted after 24 hours)</p><p>✓ No cookies, no trackers</p><p>✓ Backup and restore your game data, check privacy policy for more info</p><p>* If you like the app, you can donate ETH to <a href="https://etherscan.io/address/0xdBeF8b4da833CC5257335f706d0070981A01eF69" target="_blank" class="text-blue-500 hover:text-blue-600 dark:text-blue-400 underline">0xdBeF8b4da833CC5257335f706d0070981A01eF69</a></p></div>',3)),g("button",{onClick:c[0]||(c[0]=d=>i.value=!i.value),class:"mt-4 text-blue-500 hover:text-blue-600 dark:text-blue-400 text-sm"},U(i.value?"Hide Game Info":"Show Game Info"),1),i.value?($(),I("div",e0,c[4]||(c[4]=[$n('<h3 class="font-bold mb-2 text-gray-800 dark:text-gray-200">About Yatzy</h3><p class="text-sm text-gray-600 dark:text-gray-300 mb-4"> Yatzy is a dice game where players roll five dice and try to score points in different categories. </p><h4 class="font-bold mb-1 text-gray-800 dark:text-gray-200">Upper Section Scoring</h4><ul class="text-sm text-gray-600 dark:text-gray-300 mb-3 list-disc pl-4 space-y-1"><li>Ones to Sixes: Sum of respective dice</li><li>Bonus: 50 points if upper section ≥ 63</li></ul><h4 class="font-bold mb-1 text-gray-800 dark:text-gray-200">Lower Section Scoring</h4><ul class="text-sm text-gray-600 dark:text-gray-300 list-disc pl-4 space-y-1"><li>One Pair: Two dice showing same face</li><li>Two Pairs: Two different pairs</li><li>Three of a Kind: Three dice showing same face</li><li>Four of a Kind: Four dice showing same face</li><li>Full House: Three of a kind + pair (25 points)</li><li>Small Straight: 1-2-3-4-5 (15 points)</li><li>Large Straight: 2-3-4-5-6 (20 points)</li><li>Yahtzee: All five dice showing same face (50 points)</li><li>Chance: Sum of all dice</li></ul>',6)]))):pe("",!0)]),g("div",t0,[r.value?($(),Ks(mf,{key:0})):pe("",!0),g("button",{onClick:a,class:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg font-bold text-lg dark:bg-green-600 dark:hover:bg-green-700"}," New Game "),s.value?($(),I("button",{key:1,onClick:l,class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-lg font-bold text-lg dark:bg-blue-600 dark:hover:bg-blue-700"}," Continue Game ")):pe("",!0),r.value?($(),I("button",{key:2,onClick:c[1]||(c[1]=d=>n.value=!n.value),class:"w-full bg-purple-500 hover:bg-purple-600 text-white px-4 py-3 rounded-lg font-bold text-lg dark:bg-purple-600 dark:hover:bg-purple-700"},U(n.value?"Hide History":"Show History"),1)):pe("",!0),n.value&&r.value?($(),I("div",s0,[c[6]||(c[6]=g("h2",{class:"text-xl font-bold"},"Statistics",-1)),ae(Eh),c[7]||(c[7]=g("h2",{class:"text-xl font-bold mt-6"},"Game History",-1)),ae(qh)])):pe("",!0)]),g("div",r0,[c[8]||(c[8]=g("h2",{class:"text-xl font-bold mb-1"},"Backup & Restore",-1)),c[9]||(c[9]=g("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-2"},' As Leisuresuit Larry would say: "Save early, save often!" ',-1)),ae(Kg)])]),g("footer",n0,[g("div",i0,[g("p",o0,[c[10]||(c[10]=xt(" From a slave of Yatzy to slaves of Yatzy ")),c[11]||(c[11]=g("br",null,null,-1)),c[12]||(c[12]=xt(" We don't use cookies, we don't use trackers. See our ")),g("button",{onClick:c[2]||(c[2]=d=>o.value=!0),class:"text-blue-500 hover:text-blue-600 dark:text-blue-400 ml-2 underline"}," privacy Policy "),c[13]||(c[13]=xt(" for more info. "))]),c[14]||(c[14]=g("p",{class:"text-xs italic"},[xt(` "In Yatzy, as in life, it's not about the rolls you get, but how you use them." `),g("br"),xt(" - Ancient Dice Wisdom (probably) ")],-1))])]),ae(Yg,{show:o.value,onClose:c[3]||(c[3]=d=>o.value=!1)},null,8,["show"])],64))}},l0={class:"max-w-md mx-auto p-4"},c0={key:1,class:"mb-4 space-y-2"},u0={class:"relative"},d0=["value"],h0={class:"flex gap-2 mb-2"},f0={class:"mt-2 space-y-2"},p0=["onClick"],g0={class:"flex gap-2 mt-4"},m0=["disabled"],v0={__name:"PlayerSetup",emits:["players-added"],setup(t,{emit:e}){const s=er(),r=e,n=W(""),i=W([]),o=W(!1),a=W([]),l=W([]),u=W(""),c=Re(()=>{const E=new Set;return l.value.forEach(k=>{k.players.forEach(D=>{E.add(D.name)})}),Array.from(E)});et(()=>{const E=localStorage.getItem("yatzyGameState");o.value=!!E,l.value=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]").sort((k,D)=>new Date(D.timestamp)-new Date(k.timestamp)),l.value.length>0&&(a.value=l.value[0].players.map(k=>k.name))});const d=E=>{const k=new Date(E.timestamp).toLocaleDateString(),D=E.players.map(J=>J.name).join(", ");return`${k}: ${D}`},h=()=>{localStorage.removeItem("yatzyGameState"),window.location.reload()},f=()=>{i.value=[...a.value]},w=()=>{const E=l.value[u.value];E&&(i.value=E.players.map(k=>k.name))},x=()=>{n.value.trim()&&(i.value.push(n.value.trim()),n.value="")},C=E=>{i.value.splice(E,1)},A=()=>{r("players-added",i.value)},j=()=>{s.push("/")};return(E,k)=>($(),I("div",l0,[o.value?($(),I("button",{key:0,onClick:h,class:"mb-4 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700"}," Start a new game ")):pe("",!0),c.value.length>0&&i.value.length===0?($(),I("div",c0,[a.value.length>0?($(),I("button",{key:0,onClick:f,class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded dark:bg-blue-600 dark:hover:bg-blue-700"}," Use last game players: "+U(a.value.join(", ")),1)):pe("",!0),g("div",u0,[wr(g("select",{"onUpdate:modelValue":k[0]||(k[0]=D=>u.value=D),class:"w-full bg-gray-100 border border-gray-300 px-4 py-2 rounded dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100"},[k[2]||(k[2]=g("option",{value:""},"Select from historic games...",-1)),($(!0),I(Y,null,fe(l.value,(D,J)=>($(),I("option",{key:J,value:J},U(d(D)),9,d0))),128))],512),[[Wu,u.value]]),u.value!==""?($(),I("button",{key:0,onClick:w,class:"mt-2 w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded dark:bg-blue-600 dark:hover:bg-blue-700"}," Use selected players ")):pe("",!0)])])):pe("",!0),k[3]||(k[3]=g("h2",{class:"text-xl mb-2"},"Add Players",-1)),g("div",h0,[wr(g("input",{"onUpdate:modelValue":k[1]||(k[1]=D=>n.value=D),placeholder:"Enter player name",class:"flex-1 border p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100",onKeyup:In(x,["enter"])},null,544),[[Rn,n.value]]),g("button",{onClick:x,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded dark:bg-blue-600 dark:hover:bg-blue-700"}," Add ")]),g("ul",f0,[($(!0),I(Y,null,fe(i.value,(D,J)=>($(),I("li",{key:D,class:"flex justify-between items-center bg-gray-100 dark:bg-gray-800 p-2 rounded"},[g("span",null,U(D),1),g("button",{onClick:V=>C(J),class:"text-red-500 hover:text-red-600 dark:text-red-400"}," × ",8,p0)]))),128))]),g("div",g0,[g("button",{onClick:A,class:"flex-1 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded dark:bg-green-600 dark:hover:bg-green-700",disabled:i.value.length===0}," Start Game ",8,m0),g("button",{onClick:j,class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded dark:bg-gray-600 dark:hover:bg-gray-700"}," Cancel ")])]))}};function y0(){const t=W([]);return et(()=>{const r=JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]");t.value=r}),{getAverageForCategory:r=>{let n=0,i=0;return t.value.forEach(o=>{o.players.forEach(a=>{a.scores[r]!==void 0&&a.scores[r]!=="-"&&!isNaN(parseInt(a.scores[r]))&&(n+=parseInt(a.scores[r]),i++)})}),i>0?n/i:0},formatAverage:r=>r.toFixed(1)}}const _0={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},b0={class:"flex items-center justify-center min-h-screen px-4"},w0={class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm w-full"},x0={class:"flex flex-col gap-4"},k0={class:"text-lg font-bold dark:text-white"},S0={class:"flex justify-end gap-2"},_n={__name:"Modal",props:{show:Boolean,title:String},setup(t){return(e,s)=>t.show?($(),I("div",_0,[g("div",b0,[s[0]||(s[0]=g("div",{class:"fixed inset-0 bg-black opacity-50"},null,-1)),g("div",w0,[g("div",x0,[g("h3",k0,U(t.title),1),Ai(e.$slots,"default"),g("div",S0,[Ai(e.$slots,"actions")])])])])])):pe("",!0)}};/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var ht=function(){return ht=Object.assign||function(e){for(var s,r=1,n=arguments.length;r<n;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},ht.apply(this,arguments)};var Yt;(function(t){var e=function(){function o(a,l,u,c){if(this.version=a,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=a*4+17;for(var d=[],h=0;h<this.size;h++)d.push(!1);for(var h=0;h<this.size;h++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();var f=this.addEccAndInterleave(u);if(this.drawCodewords(f),c==-1)for(var w=1e9,h=0;h<8;h++){this.applyMask(h),this.drawFormatBits(h);var x=this.getPenaltyScore();x<w&&(c=h,w=x),this.applyMask(h)}n(0<=c&&c<=7),this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}return o.encodeText=function(a,l){var u=t.QrSegment.makeSegments(a);return o.encodeSegments(u,l)},o.encodeBinary=function(a,l){var u=t.QrSegment.makeBytes(a);return o.encodeSegments([u],l)},o.encodeSegments=function(a,l,u,c,d,h){if(u===void 0&&(u=1),c===void 0&&(c=40),d===void 0&&(d=-1),h===void 0&&(h=!0),!(o.MIN_VERSION<=u&&u<=c&&c<=o.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");var f,w;for(f=u;;f++){var x=o.getNumDataCodewords(f,l)*8,C=i.getTotalBits(a,f);if(C<=x){w=C;break}if(f>=c)throw new RangeError("Data too long")}for(var A=0,j=[o.Ecc.MEDIUM,o.Ecc.QUARTILE,o.Ecc.HIGH];A<j.length;A++){var E=j[A];h&&w<=o.getNumDataCodewords(f,E)*8&&(l=E)}for(var k=[],D=0,J=a;D<J.length;D++){var V=J[D];s(V.mode.modeBits,4,k),s(V.numChars,V.mode.numCharCountBits(f),k);for(var ge=0,ve=V.getData();ge<ve.length;ge++){var we=ve[ge];k.push(we)}}n(k.length==w);var Ee=o.getNumDataCodewords(f,l)*8;n(k.length<=Ee),s(0,Math.min(4,Ee-k.length),k),s(0,(8-k.length%8)%8,k),n(k.length%8==0);for(var _e=236;k.length<Ee;_e^=253)s(_e,8,k);for(var ye=[];ye.length*8<k.length;)ye.push(0);return k.forEach(function(tt,He){return ye[He>>>3]|=tt<<7-(He&7)}),new o(f,l,ye,d)},o.prototype.getModule=function(a,l){return 0<=a&&a<this.size&&0<=l&&l<this.size&&this.modules[l][a]},o.prototype.getModules=function(){return this.modules},o.prototype.drawFunctionPatterns=function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var l=this.getAlignmentPatternPositions(),u=l.length,a=0;a<u;a++)for(var c=0;c<u;c++)a==0&&c==0||a==0&&c==u-1||a==u-1&&c==0||this.drawAlignmentPattern(l[a],l[c]);this.drawFormatBits(0),this.drawVersion()},o.prototype.drawFormatBits=function(a){for(var l=this.errorCorrectionLevel.formatBits<<3|a,u=l,c=0;c<10;c++)u=u<<1^(u>>>9)*1335;var d=(l<<10|u)^21522;n(d>>>15==0);for(var c=0;c<=5;c++)this.setFunctionModule(8,c,r(d,c));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(var c=9;c<15;c++)this.setFunctionModule(14-c,8,r(d,c));for(var c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,r(d,c));for(var c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,r(d,c));this.setFunctionModule(8,this.size-8,!0)},o.prototype.drawVersion=function(){if(!(this.version<7)){for(var a=this.version,l=0;l<12;l++)a=a<<1^(a>>>11)*7973;var u=this.version<<12|a;n(u>>>18==0);for(var l=0;l<18;l++){var c=r(u,l),d=this.size-11+l%3,h=Math.floor(l/3);this.setFunctionModule(d,h,c),this.setFunctionModule(h,d,c)}}},o.prototype.drawFinderPattern=function(a,l){for(var u=-4;u<=4;u++)for(var c=-4;c<=4;c++){var d=Math.max(Math.abs(c),Math.abs(u)),h=a+c,f=l+u;0<=h&&h<this.size&&0<=f&&f<this.size&&this.setFunctionModule(h,f,d!=2&&d!=4)}},o.prototype.drawAlignmentPattern=function(a,l){for(var u=-2;u<=2;u++)for(var c=-2;c<=2;c++)this.setFunctionModule(a+c,l+u,Math.max(Math.abs(c),Math.abs(u))!=1)},o.prototype.setFunctionModule=function(a,l,u){this.modules[l][a]=u,this.isFunction[l][a]=!0},o.prototype.addEccAndInterleave=function(a){var l=this.version,u=this.errorCorrectionLevel;if(a.length!=o.getNumDataCodewords(l,u))throw new RangeError("Invalid argument");for(var c=o.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l],d=o.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l],h=Math.floor(o.getNumRawDataModules(l)/8),f=c-h%c,w=Math.floor(h/c),x=[],C=o.reedSolomonComputeDivisor(d),A=0,j=0;A<c;A++){var E=a.slice(j,j+w-d+(A<f?0:1));j+=E.length;var k=o.reedSolomonComputeRemainder(E,C);A<f&&E.push(0),x.push(E.concat(k))}for(var D=[],J=function(V){x.forEach(function(ge,ve){(V!=w-d||ve>=f)&&D.push(ge[V])})},A=0;A<x[0].length;A++)J(A);return n(D.length==h),D},o.prototype.drawCodewords=function(a){if(a.length!=Math.floor(o.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var l=0,u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(var c=0;c<this.size;c++)for(var d=0;d<2;d++){var h=u-d,f=(u+1&2)==0,w=f?this.size-1-c:c;!this.isFunction[w][h]&&l<a.length*8&&(this.modules[w][h]=r(a[l>>>3],7-(l&7)),l++)}}n(l==a.length*8)},o.prototype.applyMask=function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var l=0;l<this.size;l++)for(var u=0;u<this.size;u++){var c=void 0;switch(a){case 0:c=(u+l)%2==0;break;case 1:c=l%2==0;break;case 2:c=u%3==0;break;case 3:c=(u+l)%3==0;break;case 4:c=(Math.floor(u/3)+Math.floor(l/2))%2==0;break;case 5:c=u*l%2+u*l%3==0;break;case 6:c=(u*l%2+u*l%3)%2==0;break;case 7:c=((u+l)%2+u*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][u]&&c&&(this.modules[l][u]=!this.modules[l][u])}},o.prototype.getPenaltyScore=function(){for(var a=0,l=0;l<this.size;l++){for(var u=!1,c=0,d=[0,0,0,0,0,0,0],h=0;h<this.size;h++)this.modules[l][h]==u?(c++,c==5?a+=o.PENALTY_N1:c>5&&a++):(this.finderPenaltyAddHistory(c,d),u||(a+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),u=this.modules[l][h],c=1);a+=this.finderPenaltyTerminateAndCount(u,c,d)*o.PENALTY_N3}for(var h=0;h<this.size;h++){for(var u=!1,f=0,d=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[l][h]==u?(f++,f==5?a+=o.PENALTY_N1:f>5&&a++):(this.finderPenaltyAddHistory(f,d),u||(a+=this.finderPenaltyCountPatterns(d)*o.PENALTY_N3),u=this.modules[l][h],f=1);a+=this.finderPenaltyTerminateAndCount(u,f,d)*o.PENALTY_N3}for(var l=0;l<this.size-1;l++)for(var h=0;h<this.size-1;h++){var w=this.modules[l][h];w==this.modules[l][h+1]&&w==this.modules[l+1][h]&&w==this.modules[l+1][h+1]&&(a+=o.PENALTY_N2)}for(var x=0,C=0,A=this.modules;C<A.length;C++){var j=A[C];x=j.reduce(function(D,J){return D+(J?1:0)},x)}var E=this.size*this.size,k=Math.ceil(Math.abs(x*20-E*10)/E)-1;return n(0<=k&&k<=9),a+=k*o.PENALTY_N4,n(0<=a&&a<=2568888),a},o.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,l=Math.floor((this.version*8+a*3+5)/(a*4-4))*2,u=[6],c=this.size-7;u.length<a;c-=l)u.splice(1,0,c);return u},o.getNumRawDataModules=function(a){if(a<o.MIN_VERSION||a>o.MAX_VERSION)throw new RangeError("Version number out of range");var l=(16*a+128)*a+64;if(a>=2){var u=Math.floor(a/7)+2;l-=(25*u-10)*u-55,a>=7&&(l-=36)}return n(208<=l&&l<=29648),l},o.getNumDataCodewords=function(a,l){return Math.floor(o.getNumRawDataModules(a)/8)-o.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a]*o.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a]},o.reedSolomonComputeDivisor=function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var l=[],u=0;u<a-1;u++)l.push(0);l.push(1);for(var c=1,u=0;u<a;u++){for(var d=0;d<l.length;d++)l[d]=o.reedSolomonMultiply(l[d],c),d+1<l.length&&(l[d]^=l[d+1]);c=o.reedSolomonMultiply(c,2)}return l},o.reedSolomonComputeRemainder=function(a,l){for(var u=l.map(function(w){return 0}),c=function(w){var x=w^u.shift();u.push(0),l.forEach(function(C,A){return u[A]^=o.reedSolomonMultiply(C,x)})},d=0,h=a;d<h.length;d++){var f=h[d];c(f)}return u},o.reedSolomonMultiply=function(a,l){if(a>>>8||l>>>8)throw new RangeError("Byte out of range");for(var u=0,c=7;c>=0;c--)u=u<<1^(u>>>7)*285,u^=(l>>>c&1)*a;return n(u>>>8==0),u},o.prototype.finderPenaltyCountPatterns=function(a){var l=a[1];n(l<=this.size*3);var u=l>0&&a[2]==l&&a[3]==l*3&&a[4]==l&&a[5]==l;return(u&&a[0]>=l*4&&a[6]>=l?1:0)+(u&&a[6]>=l*4&&a[0]>=l?1:0)},o.prototype.finderPenaltyTerminateAndCount=function(a,l,u){return a&&(this.finderPenaltyAddHistory(l,u),l=0),l+=this.size,this.finderPenaltyAddHistory(l,u),this.finderPenaltyCountPatterns(u)},o.prototype.finderPenaltyAddHistory=function(a,l){l[0]==0&&(a+=this.size),l.pop(),l.unshift(a)},o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],o}();t.QrCode=e;function s(o,a,l){if(a<0||a>31||o>>>a)throw new RangeError("Value out of range");for(var u=a-1;u>=0;u--)l.push(o>>>u&1)}function r(o,a){return(o>>>a&1)!=0}function n(o){if(!o)throw new Error("Assertion error")}var i=function(){function o(a,l,u){if(this.mode=a,this.numChars=l,this.bitData=u,l<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}return o.makeBytes=function(a){for(var l=[],u=0,c=a;u<c.length;u++){var d=c[u];s(d,8,l)}return new o(o.Mode.BYTE,a.length,l)},o.makeNumeric=function(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var l=[],u=0;u<a.length;){var c=Math.min(a.length-u,3);s(parseInt(a.substring(u,u+c),10),c*3+1,l),u+=c}return new o(o.Mode.NUMERIC,a.length,l)},o.makeAlphanumeric=function(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l=[],u;for(u=0;u+2<=a.length;u+=2){var c=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u))*45;c+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u+1)),s(c,11,l)}return u<a.length&&s(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u)),6,l),new o(o.Mode.ALPHANUMERIC,a.length,l)},o.makeSegments=function(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]},o.makeEci=function(a){var l=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)s(a,8,l);else if(a<16384)s(2,2,l),s(a,14,l);else if(a<1e6)s(6,3,l),s(a,21,l);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,l)},o.isNumeric=function(a){return o.NUMERIC_REGEX.test(a)},o.isAlphanumeric=function(a){return o.ALPHANUMERIC_REGEX.test(a)},o.prototype.getData=function(){return this.bitData.slice()},o.getTotalBits=function(a,l){for(var u=0,c=0,d=a;c<d.length;c++){var h=d[c],f=h.mode.numCharCountBits(l);if(h.numChars>=1<<f)return 1/0;u+=4+f+h.bitData.length}return u},o.toUtf8ByteArray=function(a){a=encodeURI(a);for(var l=[],u=0;u<a.length;u++)a.charAt(u)!="%"?l.push(a.charCodeAt(u)):(l.push(parseInt(a.substring(u+1,u+3),16)),u+=2);return l},o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",o}();t.QrSegment=i})(Yt||(Yt={}));(function(t){(function(e){var s=function(){function r(n,i){this.ordinal=n,this.formatBits=i}return r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),r}();e.Ecc=s})(t.QrCode||(t.QrCode={}))})(Yt||(Yt={}));(function(t){(function(e){var s=function(){function r(n,i){this.modeBits=n,this.numBitsCharCount=i}return r.prototype.numCharCountBits=function(n){return this.numBitsCharCount[Math.floor((n+7)/17)]},r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),r}();e.Mode=s})(t.QrSegment||(t.QrSegment={}))})(Yt||(Yt={}));var as=Yt,yi="L",_i={L:as.QrCode.Ecc.LOW,M:as.QrCode.Ecc.MEDIUM,Q:as.QrCode.Ecc.QUARTILE,H:as.QrCode.Ecc.HIGH},E0=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function bi(t){return t in _i}function Ol(t,e){e===void 0&&(e=0);var s=[];return t.forEach(function(r,n){var i=null;r.forEach(function(o,a){if(!o&&i!==null){s.push("M".concat(i+e," ").concat(n+e,"h").concat(a-i,"v1H").concat(i+e,"z")),i=null;return}if(a===r.length-1){if(!o)return;i===null?s.push("M".concat(a+e,",").concat(n+e," h1v1H").concat(a+e,"z")):s.push("M".concat(i+e,",").concat(n+e," h").concat(a+1-i,"v1H").concat(i+e,"z"));return}o&&i===null&&(i=a)})}),s.join("")}function Al(t,e,s,r){var n=r.width,i=r.height,o=r.x,a=r.y,l=t.length+s*2,u=Math.floor(e*.1),c=l/e,d=(n||u)*c,h=(i||u)*c,f=o==null?t.length/2-d/2:o*c,w=a==null?t.length/2-h/2:a*c,x=null;if(r.excavate){var C=Math.floor(f),A=Math.floor(w),j=Math.ceil(d+f-C),E=Math.ceil(h+w-A);x={x:C,y:A,w:j,h:E}}return{x:f,y:w,h,w:d,excavation:x}}function Rl(t,e){return t.slice().map(function(s,r){return r<e.y||r>=e.y+e.h?s:s.map(function(n,i){return i<e.x||i>=e.x+e.w?n:!1})})}var wi={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:yi,validator:function(t){return bi(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(t){return["linear","radial"].indexOf(t)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},C0=ht(ht({},wi),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),P0=mt({name:"QRCodeSvg",props:wi,setup:function(t){var e=W(0),s=W(""),r,n=function(){var o=t.value,a=t.level,l=t.margin,u=l>>>0,c=bi(a)?a:yi,d=as.QrCode.encodeText(o,_i[c]).getModules();if(e.value=d.length+u*2,t.imageSettings.src){var h=Al(d,t.size,u,t.imageSettings);r={x:h.x+u,y:h.y+u,width:h.w,height:h.h},h.excavation&&(d=Rl(d,h.excavation))}s.value=Ol(d,u)},i=function(){if(!t.gradient)return null;var o=t.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Fe(t.gradientType==="linear"?"linearGradient":"radialGradient",ht({id:"qr-gradient"},o),[Fe("stop",{offset:"0%",style:{stopColor:t.gradientStartColor}}),Fe("stop",{offset:"100%",style:{stopColor:t.gradientEndColor}})])};return n(),ii(n),function(){return Fe("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.value," ").concat(e.value)},[Fe("defs",{},[i()]),Fe("rect",{width:"100%",height:"100%",fill:t.background}),Fe("path",{fill:t.gradient?"url(#qr-gradient)":t.foreground,d:s.value}),t.imageSettings.src&&Fe("image",ht({href:t.imageSettings.src},r))])}}}),T0=mt({name:"QRCodeCanvas",props:wi,setup:function(t,e){var s=W(null),r=W(null),n=function(){var o=t.value,a=t.level,l=t.size,u=t.margin,c=t.background,d=t.foreground,h=t.gradient,f=t.gradientType,w=t.gradientStartColor,x=t.gradientEndColor,C=u>>>0,A=bi(a)?a:yi,j=s.value;if(j){var E=j.getContext("2d");if(E){var k=as.QrCode.encodeText(o,_i[A]).getModules(),D=k.length+C*2,J=r.value,V={x:0,y:0,width:0,height:0},ge=t.imageSettings.src&&J!=null&&J.naturalWidth!==0&&J.naturalHeight!==0;if(ge){var ve=Al(k,t.size,C,t.imageSettings);V={x:ve.x+C,y:ve.y+C,width:ve.w,height:ve.h},ve.excavation&&(k=Rl(k,ve.excavation))}var we=window.devicePixelRatio||1,Ee=l/D*we;if(j.height=j.width=l*we,E.scale(Ee,Ee),E.fillStyle=c,E.fillRect(0,0,D,D),h){var _e=void 0;f==="linear"?_e=E.createLinearGradient(0,0,D,D):_e=E.createRadialGradient(D/2,D/2,0,D/2,D/2,D/2),_e.addColorStop(0,w),_e.addColorStop(1,x),E.fillStyle=_e}else E.fillStyle=d;E0?E.fill(new Path2D(Ol(k,C))):k.forEach(function(ye,tt){ye.forEach(function(He,me){He&&E.fillRect(me+C,tt+C,1,1)})}),ge&&E.drawImage(J,V.x,V.y,V.width,V.height)}}};et(n),ii(n);var i=e.attrs.style;return function(){return Fe(Y,[Fe("canvas",ht(ht({},e.attrs),{ref:s,style:ht(ht({},i),{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")})})),t.imageSettings.src&&Fe("img",{ref:r,src:t.imageSettings.src,style:{display:"none"},onLoad:n})])}}}),$0=mt({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,s=t.value,r=t.size,n=t.margin,i=t.level,o=t.background,a=t.foreground,l=t.imageSettings,u=t.gradient,c=t.gradientType,d=t.gradientStartColor,h=t.gradientEndColor;return Fe(e==="svg"?P0:T0,{value:s,size:r,margin:n,level:i,background:o,foreground:a,imageSettings:l,gradient:u,gradientType:c,gradientStartColor:d,gradientEndColor:h})},props:C0});const O0={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},A0={class:"flex items-center justify-center min-h-screen px-4"},R0={class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-sm w-full"},I0={class:"flex flex-col items-center gap-4"},j0={class:"text-lg font-bold dark:text-white"},M0={key:0,class:"w-full"},L0={class:"text-center my-2"},D0=["href"],N0={key:1,class:"text-center text-red-500 dark:text-red-400"},U0={key:2,class:"text-center text-gray-600 dark:text-gray-300"},F0=mt({__name:"PlayerShare",props:{show:{type:Boolean},player:{},players:{}},emits:["close"],setup(t){const e=t,s=W(""),r=W(!1),n=Re(()=>s.value?`${window.location.origin+"/jatsapp"}/share?id=${s.value}`:""),i=()=>e.players.filter(l=>l.name!==e.player.name).map(l=>({name:l.name,total:Object.values(l.scores).reduce((u,c)=>u+(c||0),0)})),o=async()=>{if(e.player){r.value=!1,s.value="";try{const l={player_name:e.player.name,scores:e.player.scores,total:Object.values(e.player.scores).reduce((d,h)=>d+(h||0),0),other_players:i(),updated_at:new Date().toISOString()},{data:u,error:c}=await kt.from("shared_scores").upsert(l).select().single();if(c)throw c;if(!(u!=null&&u.id))throw new Error("No ID returned");s.value=u.id}catch(l){console.error("Failed to initialize share:",l),r.value=!0}}},a=async()=>{try{await navigator.clipboard.writeText(n.value),alert("Link copied to clipboard!")}catch(l){console.error("Failed to copy:",l),alert("Failed to copy link")}};return iu(()=>{e.show&&e.player&&o()}),(l,u)=>{var c;return l.show?($(),I("div",O0,[g("div",A0,[g("div",{class:"fixed inset-0 bg-black opacity-50",onClick:u[0]||(u[0]=d=>l.$emit("close"))}),g("div",R0,[g("div",I0,[g("h3",j0," Share "+U((c=l.player)==null?void 0:c.name)+"'s Stats ",1),s.value?($(),I("div",M0,[ae($0,{value:n.value,class:"bg-white p-2 rounded w-full",size:200,level:"M","render-as":"svg"},null,8,["value"]),u[2]||(u[2]=g("div",{class:"text-sm text-gray-600 dark:text-gray-300 mt-4 text-center"}," Scan with phone camera or ",-1)),g("div",L0,[g("a",{href:n.value,target:"_blank",class:"text-center my-2 text-blue-500 hover:text-blue-600 dark:text-blue-400 hover:underline"},"Share URL",8,D0)]),g("div",{class:"flex gap-2 mt-2"},[g("button",{onClick:a,class:"flex-1 px-4 py-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700"}," Copy Link ")])])):r.value?($(),I("div",N0," Failed to generate share link. Please try again. ")):($(),I("div",U0," Generating share link... ")),g("button",{onClick:u[1]||(u[1]=d=>l.$emit("close")),class:"mt-4 px-4 py-2 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700"}," Close ")])])])])):pe("",!0)}}}),B0={class:"flex justify-around items-center mb-1"},H0={class:"rounded-lg overflow-x-auto"},z0={class:"max-h-[80vh] overflow-y-auto"},G0={class:"w-full text-sm relative"},K0={class:"sticky top-0 z-20"},q0={class:"dark:bg-gray-800 bg-white"},V0={class:"flex flex-col items-center"},W0={class:"flex items-center gap-1"},J0=["onClick"],Q0=["onClick"],Y0={key:0,class:"text-xs"},X0={class:"px-2 py-0 bg-white dark:bg-gray-900"},Z0={class:"flex justify-between items-center text-sm"},em={class:"text-xs text-gray-500"},tm=["onClick"],sm={class:"px-2 bg-white dark:bg-gray-900"},rm={class:"flex justify-between items-center text-sm"},nm={class:"text-xs text-gray-500"},im={class:"bg-blue-50 dark:bg-blue-900"},om={class:"bg-green-100 dark:bg-green-900"},am={class:"px-2 bg-white dark:bg-gray-900"},lm={class:"flex justify-between items-center text-sm"},cm={class:"text-xs text-gray-500"},um=["onClick"],dm={class:"px-2 bg-white dark:bg-gray-900"},hm={class:"flex justify-between items-center text-sm"},fm={class:"text-xs text-gray-500"},pm={class:"sticky bottom-0 z-20"},gm={class:"bg-gray-100 dark:bg-gray-800"},mm={class:"bg-yellow-100 font-bold text-sm dark:bg-yellow-900"},vm={class:"flex flex-col gap-4"},ym={class:"text-sm dark:text-gray-300"},_m=["disabled"],bm={class:"flex flex-col gap-4"},wm={class:"text-center"},xm=mt({__name:"ScoreTable",props:{players:{}},emits:["reset-scores","remove-player"],setup(t,{emit:e}){const s=er(),r=W(!1),n=t,i=e,o=["Ones","Twos","Threes","Fours","Fives","Sixes"],a=["One Pair","Two Pairs","Three of a Kind","Four of a Kind","Full House","Small Straight","Large Straight","Yahtzee","Chance"],l=W(null),u=W(""),c=W(0),d=W(null),h=v=>o.reduce((_,y)=>_+(v.scores[y]||0),0),f=v=>{const _=h(v),y=_>=63?50:0,T=a.reduce((H,Z)=>H+(v.scores[Z]||0),0);return _+y+T},w=()=>{l.value=null,u.value="",c.value=0},x=async(v,_)=>{v.scores[_]!==void 0?c.value=v.scores[_]:c.value=E(_),l.value=v,u.value=_,Dr().then(()=>{document.getElementById("modalScoreInput").focus(),document.getElementById("modalScoreInput").select(),document.getElementById("modalScoreInput").style.color="blue",document.getElementById("modalScoreInput").click()})},C=()=>{confirm("Are you sure you want to end the game? This will save the results and reset all scores.")&&(saveGameHistory(),localStorage.removeItem("yatzyGameState"),s.push("/"))},A=()=>{confirm("Are you sure you want to cancel the game? All progress will be lost.")&&(localStorage.removeItem("yatzyGameState"),s.push("/"))},j=()=>{s.push("/")},E=v=>{switch(v){case"Small Straight":return 15;case"Large Straight":return 20;case"Yahtzee":return 50;default:return c.value}},k=(v,_)=>{if(_===0)return!0;const T={Ones:1,Twos:2,Threes:3,Fours:4,Fives:5,Sixes:6}[v];if(!T)return!0;if(_%T!==0)return!1;const H=T*5;return!(_>H)},D=(v,_)=>{delete v.scores[_],w()},J=async()=>{const{data:v}=await kt.from("shared_scores").select("id, player_name").in("player_name",n.players.map(_=>_.name));if(v)for(const _ of v){const y=n.players.find(T=>T.name===_.player_name);if(y){const T=n.players.filter(H=>H.name!==y.name).map(H=>({name:H.name,scores:H.scores,total:f(H)}));await kt.from("shared_scores").update({scores:y.scores,total:f(y),other_players:T,updated_at:new Date().toISOString()}).eq("id",_.id)}}},V=async(v,_)=>{r.value=!0;const y=c.value;if(y===0||y){if(y>=0){if(!k(_,y)&&!confirm(`Warning: ${y} seems invalid for ${_}. Are you sure?`))return;v.scores[_]=y,await J(),w(),r.value=!1}}else delete v.scores[_],await J(),w(),r.value=!1},ge=v=>{let _=0;return o.forEach((y,T)=>{const H=T+1,Z=v.scores[y];Z!==void 0&&Z!=="-"&&!isNaN(parseInt(Z))?_+=parseInt(Z):_+=H*3}),_-63},ve=v=>v>0?`+${v}`:v.toString(),we=v=>{switch(v){case"Ones":return 5;case"Twos":return 10;case"Threes":return 15;case"Fours":return 20;case"Fives":return 25;case"Sixes":return 30;case"One Pair":return 12;case"Two Pairs":return 22;case"Three of a Kind":return 30;case"Four of a Kind":return 30;case"Full House":return 28;case"Small Straight":return 15;case"Large Straight":return 20;case"Yahtzee":return 50;case"Chance":return 30;default:return 0}},Ee=v=>{let _=0;[...o,...a].forEach(H=>{const Z=v.scores[H];Z!==void 0&&Z!=="-"&&!isNaN(parseInt(Z))?_+=parseInt(Z):_+=we(H)});const y=h(v),T=o.filter(H=>v.scores[H]===void 0).reduce((H,Z)=>H+we(Z),0);return y+T>=63&&(_+=50),_},{getAverageForCategory:_e,formatAverage:ye}=y0(),tt=v=>JSON.parse(localStorage.getItem("yatzyGameHistory")||"[]").filter(y=>y.winner===v).length,He=Re(()=>n.players.map(v=>({...v,wins:tt(v.name)}))),me=v=>{const _=n.players.map(T=>({name:T.name,total:f(T)}));_.sort((T,H)=>H.total-T.total);const y=_.findIndex(T=>T.name===v.name);if(_.length<=1)return"";if(y===0)return"bg-green-100 dark:bg-green-900";if(y===_.length-1)return"bg-red-100 dark:bg-red-900";{const T=_.length-1;return y/T<=.5?"bg-lime-50 dark:bg-lime-900/50":"bg-orange-50 dark:bg-orange-900/50"}},se=W(!1),X=W(""),Le=W(null),De=W(null),ze=()=>{X.value.trim()&&(n.players.push({name:X.value.trim(),scores:{},total:0}),se.value=!1,X.value="")},Pe=()=>{se.value=!1,X.value=""},Ct=v=>{i("remove-player",v)},Pt=()=>{Le.value=null},es=()=>{Le.value=null},Ne=v=>{De.value=v};return(v,_)=>($(),I("div",null,[g("div",B0,[g("button",{onClick:C,class:"bg-red-500 hover:bg-red-600 text-white py-1 text-xs px-2 rounded dark:bg-red-600 dark:hover:bg-red-700"}," End "),g("button",{onClick:A,class:"bg-gray-500 hover:bg-gray-600 text-white py-1 text-xs px-2 rounded dark:bg-gray-600 dark:hover:bg-gray-700"}," Cancel "),g("button",{onClick:j,class:"bg-blue-500 hover:bg-blue-600 text-white py-1 text-xs px-2 rounded dark:bg-blue-600 dark:hover:bg-blue-700"}," Pause "),g("button",{onClick:_[0]||(_[0]=y=>se.value=!0),class:"bg-green-500 hover:bg-green-600 text-white text-xs px-2 py-1 rounded dark:bg-green-600 dark:hover:bg-green-700"}," Add Player "),g("button",{onClick:_[1]||(_[1]=y=>v.$emit("reset-scores")),class:"bg-orange-500 hover:bg-orange-600 text-white text-xs px-2 py-1 rounded dark:bg-orange-600 dark:hover:bg-orange-700"}," Reset Scores ")]),g("div",H0,[g("div",z0,[g("table",G0,[g("thead",K0,[g("tr",q0,[_[8]||(_[8]=g("th",{class:"w-4/12 md:w-2/12 px-2 py-0 text-left bg-inherit"},"Category",-1)),($(!0),I(Y,null,fe(He.value,y=>($(),I("th",{key:y.name,class:St(["w-1/12 px-2 py-0 transition-colors duration-300",me(y)])},[g("div",V0,[g("div",W0,[g("span",null,U(y.name),1),g("button",{onClick:so(T=>Ct(y),["stop"]),class:"text-red-500 hover:text-red-600 dark:text-red-400 hover:scale-125 transition-transform",title:"Remove player"}," × ",8,J0),g("button",{onClick:so(T=>Ne(y),["stop"]),class:"text-blue-500 hover:text-blue-600 dark:text-blue-400 hover:scale-125 transition-transform",title:"Share player stats"}," 📤 ",8,Q0)]),y.wins>0?($(),I("span",Y0,U(y.wins)+" "+U(y.wins===1?"win":"wins"),1)):pe("",!0)])],2))),128)),_[9]||(_[9]=g("th",{class:"w-4/12 md:w-2/12 px-2 py-0 text-left bg-inherit"},"Category",-1))])]),g("tbody",null,[($(),I(Y,null,fe(o,y=>g("tr",{key:y},[g("td",X0,[g("div",Z0,[g("span",null,U(y),1),g("span",em,"("+U(ke(ye)(ke(_e)(y)))+")",1)])]),($(!0),I(Y,null,fe(v.players,T=>($(),I("td",{key:T.name,class:"px-1 text-center"},[g("div",{onClick:H=>x(T,y),class:"min-w-[1.5rem] min-h-[1.5rem] rounded border border-gray-300 dark:border-gray-500 flex items-center justify-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 text-lg"},U(T.scores[y]!==void 0?T.scores[y]:"-"),9,tm)]))),128)),g("td",sm,[g("div",rm,[g("span",null,U(y),1),g("span",nm,"("+U(ke(ye)(ke(_e)(y)))+")",1)])])])),64)),g("tr",im,[_[10]||(_[10]=g("td",{class:"px-2 font-bold bg-inherit"},"(+/-)",-1)),($(!0),I(Y,null,fe(v.players,y=>($(),I("td",{key:y.name,class:St(["px-1 text-center text-md",{"text-red-600":ge(y)<0,"text-green-600":ge(y)>0}])},U(ve(ge(y))),3))),128)),_[11]||(_[11]=g("td",{class:"px-2 font-bold bg-inherit"},"(+/-)",-1))]),g("tr",om,[_[12]||(_[12]=g("td",{class:"px-2 font-bold bg-inherit"},"Bonus ",-1)),($(!0),I(Y,null,fe(v.players,y=>($(),I("td",{key:y.name,class:"px-1 text-center text-md"},U(h(y)>=63?50:0),1))),128)),_[13]||(_[13]=g("td",{class:"px-2 font-bold bg-inherit"},"Bonus ",-1))]),($(),I(Y,null,fe(a,y=>g("tr",{key:y},[g("td",am,[g("div",lm,[g("span",null,U(y),1),g("span",cm,"("+U(ke(ye)(ke(_e)(y)))+")",1)])]),($(!0),I(Y,null,fe(v.players,T=>($(),I("td",{key:T.name,class:"px-1 text-center"},[g("div",{onClick:H=>x(T,y),class:"min-w-[1.5rem] min-h-[1.5rem] rounded border border-gray-300 dark:border-gray-500 flex items-center justify-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 text-lg"},U(T.scores[y]!==void 0?T.scores[y]:"-"),9,um)]))),128)),g("td",dm,[g("div",hm,[g("span",null,U(y),1),g("span",fm,"("+U(ke(ye)(ke(_e)(y)))+")",1)])])])),64))]),g("tfoot",pm,[g("tr",gm,[_[14]||(_[14]=g("td",{class:"px-2 font-bold bg-inherit"},"Theoretical",-1)),($(!0),I(Y,null,fe(v.players,y=>($(),I("td",{key:y.name,class:"px-1 text-center text-md"},U(Ee(y)),1))),128)),_[15]||(_[15]=g("td",{class:"px-2 font-bold bg-inherit"},"Theoretical",-1))]),g("tr",mm,[_[16]||(_[16]=g("td",{class:"px-2 bg-inherit"},"Total Score",-1)),($(!0),I(Y,null,fe(v.players,y=>($(),I("td",{key:y.name,class:St(["px-1 text-center text-md transition-colors duration-300",me(y)])},U(f(y)),3))),128)),_[17]||(_[17]=g("td",{class:"px-2 bg-inherit"},"Total Score",-1))])])])])]),ae(_n,{show:!!l.value,title:`Enter points for ${u.value}`},{actions:Rt(()=>[g("button",{onClick:_[4]||(_[4]=y=>D(l.value,u.value)),class:"px-4 py-2 text-sm bg-orange-500 text-white rounded hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-700"}," Clear "),g("button",{onClick:w,class:"px-4 py-2 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700"}," Cancel "),g("button",{onClick:_[5]||(_[5]=y=>V(l.value,u.value)),disabled:r.value,class:"px-4 py-2 text-sm bg-green-500 text-white rounded hover:bg-green-600 dark:bg-green-600 dark:hover:bg-green-700"},U(r.value?"Saving...":"Save"),9,_m)]),default:Rt(()=>{var y;return[g("div",vm,[g("div",ym," Player: "+U((y=l.value)==null?void 0:y.name),1),wr(g("input",{"onUpdate:modelValue":_[2]||(_[2]=T=>c.value=T),type:"text",inputmode:"numeric",class:"w-full border border-gray-300 px-3 py-2 rounded text-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100",ref_key:"scoreInputRef",ref:d,id:"modalScoreInput",onKeyup:_[3]||(_[3]=In(T=>V(l.value,u.value),["enter"])),autofocus:""},null,544),[[Rn,c.value,void 0,{number:!0}]])])]}),_:1},8,["show","title"]),ae(_n,{show:se.value,title:"Add New Player"},{actions:Rt(()=>[g("button",{onClick:Pe,class:"px-4 py-2 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700"}," Cancel "),g("button",{onClick:ze,class:"px-4 py-2 text-sm bg-green-500 text-white rounded hover:bg-green-600 dark:bg-green-600 dark:hover:bg-green-700"}," Add ")]),default:Rt(()=>[g("div",bm,[wr(g("input",{"onUpdate:modelValue":_[6]||(_[6]=y=>X.value=y),type:"text",class:"w-full border border-gray-300 px-3 py-2 rounded text-lg dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100",placeholder:"Enter player name",onKeyup:In(ze,["enter"])},null,544),[[Rn,X.value]])])]),_:1},8,["show"]),ae(_n,{show:Le.value!==null,title:"Remove Player"},{actions:Rt(()=>[g("button",{onClick:es,class:"px-4 py-2 text-sm bg-gray-500 text-white rounded hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700"}," Cancel "),g("button",{onClick:Pt,class:"px-4 py-2 text-sm bg-red-500 text-white rounded hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700"}," Remove ")]),default:Rt(()=>{var y;return[g("div",wm,[xt(" Are you sure you want to remove "+U((y=Le.value)==null?void 0:y.name)+"? ",1),_[18]||(_[18]=g("br",null,null,-1)),_[19]||(_[19]=xt(" All scores will be lost. "))])]}),_:1},8,["show"]),De.value!=null?($(),Ks(F0,{key:0,show:De.value!=null,player:De.value,players:n.players,onClose:_[7]||(_[7]=y=>De.value=null)},null,8,["show","player","players"])):pe("",!0)]))}}),km={key:0},Sm={key:1},Em={__name:"GameView",setup(t){er();const e=W([]),s=W(!1);et(()=>{const o=localStorage.getItem("yatzyGameState");if(o){const a=JSON.parse(o);e.value=a.players,s.value=a.gameStarted}}),Ms([e,s],()=>{localStorage.setItem("yatzyGameState",JSON.stringify({players:e.value,gameStarted:s.value}))},{deep:!0});const r=o=>{e.value=o.map(a=>({name:a,scores:{},total:0})),s.value=!0},n=()=>{confirm("Are you sure you want to reset all scores? This cannot be undone.")&&(e.value=e.value.map(o=>({...o,scores:{},total:0})))},i=o=>{confirm(`Are you sure you want to remove ${o.name}? Their scores will be lost.`)&&e.value.findIndex(l=>l.name===o.name)!==-1&&(e.value=e.value.filter(l=>l.name!==o.name))};return(o,a)=>($(),I("div",null,[s.value?($(),I("div",Sm,[ae(xm,{players:e.value,onResetScores:n,onRemovePlayer:i},null,8,["players"])])):($(),I("div",km,[ae(v0,{onPlayersAdded:r})]))]))}},Cm={class:"max-w-md mx-auto p-4"},Pm={key:0,class:"space-y-4"},Tm={class:"text-xl font-bold"},$m={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow"},Om={class:"text-2xl font-bold text-center mb-4"},Am={class:"mb-6 space-y-2"},Rm={key:0,class:"font-bold"},Im={key:1,class:"text-gray-400"},jm={class:"flex justify-between items-center py-1 bg-gray-50 dark:bg-gray-700 px-2 rounded"},Mm={class:"font-bold"},Lm={class:"text-sm text-gray-500 ml-2"},Dm={class:"space-y-2"},Nm={key:0,class:"font-bold"},Um={key:1,class:"text-gray-400"},Fm={class:"text-sm text-gray-500 dark:text-gray-400 text-center"},Bm={key:1,class:"text-center text-gray-500 dark:text-gray-400"},Hm={key:2,class:"mt-6"},zm={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow space-y-2"},Gm={class:"flex items-center gap-2"},Km={class:"text-lg"},qm={class:"flex items-center gap-2"},Vm={class:"font-bold"},Wm={key:0,class:"text-sm text-gray-500"},Jm=mt({__name:"ShareView",setup(t){const e={Ones:5,Twos:10,Threes:15,Fours:20,Fives:25,Sixes:30},s={"One Pair":12,"Two Pairs":22,"Three of a Kind":30,"Four of a Kind":30,"Full House":28,"Small Straight":15,"Large Straight":20,Yahtzee:50,Chance:30},r=W(null);let n=null;const i=()=>r.value?Object.entries(e).reduce((u,[c])=>{var d;return u+(((d=r.value)==null?void 0:d.scores[c])||0)},0):0,o=()=>{if(!r.value)return 0;let u=0;return Object.entries(e).forEach(([c,d],h)=>{var x;const f=h+1,w=(x=r.value)==null?void 0:x.scores[c];w!==void 0&&!isNaN(parseInt(w.toString()))?u+=parseInt(w.toString()):u+=f*3}),u-63},a=u=>u>0?`+${u}`:u.toString(),l=Re(()=>r.value?[{name:r.value.player_name,total:r.value.total},...r.value.other_players.map(c=>({name:c.name,total:c.total}))].sort((c,d)=>d.total-c.total):[]);return et(async()=>{const u=new URLSearchParams(window.location.search).get("id");if(u){const{data:c,error:d}=await kt.from("shared_scores").select("*").eq("id",u).single();if(d){console.error("Error fetching scores:",d);return}r.value=c,n=kt.channel("shared_scores").on("postgres_changes",{event:"UPDATE",schema:"public",table:"shared_scores",filter:`id=eq.${u}`},h=>{r.value=h.new}).subscribe()}}),oi(()=>{n==null||n.unsubscribe()}),(u,c)=>{var d;return $(),I("div",Cm,[r.value?($(),I("div",Pm,[g("h2",Tm,U(r.value.player_name)+"'s Score",1),g("div",$m,[g("div",Om,"Current Total: "+U(r.value.total),1),g("div",Am,[($(),I(Y,null,fe(e,(h,f)=>g("div",{key:f,class:"flex justify-between items-center py-1 border-b dark:border-gray-700"},[g("span",null,U(f),1),r.value.scores[f]?($(),I("span",Rm,U(r.value.scores[f]),1)):($(),I("span",Im,"-"))])),64)),g("div",jm,[c[0]||(c[0]=g("div",null,[g("span",null,"Bonus"),g("span",{class:"text-xs text-gray-500 ml-2"},"(if sum ≥ 63)")],-1)),g("div",Mm,[g("span",null,U(i()>=63?"+50":`${i()}/63`),1),g("span",Lm,"("+U(a(o()))+")",1)])])]),g("div",Dm,[($(),I(Y,null,fe(s,(h,f)=>g("div",{key:f,class:"flex justify-between items-center py-1 border-b dark:border-gray-700"},[g("span",null,U(f),1),r.value.scores[f]?($(),I("span",Nm,U(r.value.scores[f]),1)):($(),I("span",Um,"-"))])),64))])]),g("div",Fm," Last updated: "+U(new Date(r.value.updated_at).toLocaleString()),1)])):($(),I("div",Bm,"Loading scores...")),r.value&&((d=r.value.other_players)!=null&&d.length)?($(),I("div",Hm,[c[1]||(c[1]=g("h3",{class:"text-lg font-bold mb-2"},"Current Standings",-1)),g("div",zm,[($(!0),I(Y,null,fe(l.value,(h,f)=>($(),I("div",{key:h.name,class:St(["flex items-center justify-between p-2 rounded",{"bg-yellow-50 dark:bg-yellow-900/50":f===0,"bg-gray-50 dark:bg-gray-700":f!==0}])},[g("div",Gm,[g("span",Km,U(["🥇","🥈","🥉"][f]||f+1),1),g("span",{class:St({"font-bold":h.name===r.value.player_name})},U(h.name),3)]),g("div",qm,[g("span",Vm,U(h.total),1),f>0?($(),I("span",Wm," (-"+U(l.value[0].total-h.total)+") ",1)):pe("",!0)])],2))),128))])])):pe("",!0)])}}}),Qm=hh({history:Hd("/jatsapp"),routes:[{path:"/",name:"home",component:a0},{path:"/game",name:"game",component:Em},{path:"/share",name:"share",component:Jm}]}),Il=ed(dd);Il.use(Qm);Il.mount("#app");export{Ym as g};
